(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{fm87:function(t,e,n){"use strict";n.r(e),n.d(e,"ReportsModule",(function(){return V}));var o=n("hc6j"),r=n("5TcN"),b=n("ofXK"),i=n("3Pt+"),a=n("njyG"),d=n("ZOsW"),c=n("tyNb"),s=n("fXoL");let l=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-reports-component"]],decls:1,vars:0,template:function(t,e){1&t&&s.Kb(0,"router-outlet")},directives:[c.j],styles:[""]}),t})();var p=n("XNiG"),g=n("oo4J"),O=n("bUwk");let P=(()=>{class t{constructor(t){this.httpService=t}getRateListCore(){return this.httpService.get(g.a.RATE_LIST_CORE)}getDistributorPurchaseHistory(){return this.httpService.get(g.a.DISTRIBUTOR_PURCHASE_HISTORY)}getPurchasedOrderDetais(t){return this.httpService.get(`${g.a.PURCHASE_DETAIL}/${t}`)}getDailySaleReportBySalemanAndDate(t,e){return this.httpService.get(`${g.a.GET_DAILY_SALE_REPORTS}/${e}/${t}`)}getDSRDetail(t){return this.httpService.get(`${g.a.GET_DSR_DETAIL}/${t}`)}}return t.\u0275fac=function(e){return new(e||t)(s.Tb(O.a))},t.\u0275prov=s.Fb({token:t,factory:t.\u0275fac}),t})();var u=n("ZgVV"),h=n("uoBr");const v=function(t){return["/reports/purchase",t]};function m(t,e){if(1&t&&(s.Pb(0,"tr"),s.Pb(1,"td"),s.vc(2),s.Ob(),s.Pb(3,"td"),s.vc(4),s.Ob(),s.Pb(5,"td"),s.vc(6),s.Ob(),s.Pb(7,"td"),s.vc(8),s.Ob(),s.Pb(9,"td"),s.Pb(10,"button",13),s.vc(11,"Details"),s.Ob(),s.Ob(),s.Ob()),2&t){const t=e.$implicit;s.yb(2),s.wc(t.payload.poDate),s.yb(2),s.wc(t.payload.receivedNo),s.yb(2),s.wc(t.payload.invoiceNo),s.yb(2),s.wc(t.payload.poNo),s.yb(2),s.ec("routerLink",s.ic(5,v,t.id))}}function f(t,e){if(1&t&&(s.Pb(0,"table",11),s.Pb(1,"thead"),s.Pb(2,"tr"),s.Pb(3,"th"),s.vc(4,"Purchase Date"),s.Ob(),s.Pb(5,"th"),s.vc(6,"Received No."),s.Ob(),s.Pb(7,"th"),s.vc(8,"Inv. No."),s.Ob(),s.Pb(9,"th"),s.vc(10,"P.O No."),s.Ob(),s.Pb(11,"th"),s.vc(12,"Action"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"tbody"),s.tc(14,m,12,7,"tr",12),s.Ob(),s.Ob()),2&t){const t=s.Yb();s.ec("dtTrigger",t.dtTrigger)("dtOptions",t.dtOptions),s.yb(14),s.ec("ngForOf",t.purchasesHistory)}}function _(t,e){1&t&&(s.Pb(0,"div"),s.Kb(1,"app-loader-white"),s.Ob())}let y=(()=>{class t{constructor(t,e){this.reportService=t,this.toastService=e,this.dtOptions={},this.dtTrigger=new p.a}ngOnInit(){this.dtOptions={pagingType:"simple_numbers"},this.purchasesHistory=[],this.getPurchasesHistory()}getPurchasesHistory(){this.loading=!0,this.reportService.getDistributorPurchaseHistory().subscribe(t=>{this.loading=!1,200===t.status&&(this.purchasesHistory=t.data.map(t=>Object.assign(Object.assign({},t),{payload:JSON.parse(t.payload)})),console.log("this.purchasesHistory :>> ",this.purchasesHistory),setTimeout(()=>{this.dtTrigger.next()},1))},t=>{1!==t.status&&401!==t.status&&this.toastService.showToaster({title:"Error:",type:"error",message:"Something went wrong please try again"})})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(P),s.Jb(u.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-purchase-history"]],decls:22,vars:2,consts:[[1,"container"],[1,"row","mt-2","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"body"],["datatable","","class","table table-hover dt-responsive nowrap","id","example","style","width:100%",3,"dtTrigger","dtOptions",4,"ngIf"],[4,"ngIf"],["datatable","","id","example",1,"table","table-hover","dt-responsive","nowrap",2,"width","100%",3,"dtTrigger","dtOptions"],[4,"ngFor","ngForOf"],[1,"btn","btn-default","m-0",3,"routerLink"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"h2",3),s.vc(4,"Distributor "),s.Pb(5,"span"),s.vc(6," Purchase"),s.Ob(),s.Ob(),s.Ob(),s.Pb(7,"div",2),s.Pb(8,"ol",4),s.Pb(9,"li"),s.Pb(10,"a"),s.Pb(11,"span"),s.vc(12,"Reports"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"li"),s.Pb(14,"span"),s.vc(15,"Purchase History"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",5),s.Pb(17,"div",6),s.Pb(18,"div",7),s.Pb(19,"div",8),s.tc(20,f,15,3,"table",9),s.tc(21,_,2,0,"div",10),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(20),s.ec("ngIf",!e.loading&&e.purchasesHistory),s.yb(1),s.ec("ngIf",e.loading))},directives:[b.k,a.a,b.j,c.g,h.a],styles:[""]}),t})();var x=n("AytR"),M=n("NJqk");function D(t,e){if(1&t&&(s.Pb(0,"ng-option",25),s.vc(1),s.Ob()),2&t){const t=e.$implicit;s.ec("value",t.id),s.yb(1),s.wc(t.name)}}function w(t,e){1&t&&(s.Pb(0,"div",9),s.Pb(1,"h3"),s.vc(2,"Select DSR"),s.Ob(),s.Ob())}function C(t,e){if(1&t&&(s.Pb(0,"ng-option",25),s.vc(1),s.Ob()),2&t){const t=e.$implicit;s.ec("value",t.id),s.yb(1),s.wc(t.unique_id)}}function S(t,e){if(1&t){const t=s.Qb();s.Pb(0,"div",13),s.Pb(1,"div",14),s.Pb(2,"ng-select",26),s.Wb("change",(function(e){return s.oc(t),s.Yb().getDSRDetail(e)})),s.tc(3,C,2,2,"ng-option",16),s.Ob(),s.Ob(),s.Ob()}if(2&t){const t=s.Yb();s.yb(3),s.ec("ngForOf",t.salemanDSR)}}function K(t,e){if(1&t&&(s.Pb(0,"tr"),s.Pb(1,"td"),s.vc(2),s.Ob(),s.Pb(3,"td"),s.vc(4),s.Ob(),s.Pb(5,"td"),s.vc(6),s.Ob(),s.Pb(7,"td"),s.vc(8),s.Zb(9,"number"),s.Ob(),s.Pb(10,"td"),s.vc(11),s.Ob(),s.Pb(12,"td"),s.vc(13),s.Zb(14,"number"),s.Ob(),s.Pb(15,"td"),s.vc(16),s.Zb(17,"number"),s.Ob(),s.Pb(18,"td"),s.vc(19),s.Zb(20,"number"),s.Ob(),s.Ob()),2&t){const t=e.$implicit;s.yb(2),s.wc(t.item_id),s.yb(2),s.wc(t.item_name),s.yb(2),s.wc(t.total_dispatch_qty),s.yb(2),s.wc(s.ac(9,8,t.total_return_qty)),s.yb(3),s.xc("Rs: ",t.item_trade_price,""),s.yb(2),s.xc("Rs: ",s.bc(14,10,t.gross_sale_amount,"1.2-2"),""),s.yb(3),s.wc(s.bc(17,13,t.total_trade_offer,"1.2-2")),s.yb(3),s.xc("Rs. ",s.bc(20,16,t.total_net_amount,"1.2-2"),"")}}function R(t,e){if(1&t&&(s.Pb(0,"table",27),s.Pb(1,"thead"),s.Pb(2,"tr"),s.Pb(3,"th"),s.vc(4,"S.NO"),s.Ob(),s.Pb(5,"th"),s.vc(6,"ITEMS/PRODUCT NAME"),s.Ob(),s.Pb(7,"th"),s.vc(8,"ISSUE"),s.Ob(),s.Pb(9,"th"),s.vc(10,"RETURNS"),s.Ob(),s.Pb(11,"th"),s.vc(12,"T.P"),s.Ob(),s.Pb(13,"th"),s.vc(14,"GROSS AMT."),s.Ob(),s.Pb(15,"th"),s.vc(16,"SCH DIS."),s.Ob(),s.Pb(17,"th"),s.vc(18,"NET AMT."),s.Ob(),s.Ob(),s.Ob(),s.Pb(19,"tbody"),s.tc(20,K,21,19,"tr",28),s.Ob(),s.Ob()),2&t){const t=s.Yb();s.ec("dtOptions",t.dtOptions),s.yb(20),s.ec("ngForOf",null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.content)}}function T(t,e){if(1&t&&(s.Pb(0,"div",5),s.Kb(1,"div",29),s.Pb(2,"div",30),s.Pb(3,"div",31),s.Pb(4,"strong"),s.vc(5,"Gross Sales Amount: "),s.Ob(),s.Pb(6,"span"),s.vc(7),s.Zb(8,"number"),s.Ob(),s.Ob(),s.Pb(9,"div",31),s.Pb(10,"strong"),s.vc(11,"Scheme Discount:"),s.Ob(),s.Pb(12,"span"),s.vc(13),s.Zb(14,"number"),s.Ob(),s.Ob(),s.Pb(15,"div",31),s.Pb(16,"strong"),s.vc(17,"Trade Discount:"),s.Ob(),s.Pb(18,"span"),s.vc(19),s.Zb(20,"number"),s.Ob(),s.Ob(),s.Pb(21,"div",31),s.Pb(22,"strong"),s.vc(23,"Special Discount:"),s.Ob(),s.Pb(24,"span"),s.vc(25),s.Zb(26,"number"),s.Ob(),s.Ob(),s.Pb(27,"div",31),s.Pb(28,"strong"),s.vc(29,"Ind. Discount:"),s.Ob(),s.Pb(30,"span"),s.vc(31),s.Zb(32,"number"),s.Ob(),s.Ob(),s.Pb(33,"div",31),s.Pb(34,"strong"),s.vc(35,"Less Market Return:"),s.Ob(),s.Pb(36,"span"),s.vc(37),s.Zb(38,"number"),s.Ob(),s.Ob(),s.Pb(39,"div",32),s.Pb(40,"strong"),s.vc(41,"Net Sales Amount:"),s.Ob(),s.Pb(42,"span"),s.vc(43),s.Zb(44,"number"),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t){const t=s.Yb();s.yb(7),s.xc("Rs. ",s.bc(8,7,null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.total_gross_amount,"1.2-2"),""),s.yb(6),s.xc("Rs. ",s.bc(14,10,null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.total_trade_offer,"1.2-2"),""),s.yb(6),s.xc("Rs. ",s.bc(20,13,null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.total_trade_discount,"1.2-2"),""),s.yb(6),s.xc("Rs. ",s.bc(26,16,null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.total_special_discount,"1.2-2"),""),s.yb(6),s.xc("Rs. ",s.bc(32,19,null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.total_booker_discount,"1.2-2"),""),s.yb(6),s.xc("Rs. ",s.bc(38,22,null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.total_return_amount,"1.2-2"),""),s.yb(6),s.xc("Rs. ",s.bc(44,25,null==t.dsrData||null==t.dsrData.dsr?null:t.dsrData.dsr.total_net_after_expense,"1.2-2"),"")}}function k(t,e){1&t&&(s.Pb(0,"div",33),s.Kb(1,"app-loader-white"),s.Ob())}function I(t,e){if(1&t){const t=s.Qb();s.Pb(0,"button",34),s.Wb("click",(function(){return s.oc(t),s.Yb().generateDSR()})),s.vc(1,"Generate DSR"),s.Ob()}}let A=(()=>{class t{constructor(t,e,n){this.generalDataService=t,this.toastService=e,this.reportService=n,this.salesmen=[],this.salemanDSR=[],this.dtOptions={},this.dtOptions={pagingType:"simple_numbers"}}ngOnInit(){this.getAllSalesman()}getAllSalesman(){this.generalDataService.getAllSalesMen().subscribe(t=>{200===t.status&&(this.salesmen=t.data)},t=>{1!==t.status&&401!==t.status&&this.toastService.showToaster({title:"Error:",message:"Salesmen not fetched, please try again later!",type:"error"})})}getSaleReportsBySalemanAndDate(){this.orderDate&&this.selecetdSalemanId&&this.reportService.getDailySaleReportBySalemanAndDate(this.selecetdSalemanId,this.orderDate).subscribe(t=>{200===t.status&&(this.salemanDSR=t.data)},t=>{1!==t.status&&401!==t.status&&this.toastService.showToaster({title:"Error:",type:"error",message:"The DSR of selected saleman cannot be fetched, please try again later."})})}getDSRDetail(t){this.selectedDSR=t,this.loading=!0,this.reportService.getDSRDetail(t).subscribe(t=>{this.loading=!1,200===t.status&&(this.dsrData=t.data)},t=>{this.loading=!1,1!==t.status&&401!==t.status&&this.toastService.showToaster({title:"Error:",type:"error",message:"The DSR detail cannot be fetched, please try again later."})})}generateDSR(){window.open(`${x.a.apiDomain}${g.a.DSR_PDF}/${this.selectedDSR}`)}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(M.b),s.Jb(u.a),s.Jb(P))},t.\u0275cmp=s.Db({type:t,selectors:[["app-ds-report"]],decls:42,vars:9,consts:[[1,"container"],[1,"row","mt-2","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header","addPR-head"],[1,"float-left"],[1,"_PR_filter","pr-15",2,"width","170px!important"],[1,"form-group","mb-0",2,"height","auto"],["type","date","id","datepicker","placeholder","",1,"form-control",3,"ngModel","ngModelChange","change"],[1,"_PR_filter","pr-15"],[1,"form-s2"],["placeholder","Select Salesman",1,"form-control","formselect",2,"width","100%!important",3,"ngModel","ngModelChange","change"],[3,"value",4,"ngFor","ngForOf"],["class","float-left",4,"ngIf"],["class","_PR_filter pr-15",4,"ngIf"],[1,"body","pb-0"],["datatable","","class","table table-hover dt-responsive nowrap","id","example","style","width:100%",3,"dtOptions",4,"ngIf"],["class","row",4,"ngIf"],["class","col-12",4,"ngIf"],[1,"col-md-12","text-right",2,"background-color","#f3f3f3","padding","10px 15px","margin-top","5px","margin-bottom","5px"],["class","btn btn-primary",3,"click",4,"ngIf"],[3,"value"],["placeholder","Select DSR",1,"form-control","formselect",2,"width","100%!important",3,"change"],["datatable","","id","example",1,"table","table-hover","dt-responsive","nowrap",2,"width","100%",3,"dtOptions"],[4,"ngFor","ngForOf"],[1,"col-8"],[1,"col-4","PT-20"],[1,"report_value","totalcash"],[1,"report_value","totalcash","border-0"],[1,"col-12"],[1,"btn","btn-primary",3,"click"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"h2",3),s.vc(4,"Daily "),s.Pb(5,"span"),s.vc(6," Sales Report"),s.Ob(),s.Ob(),s.Ob(),s.Pb(7,"div",2),s.Pb(8,"ol",4),s.Pb(9,"li"),s.Pb(10,"a"),s.Pb(11,"span"),s.vc(12,"Report"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"li"),s.Pb(14,"span"),s.vc(15,"DSR"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",5),s.Pb(17,"div",6),s.Pb(18,"div",7),s.Pb(19,"div",8),s.Pb(20,"div",9),s.Pb(21,"h3"),s.vc(22,"Select Date"),s.Ob(),s.Ob(),s.Pb(23,"div",10),s.Pb(24,"div",11),s.Pb(25,"input",12),s.Wb("ngModelChange",(function(t){return e.orderDate=t}))("change",(function(){return e.getSaleReportsBySalemanAndDate()})),s.Ob(),s.Ob(),s.Ob(),s.Pb(26,"div",9),s.Pb(27,"h3"),s.vc(28,"Select Salesman"),s.Ob(),s.Ob(),s.Pb(29,"div",13),s.Pb(30,"div",14),s.Pb(31,"ng-select",15),s.Wb("ngModelChange",(function(t){return e.selecetdSalemanId=t}))("change",(function(){return e.getSaleReportsBySalemanAndDate()})),s.tc(32,D,2,2,"ng-option",16),s.Ob(),s.Ob(),s.Ob(),s.tc(33,w,3,0,"div",17),s.tc(34,S,4,1,"div",18),s.Ob(),s.Pb(35,"div",19),s.tc(36,R,21,2,"table",20),s.tc(37,T,45,28,"div",21),s.tc(38,k,2,0,"div",22),s.Pb(39,"div",5),s.Pb(40,"div",23),s.tc(41,I,2,0,"button",24),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(25),s.ec("ngModel",e.orderDate),s.yb(6),s.ec("ngModel",e.selecetdSalemanId),s.yb(1),s.ec("ngForOf",e.salesmen),s.yb(1),s.ec("ngIf",e.selecetdSalemanId&&e.salemanDSR.length),s.yb(1),s.ec("ngIf",e.selecetdSalemanId&&e.salemanDSR.length),s.yb(2),s.ec("ngIf",!e.loading),s.yb(1),s.ec("ngIf",!e.loading&&e.dsrData),s.yb(1),s.ec("ngIf",e.loading),s.yb(3),s.ec("ngIf",e.selectedDSR))},directives:[i.b,i.e,i.h,d.a,b.j,b.k,d.c,a.a,h.a],pipes:[b.d],styles:["._PR_filter{margin-top:-2px;width:270px!important;float:left}.ng-option,.ng-select .ng-select-container,.ng-select span{text-transform:capitalize}.ng-select .ng-clear-wrapper{display:none}._PR_filter .form-s2 .ng-select{padding:0!important;height:30px!important}._PR_filter .form-s2 .ng-select .ng-select-container{width:100%;font-size:14px;border:none;border-radius:0;min-height:30px!important;height:30px!important}._PR_filter .form-s2 .ng-select .ng-select-container div.ng-input{top:0!important}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input input{height:28px}.addPR-head h3{font-size:14px;padding-right:10px;line-height:2;margin:0}._PR_filter input{box-shadow:none;font-size:13px;height:31px;border-color:#eae9e9}.report_value{background-color:#fff;font-size:14px;position:relative;padding:10px 0;letter-spacing:.5px;margin-bottom:0;margin-top:0;line-height:1;border-bottom:1px solid #eae9e9}.report_value span{font-family:Rationale,sans-serif;line-height:1;font-size:18px;float:right;margin-top:-2px}.addPR-head{font-size:16px;padding:15px 15px 15px 20px!important}"],encapsulation:2}),t})();function $(t,e){if(1&t&&(s.Pb(0,"tr"),s.Pb(1,"td"),s.vc(2),s.Ob(),s.Pb(3,"td"),s.vc(4),s.Ob(),s.Pb(5,"td"),s.vc(6),s.Ob(),s.Pb(7,"td"),s.vc(8),s.Zb(9,"number"),s.Ob(),s.Pb(10,"td"),s.vc(11),s.Ob(),s.Pb(12,"td"),s.vc(13),s.Zb(14,"number"),s.Ob(),s.Pb(15,"td"),s.vc(16),s.Zb(17,"number"),s.Ob(),s.Pb(18,"td"),s.vc(19),s.Zb(20,"number"),s.Ob(),s.Pb(21,"td"),s.vc(22),s.Zb(23,"number"),s.Ob(),s.Pb(24,"td"),s.vc(25),s.Zb(26,"number"),s.Ob(),s.Ob()),2&t){const t=e.$implicit;s.yb(2),s.wc(t.item_sku),s.yb(2),s.wc(t.item_name),s.yb(2),s.wc("regular"===t.type?t.unit_name:""),s.yb(2),s.wc("regular"===t.type?t.quantity:s.ac(9,10,0)),s.yb(3),s.wc("free"===t.type?t.unit_name:"regular"===t.type&&t.free?t.free.unit_name:""),s.yb(2),s.wc("free"===t.type?t.free_quantity:"regular"===t.type&&t.free?t.free.quantity:s.ac(14,12,"")),s.yb(3),s.wc(s.bc(17,14,t.discount_type_value,"1.2-2")),s.yb(3),s.wc(s.bc(20,17,t.discount,"1.2-2")),s.yb(3),s.wc(s.bc(23,20,t.original_amount,"1.2-2")),s.yb(3),s.wc(s.bc(26,23,t.net_amount,"1.2-2"))}}function E(t,e){if(1&t&&(s.Pb(0,"div",8),s.Pb(1,"div",9),s.Pb(2,"div",10),s.Kb(3,"div",11),s.Pb(4,"div",12),s.vc(5," Order Date: "),s.Pb(6,"strong"),s.vc(7),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(8,"div",13),s.Pb(9,"div",5),s.Pb(10,"div",6),s.Pb(11,"div",14),s.Pb(12,"div",15),s.Pb(13,"div",16),s.Pb(14,"span"),s.vc(15,"Received No: "),s.Ob(),s.Pb(16,"strong"),s.vc(17),s.Ob(),s.Kb(18,"br"),s.Pb(19,"span"),s.vc(20,"Receive Date: "),s.Ob(),s.Pb(21,"strong"),s.vc(22),s.Ob(),s.Kb(23,"br"),s.Ob(),s.Pb(24,"div",16),s.Pb(25,"span"),s.vc(26,"Inv. No: "),s.Ob(),s.Pb(27,"strong"),s.vc(28),s.Ob(),s.Kb(29,"br"),s.Pb(30,"span"),s.vc(31,"Inv. Date: "),s.Ob(),s.Pb(32,"strong"),s.vc(33),s.Ob(),s.Kb(34,"br"),s.Ob(),s.Pb(35,"div",16),s.Pb(36,"span"),s.vc(37,"PO No: "),s.Ob(),s.Pb(38,"strong"),s.vc(39),s.Ob(),s.Kb(40,"br"),s.Pb(41,"span"),s.vc(42,"PO Date: "),s.Ob(),s.Pb(43,"strong"),s.vc(44),s.Ob(),s.Kb(45,"br"),s.Ob(),s.Pb(46,"div",16),s.Pb(47,"span"),s.vc(48,"DC No: "),s.Ob(),s.Pb(49,"strong"),s.vc(50),s.Ob(),s.Kb(51,"br"),s.Pb(52,"span"),s.vc(53,"DC Date: "),s.Ob(),s.Pb(54,"strong"),s.vc(55),s.Ob(),s.Kb(56,"br"),s.Ob(),s.Ob(),s.Kb(57,"div",17),s.Pb(58,"div",18),s.Pb(59,"table",19),s.Pb(60,"thead"),s.Pb(61,"tr"),s.Pb(62,"th"),s.Pb(63,"strong"),s.vc(64,"SKU"),s.Ob(),s.Ob(),s.Pb(65,"th"),s.Pb(66,"strong"),s.vc(67,"Item Name"),s.Ob(),s.Ob(),s.Pb(68,"th"),s.Pb(69,"strong"),s.vc(70,"Purchased Unit"),s.Ob(),s.Ob(),s.Pb(71,"th"),s.Pb(72,"strong"),s.vc(73,"Purchased QTY."),s.Ob(),s.Ob(),s.Pb(74,"th"),s.Pb(75,"strong"),s.vc(76,"Free Unit"),s.Ob(),s.Ob(),s.Pb(77,"th"),s.Pb(78,"strong"),s.vc(79,"Free QTY."),s.Ob(),s.Ob(),s.Pb(80,"th"),s.Pb(81,"strong"),s.vc(82,"Discount %"),s.Ob(),s.Ob(),s.Pb(83,"th"),s.Pb(84,"strong"),s.vc(85,"Discount PKR."),s.Ob(),s.Ob(),s.Pb(86,"th"),s.Pb(87,"strong"),s.vc(88,"Original Amount"),s.Ob(),s.Ob(),s.Pb(89,"th"),s.Pb(90,"strong"),s.vc(91,"Net Amount"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(92,"tbody",20),s.tc(93,$,27,26,"tr",21),s.Pb(94,"tr"),s.Kb(95,"td",22),s.Kb(96,"td",22),s.Kb(97,"td",22),s.Kb(98,"td",22),s.Kb(99,"td",22),s.Kb(100,"td",22),s.Kb(101,"td",22),s.Kb(102,"td",22),s.Pb(103,"td"),s.Pb(104,"strong"),s.vc(105,"Subtotal PKR."),s.Ob(),s.Ob(),s.Pb(106,"td"),s.Pb(107,"strong"),s.vc(108),s.Zb(109,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(110,"tr"),s.Kb(111,"td",22),s.Kb(112,"td",22),s.Kb(113,"td",22),s.Kb(114,"td",22),s.Kb(115,"td",22),s.Kb(116,"td",22),s.Kb(117,"td",22),s.Kb(118,"td",22),s.Pb(119,"td"),s.Pb(120,"strong"),s.vc(121,"Distribution Discount"),s.Ob(),s.Ob(),s.Pb(122,"td"),s.Pb(123,"strong"),s.vc(124),s.Zb(125,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(126,"tr"),s.Kb(127,"td",22),s.Kb(128,"td",22),s.Kb(129,"td",22),s.Kb(130,"td",22),s.Kb(131,"td",22),s.Kb(132,"td",22),s.Kb(133,"td",22),s.Kb(134,"td",22),s.Pb(135,"td"),s.Pb(136,"strong"),s.vc(137,"GST"),s.Ob(),s.Ob(),s.Pb(138,"td"),s.Pb(139,"strong"),s.vc(140),s.Ob(),s.Ob(),s.Ob(),s.Pb(141,"tr"),s.Kb(142,"td",22),s.Kb(143,"td",22),s.Kb(144,"td",22),s.Kb(145,"td",22),s.Kb(146,"td",22),s.Kb(147,"td",22),s.Kb(148,"td",22),s.Kb(149,"td",22),s.Pb(150,"td"),s.Pb(151,"strong"),s.vc(152,"Freight Charges"),s.Ob(),s.Ob(),s.Pb(153,"td"),s.Pb(154,"strong"),s.vc(155),s.Ob(),s.Ob(),s.Ob(),s.Pb(156,"tr"),s.Kb(157,"td",22),s.Kb(158,"td",22),s.Kb(159,"td",22),s.Kb(160,"td",22),s.Kb(161,"td",22),s.Kb(162,"td",22),s.Kb(163,"td",22),s.Kb(164,"td",22),s.Pb(165,"td",23),s.Pb(166,"strong"),s.vc(167,"Total PKR."),s.Ob(),s.Ob(),s.Pb(168,"td",23),s.Pb(169,"strong"),s.vc(170),s.Zb(171,"number"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Kb(172,"div",24),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t){const t=s.Yb();s.yb(7),s.wc(t.order.payload.poDate),s.yb(10),s.wc(t.order.payload.receivedNo),s.yb(5),s.wc(t.order.payload.receivedDate),s.yb(6),s.wc(t.order.payload.invoiceNo),s.yb(5),s.wc(t.order.payload.invoiceDate),s.yb(6),s.wc(t.order.payload.poNo),s.yb(5),s.wc(t.order.payload.poDate),s.yb(6),s.wc(t.order.payload.dcNo),s.yb(5),s.wc(t.order.payload.dcDate),s.yb(38),s.ec("ngForOf",t.order.detail),s.yb(15),s.wc(s.bc(109,15,t.order.original_amount,"1.2-2")),s.yb(16),s.wc(s.bc(125,18,t.order.discount,"1.2-2")),s.yb(16),s.wc(t.order.payload.gst),s.yb(15),s.wc(t.order.payload.fare),s.yb(15),s.wc(s.bc(171,21,t.order.net_amount,"1.2-2"))}}function z(t,e){1&t&&(s.Pb(0,"div",8),s.Kb(1,"app-loader-white"),s.Ob())}let F=(()=>{class t{constructor(t,e,n,o){this.route=t,this.router=e,this.toastService=n,this.reportService=o}ngOnInit(){this.orderId=this.route.snapshot.paramMap.get("id"),this.getOrderDetails()}getOrderDetails(){this.loading=!0,this.reportService.getPurchasedOrderDetais(this.orderId).subscribe(t=>{if(this.loading=!1,200===t.status){const e=t.data;this.order=Object.assign(Object.assign({},e),{payload:JSON.parse(e.payload)})}},t=>{this.loading=!1,1!==t.status&&401!==t.status&&this.toastService.showToaster({title:"Error:",message:"Something went wrong please try again",type:"error"}),this.router.navigateByUrl("/reports/purchase-history")})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(c.a),s.Jb(c.f),s.Jb(u.a),s.Jb(P))},t.\u0275cmp=s.Db({type:t,selectors:[["app-purchase-detail"]],decls:20,vars:2,consts:[[1,"container"],[1,"row","mt-2","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],[1,"row"],[1,"col-12"],["class","card",4,"ngIf"],[1,"card"],[1,"p-10",2,"border-bottom","solid 2px #000"],[1,"row","m-0"],[1,"col-8","OrderLogo"],[1,"col-4","ord-no"],[1,"body",2,"padding","15px 20px"],[1,"form-body"],[1,"row","OrderInfo"],[1,"col-md-3"],[1,"seprator-block"],[1,"Order-Detail-table","mt-30"],[1,"table"],[1,"order_items_body"],[4,"ngFor","ngForOf"],[1,"border-0"],[2,"border","solid 1px #333333!important","background-color","#ededed!important","color","#000"],[1,"clearfix"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"h2",3),s.vc(4,"Distributor "),s.Pb(5,"span"),s.vc(6," Purchase Detail"),s.Ob(),s.Ob(),s.Ob(),s.Pb(7,"div",2),s.Pb(8,"ol",4),s.Pb(9,"li"),s.Pb(10,"a"),s.Pb(11,"span"),s.vc(12,"Reports"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"li"),s.Pb(14,"span"),s.vc(15,"Purchase History"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",5),s.Pb(17,"div",6),s.tc(18,E,173,24,"div",7),s.tc(19,z,2,0,"div",7),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(18),s.ec("ngIf",!e.loading&&e.order),s.yb(1),s.ec("ngIf",e.loading))},directives:[b.k,b.j,h.a],pipes:[b.d],styles:[".OrderLogo[_ngcontent-%COMP%]{text-align:left;padding-left:0}.OrderLogo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:auto;height:46px}._cust_filter[_ngcontent-%COMP%]{padding-left:0!important;padding-top:0!important}._cust_filter[_ngcontent-%COMP%]   .form-s2[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]{padding:0!important;height:30px!important}._cust_filter[_ngcontent-%COMP%]   .form-s2[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{width:100%;font-size:14px;border:none;border-radius:0;min-height:30px!important;height:30px!important}.nav-item[_ngcontent-%COMP%]{cursor:pointer;text-transform:capitalize!important}.CL-Product[_ngcontent-%COMP%]{padding-top:0!important;margin-left:0!important}.OrderInfo[_ngcontent-%COMP%]{font-size:14px}.OrderInfo[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{width:105px;float:left}.Order-Detail-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #333;padding:5px!important;font-size:12px}.Order-Detail-table[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #333!important;background-color:#ededed!important;color:#000;padding:5px!important;font-size:12px}.button-list[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{font-size:14px!important;letter-spacing:1px}.button-list[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{padding-right:3px}.ord-no[_ngcontent-%COMP%]{padding-top:17px;font-size:14px;text-align:right}.table[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{border-radius:0;border-color:#ddd}.select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{height:26px}.table[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__arrow[_ngcontent-%COMP%]{height:24px}.cus-che-table[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:after, .cus-che-table[_ngcontent-%COMP%]   .custom-control-label[_ngcontent-%COMP%]:before{top:-7px;left:0}.cus-che-table[_ngcontent-%COMP%]{padding:0;margin:0;width:22px}.btn-primary[_ngcontent-%COMP%]{padding-top:4px;padding-bottom:4px;letter-spacing:1px}.bottom-gray[_ngcontent-%COMP%]{background-color:#f6f6f6;padding:10px;margin-top:20px}.active[_ngcontent-%COMP%]{display:block}#example2[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]{width:100%;font-size:14px;border-radius:0;min-height:25px!important;height:25px!important}#example2[_ngcontent-%COMP%]   .ng-select[_ngcontent-%COMP%]   .ng-select-container[_ngcontent-%COMP%]   div.ng-input[_ngcontent-%COMP%]{top:0!important}.Product-Filter[_ngcontent-%COMP%]{background-color:#f3f2f2;padding:15px 15px 0;box-shadow:0 0 20px 0 rgba(0,0,0,.2);margin-bottom:15px;border-bottom:2px solid #0038ba}.Product-Filter[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:6px 8px 0;cursor:pointer}.Product-Filter[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]{width:74px;float:right}.Product-Filter[_ngcontent-%COMP%]   .nav[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#a6a5a5;font-size:20px}.Product-Filter[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{color:#0038ba}.CL-Product[_ngcontent-%COMP%]{width:230px;position:relative;float:left;padding-right:15px}.CL-Product[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:32px;border:1px solid #dedede;box-shadow:none;padding-left:30px;font-size:13px;letter-spacing:1px}._cust_filter[_ngcontent-%COMP%]   .select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{background-color:#fff;border-color:#e4e4e4;font-size:14px;border-radius:0;height:32px}._cust_filter[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{line-height:32px}.Product-Filter[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{color:#fff!important;cursor:pointer;margin-left:15px;padding-top:4px;padding-bottom:4px}.CL-Product[_ngcontent-%COMP%]   .fa[_ngcontent-%COMP%]{position:absolute;top:8px;left:8px;color:#b5b5b5}._cust_filter[_ngcontent-%COMP%]{width:170px;float:left;margin-bottom:15px}._cust_filter[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border-radius:0;height:32px;border:1px solid #dedede}@media (max-width:1300px){.header-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .header-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .header-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{font-size:14px;padding:12px;letter-spacing:.5px}}._cust_filter[_ngcontent-%COMP%]{width:230px;padding-right:10px}._cust_filter[_ngcontent-%COMP%]   .select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{height:32px!important}._cust_filter[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{line-height:30px}._cust_filter[_ngcontent-%COMP%]   .form-s2[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__arrow[_ngcontent-%COMP%]{height:32px}.CL-Product[_ngcontent-%COMP%]{padding-right:10px}.Product-Filter[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{margin:0;letter-spacing:1px;float:left;box-shadow:none}@media (max-width:1170px){.header-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .header-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .header-tabs[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{padding:12px 10px;letter-spacing:normal}}"]}),t})();var L=n("UYTb");function N(t,e){if(1&t&&(s.Pb(0,"ng-option",23),s.vc(1),s.Ob()),2&t){const t=e.$implicit;s.ec("value",t.id),s.yb(1),s.wc(t.name)}}function Z(t,e){if(1&t&&(s.Pb(0,"ng-option",23),s.vc(1),s.Ob()),2&t){const t=e.$implicit;s.ec("value",t.id),s.yb(1),s.wc(t.division)}}function B(t,e){1&t&&(s.Pb(0,"div",6),s.Kb(1,"app-loader-white"),s.Ob())}function W(t,e){if(1&t&&(s.Pb(0,"tr"),s.Pb(1,"td"),s.vc(2),s.Ob(),s.Pb(3,"td"),s.vc(4),s.Ob(),s.Pb(5,"td"),s.vc(6),s.Ob(),s.Pb(7,"td"),s.vc(8),s.Ob(),s.Pb(9,"td"),s.vc(10),s.Ob(),s.Pb(11,"td"),s.vc(12),s.Zb(13,"number"),s.Ob(),s.Pb(14,"td"),s.vc(15),s.Zb(16,"number"),s.Ob(),s.Pb(17,"td"),s.vc(18),s.Zb(19,"number"),s.Ob(),s.Pb(20,"td"),s.vc(21),s.Zb(22,"number"),s.Ob(),s.Pb(23,"td"),s.vc(24),s.Zb(25,"number"),s.Ob(),s.Pb(26,"td"),s.vc(27),s.Zb(28,"number"),s.Ob(),s.Pb(29,"td"),s.vc(30),s.Ob(),s.Pb(31,"td"),s.vc(32),s.Zb(33,"number"),s.Ob(),s.Pb(34,"td"),s.vc(35),s.Zb(36,"number"),s.Ob(),s.Ob()),2&t){const t=e.$implicit;s.yb(2),s.wc(t.item_sku),s.yb(2),s.wc(t.item_name),s.yb(2),s.wc(t.booked_qty),s.yb(2),s.wc(t.delivered_qty),s.yb(2),s.wc(t.executed_qty),s.yb(2),s.wc(s.bc(13,14,t.item_trade_price,"1.2-2")),s.yb(3),s.wc(s.bc(16,17,t.gr_amount,"1.2-2")),s.yb(3),s.wc(s.bc(19,20,t.trade_offer,"1.2-2")),s.yb(3),s.wc(s.bc(22,23,t.trade_discount,"1.2-2")),s.yb(3),s.wc(s.bc(25,26,t.special_discount,"1.2-2")),s.yb(3),s.wc(s.bc(28,29,t.extra_discount,"1.2-2")),s.yb(3),s.wc(t.tax_in_percentage),s.yb(2),s.wc(s.bc(33,32,t.tax_in_value,"1.2-2")),s.yb(3),s.wc(s.bc(36,35,t.final_price,"1.2-2"))}}function J(t,e){if(1&t&&(s.Pb(0,"ng-option",81),s.vc(1),s.Ob()),2&t){const t=e.$implicit;s.fc("value",t.id),s.yb(1),s.xc(" ",t.name," ")}}function H(t,e){if(1&t&&(s.Pb(0,"ng-option",81),s.vc(1),s.Ob()),2&t){const t=e.$implicit;s.fc("value",t.employee_id),s.yb(1),s.xc(" ",t.employee_name," ")}}function U(t,e){if(1&t&&(s.Pb(0,"ng-option",81),s.vc(1),s.Ob()),2&t){const t=e.$implicit;s.fc("value",t.id),s.yb(1),s.xc(" ",t.name," ")}}function Y(t,e){if(1&t){const t=s.Qb();s.Pb(0,"tr"),s.Pb(1,"td"),s.vc(2),s.Ob(),s.Pb(3,"td"),s.vc(4),s.Ob(),s.Pb(5,"td"),s.vc(6),s.Ob(),s.Pb(7,"td"),s.vc(8),s.Ob(),s.Pb(9,"td"),s.vc(10),s.Ob(),s.Pb(11,"td"),s.vc(12),s.Ob(),s.Pb(13,"td"),s.vc(14),s.Ob(),s.Pb(15,"td"),s.vc(16),s.Ob(),s.Pb(17,"td"),s.Pb(18,"button",82),s.vc(19,"Detail"),s.Ob(),s.Pb(20,"button",83),s.Wb("click",(function(n){s.oc(t);const o=e.$implicit;return s.Yb().openDetailsModal(n,o)})),s.vc(21,"Detail"),s.Ob(),s.Pb(22,"button",84),s.vc(23,"Bill"),s.Ob(),s.Pb(24,"button",85),s.Wb("click",(function(){s.oc(t);const n=e.$implicit;return s.Yb().openBillsModal(n)})),s.vc(25,"Bill"),s.Ob(),s.Ob(),s.Ob()}if(2&t){const t=e.$implicit;s.yb(2),s.wc(t.date),s.yb(2),s.wc(t.invoice_number),s.yb(2),s.wc(t.shop_id),s.yb(2),s.wc(t.shop_name),s.yb(2),s.wc(t.segment),s.yb(2),s.wc(t.order_booker),s.yb(2),s.wc(t.salesman),s.yb(2),s.wc(t.order_total)}}const q=[{path:"",component:l,children:[{path:"",redirectTo:"dsr"},{path:"purchase-history",pathMatch:"full",component:y},{path:"purchase/:id",pathMatch:"full",component:F},{path:"cash-summary",component:(()=>{class t{constructor(t,e,n){this.reportService=t,this.storageService=e,this.toastService=n}ngOnInit(){this.distributorId=this.storageService.getItem("distributor").id,this.summaryUrl=`${x.a.apiDomain}${g.a.CASH_SUMMARY}`}generateDateWiseSummary(){this.selectedDate?window.open(`${this.summaryUrl}/${this.distributorId}/date/${this.selectedDate}`):this.toastService.showToaster({title:"CSR Error:",message:"Please select date to generate CSR!",type:"error"})}generateMonthWiseSummary(){this.selectedMonth?window.open(`${this.summaryUrl}/${this.distributorId}/month/${this.selectedMonth}`):this.toastService.showToaster({title:"CSR Error:",message:"Please select month to generate CSR!",type:"error"})}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(P),s.Jb(L.a),s.Jb(u.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-cash-summary"]],decls:57,vars:2,consts:[[1,"container"],[1,"row","mt-2","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header","addPR-head"],[1,"float-left"],[1,"_PR_filter","pr-15",2,"width","170px!important"],[1,"form-group","mb-0",2,"height","auto"],["type","date","id","datepicker","name","gen-date","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"gen-act"],[1,"btn","btn-primary",3,"click"],[1,"row","mt-30","mb-2"],["type","month","id","datepicker","name","gen-month","placeholder","",1,"form-control",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"h2",3),s.vc(4,"Daily "),s.Pb(5,"span"),s.vc(6," Cash Summary"),s.Ob(),s.Ob(),s.Ob(),s.Pb(7,"div",2),s.Pb(8,"ol",4),s.Pb(9,"li"),s.Pb(10,"a"),s.Pb(11,"span"),s.vc(12,"Report"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"li"),s.Pb(14,"span"),s.vc(15,"DCS"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",5),s.Pb(17,"div",6),s.Pb(18,"div",7),s.Pb(19,"div",8),s.Pb(20,"div",9),s.Pb(21,"h3"),s.vc(22,"Select Date"),s.Ob(),s.Ob(),s.Pb(23,"div",10),s.Pb(24,"div",11),s.Pb(25,"input",12),s.Wb("ngModelChange",(function(t){return e.selectedDate=t})),s.Ob(),s.Ob(),s.Ob(),s.Pb(26,"div",13),s.Pb(27,"a",14),s.Wb("click",(function(){return e.generateDateWiseSummary()})),s.vc(28,"Generate DCS"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(29,"div",15),s.Pb(30,"div",2),s.Pb(31,"h2",3),s.vc(32,"Monthly "),s.Pb(33,"span"),s.vc(34," Cash Summary"),s.Ob(),s.Ob(),s.Ob(),s.Pb(35,"div",2),s.Pb(36,"ol",4),s.Pb(37,"li"),s.Pb(38,"a"),s.Pb(39,"span"),s.vc(40,"Report"),s.Ob(),s.Ob(),s.Ob(),s.Pb(41,"li"),s.Pb(42,"span"),s.vc(43,"MCS"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(44,"div",5),s.Pb(45,"div",6),s.Pb(46,"div",7),s.Pb(47,"div",8),s.Pb(48,"div",9),s.Pb(49,"h3"),s.vc(50,"Select Month"),s.Ob(),s.Ob(),s.Pb(51,"div",10),s.Pb(52,"div",11),s.Pb(53,"input",16),s.Wb("ngModelChange",(function(t){return e.selectedMonth=t})),s.Ob(),s.Ob(),s.Ob(),s.Pb(54,"div",13),s.Pb(55,"a",14),s.Wb("click",(function(){return e.generateMonthWiseSummary()})),s.vc(56,"Generate MCS"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(25),s.ec("ngModel",e.selectedDate),s.yb(28),s.ec("ngModel",e.selectedMonth))},directives:[i.b,i.e,i.h],styles:["._PR_filter[_ngcontent-%COMP%]{margin-top:-2px;width:300px!important;float:left}._PR_filter[_ngcontent-%COMP%]   .form-s2[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__rendered[_ngcontent-%COMP%]{line-height:30px!important;font-family:proximanova-light,sans-serif!important;font-size:13px!important}._PR_filter[_ngcontent-%COMP%]   .form-s2[_ngcontent-%COMP%]   .select2-container--default[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]   .select2-selection__arrow[_ngcontent-%COMP%], ._PR_filter[_ngcontent-%COMP%]   .form-s2[_ngcontent-%COMP%]   .select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{height:31px!important}._PR_filter[_ngcontent-%COMP%]   .select2-container[_ngcontent-%COMP%]   .select2-selection--single[_ngcontent-%COMP%]{background-color:#fff;border-color:#eae9e9;font-size:14px;border-radius:0}.addPR-head[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:14px;padding-right:10px;line-height:2;margin:0}._PR_filter[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{box-shadow:none;font-size:13px;height:31px;width:165px;border-color:#eae9e9}.report_value[_ngcontent-%COMP%]{background-color:#fff;font-size:14px;position:relative;padding:10px 0;letter-spacing:.5px;margin-bottom:0;margin-top:0;line-height:1;border-bottom:1px solid #eae9e9}.report_value[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-family:Rationale,sans-serif;line-height:1;font-size:18px;float:right;margin-top:-2px}.addPR-head[_ngcontent-%COMP%]{font-size:16px;padding:15px 15px 15px 20px!important}.gen-act[_ngcontent-%COMP%]{float:right}.gen-act[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{color:#fff!important;background:#003db6;margin-top:-2px;padding-top:7px;padding-bottom:7px;line-height:1}"]}),t})()},{path:"export-rate-list",component:(()=>{class t{constructor(t,e){this.reportsService=t,this.toastService=e,this.selectedDivision="All",this.selectedProductStatus="All",this.loading=!1,this.core={segment:[],divisions:[],distributor_region:0}}ngOnInit(){this.loading=!0,this.reportsService.getRateListCore().subscribe(t=>{this.core=t,this.loading=!1})}downloadPDF(){if(!this.selectedSegment||!this.selectedDivision)return this.toastService.showToaster({title:"Error:",message:"Please select a segment",type:"error"});window.open(`${x.a.apiDomain}/fpdf/special-discount.php?region=${this.core.distributor_region}&division=${this.selectedDivision}&active=${this.selectedProductStatus}&segment=${this.selectedSegment}`,"_blank")}downloadExecel(){}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(P),s.Jb(u.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-rate-list"]],decls:55,vars:6,consts:[[1,"container",2,"height","100vh"],[1,"row","mt-2","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header"],[1,"body","PT-10"],[1,"col-md-3"],[1,"font11","mb-4"],[1,"form-s2"],["placeholder","Select Segment Type","name","segment-type",1,"forselect",3,"multiple","ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-3","pl-0"],["name","division","placeholder","Select Divisions",1,"formselect",3,"ngModel","ngModelChange"],["value","All"],["name","product-status","placeholder","Select Product Status",1,"formselect",3,"ngModel","ngModelChange"],["value","1"],["value","0"],[1,"col-3","pl-0","rate-act"],["type","button",1,"btn","btn-primary","btn-line",2,"line-height","1","height","34px","box-shadow","none",3,"click"],[3,"value"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"h2",3),s.vc(4,"Rate "),s.Pb(5,"span"),s.vc(6," List"),s.Ob(),s.Ob(),s.Ob(),s.Pb(7,"div",2),s.Pb(8,"ol",4),s.Pb(9,"li"),s.Pb(10,"a"),s.Pb(11,"span"),s.vc(12,"Rate List"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"li"),s.Pb(14,"span"),s.vc(15,"Generate"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",5),s.Pb(17,"div",6),s.Pb(18,"div",7),s.Pb(19,"div",8),s.Pb(20,"h2"),s.vc(21,"Rate "),s.Pb(22,"span"),s.vc(23,"List"),s.Ob(),s.Ob(),s.Ob(),s.Pb(24,"div",9),s.Pb(25,"div",5),s.Pb(26,"div",10),s.Pb(27,"label",11),s.vc(28,"Segment Type*"),s.Ob(),s.Pb(29,"div",12),s.Pb(30,"ng-select",13),s.Wb("ngModelChange",(function(t){return e.selectedSegment=t})),s.tc(31,N,2,2,"ng-option",14),s.Ob(),s.Ob(),s.Ob(),s.Pb(32,"div",15),s.Pb(33,"label",11),s.vc(34,"Divisions*"),s.Ob(),s.Pb(35,"div",12),s.Pb(36,"ng-select",16),s.Wb("ngModelChange",(function(t){return e.selectedDivision=t})),s.Pb(37,"ng-option",17),s.vc(38,"All"),s.Ob(),s.tc(39,Z,2,2,"ng-option",14),s.Ob(),s.Ob(),s.Ob(),s.Pb(40,"div",15),s.Pb(41,"label",11),s.vc(42,"Product Status*"),s.Ob(),s.Pb(43,"div",12),s.Pb(44,"ng-select",18),s.Wb("ngModelChange",(function(t){return e.selectedProductStatus=t})),s.Pb(45,"ng-option",17),s.vc(46,"All"),s.Ob(),s.Pb(47,"ng-option",19),s.vc(48,"Active"),s.Ob(),s.Pb(49,"ng-option",20),s.vc(50,"Inactive"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(51,"div",21),s.Pb(52,"button",22),s.Wb("click",(function(){return e.downloadPDF()})),s.vc(53,"Download PDF"),s.Ob(),s.vc(54,"\xa0 "),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(30),s.ec("multiple",!1)("ngModel",e.selectedSegment),s.yb(1),s.ec("ngForOf",e.core.segment),s.yb(5),s.ec("ngModel",e.selectedDivision),s.yb(3),s.ec("ngForOf",e.core.divisions),s.yb(5),s.ec("ngModel",e.selectedProductStatus))},directives:[d.a,i.e,i.h,b.j,d.c],styles:[".rate-act{margin-top:26px}.rate-act .btn-primary{padding-left:10px;padding-right:10px;font-size:14px}.btn-primary{background:#fff;color:#003db6}.ng-select .ng-select-container{border-radius:0!important;border:1px solid #f6f6f6!important;background-color:#f6f6f6!important;outline:none}.input-error{font-size:11px;color:#ff4500;margin-top:5px}.ng-select.ng-select-multiple .ng-select-container .ng-value-container .ng-value{background-color:#0038ba;border:1px solid #0038ba;margin-right:7px;color:#fff}.ng-select .ng-clear{display:none!important}"],encapsulation:2}),t})()},{path:"spot-sale",component:(()=>{class t{constructor(){this.dtOptions={},this.loading=!1,this.dtOptions={pagingType:"simple_numbers"}}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Db({type:t,selectors:[["app-spot-sale"]],decls:113,vars:5,consts:[[1,"container"],[1,"row","mt-2","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"header","addPR-head"],[1,"float-left"],[1,"_PR_filter","pr-15",2,"width","170px!important"],[1,"form-group","mb-0",2,"height","auto"],["type","date","id","datepicker","name","filt-date","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"_PR_filter","pr-15"],[1,"form-s2"],["name","salesmen","placeholder","Select Salesman",1,"formselect",2,"width","100%!important",3,"ngModel","multiple","ngModelChange"],["value","0","selected",""],["value","1"],[1,"body","pb-0"],["datatable","","id","example",1,"table","table-hover","dt-responsive","nowrap",2,"width","100%",3,"dtOptions"],[1,"col-md-12","text-right",2,"background-color","#f3f3f3","padding","10px 15px","margin-top","5px","margin-bottom","5px"],["id","generateSpotSale",1,"btn","btn-primary"],["class","col-md-12",4,"ngIf"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"h2",3),s.vc(4,"Spot "),s.Pb(5,"span"),s.vc(6," Sales Report"),s.Ob(),s.Ob(),s.Ob(),s.Pb(7,"div",2),s.Pb(8,"ol",4),s.Pb(9,"li"),s.Pb(10,"a"),s.Pb(11,"span"),s.vc(12,"Report"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"li"),s.Pb(14,"span"),s.vc(15,"Spot Sale"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",5),s.Pb(17,"div",6),s.Pb(18,"div",7),s.Pb(19,"div",8),s.Pb(20,"div",9),s.Pb(21,"h3"),s.vc(22,"Select Date"),s.Ob(),s.Ob(),s.Pb(23,"div",10),s.Pb(24,"div",11),s.Pb(25,"input",12),s.Wb("ngModelChange",(function(t){return e.selectedDate=t})),s.Ob(),s.Ob(),s.Ob(),s.Pb(26,"div",9),s.Pb(27,"h3"),s.vc(28,"Select Salesman"),s.Ob(),s.Ob(),s.Pb(29,"div",13),s.Pb(30,"div",14),s.Pb(31,"ng-select",15),s.Wb("ngModelChange",(function(t){return e.selectedSaleMan=t})),s.Pb(32,"ng-option",16),s.vc(33," Select Salesman"),s.Ob(),s.Pb(34,"ng-option",17),s.vc(35,"Salesman"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(36,"div",18),s.Pb(37,"table",19),s.Pb(38,"thead"),s.Pb(39,"tr"),s.Pb(40,"th"),s.vc(41,"ORDER ID"),s.Ob(),s.Pb(42,"th"),s.vc(43,"RETAILER NAME"),s.Ob(),s.Pb(44,"th"),s.vc(45,"SEGMENT"),s.Ob(),s.Pb(46,"th"),s.vc(47,"ROUTE"),s.Ob(),s.Pb(48,"th"),s.vc(49,"ORDER BOOKER"),s.Ob(),s.Pb(50,"th"),s.vc(51,"SALES MAN"),s.Ob(),s.Pb(52,"th"),s.vc(53,"ORDER VALUE"),s.Ob(),s.Pb(54,"th"),s.vc(55,"VIEW DATA"),s.Ob(),s.Ob(),s.Ob(),s.Pb(56,"tbody"),s.Pb(57,"tr"),s.Pb(58,"td"),s.vc(59,"2323"),s.Ob(),s.Pb(60,"td"),s.vc(61,"768 shop "),s.Ob(),s.Pb(62,"td"),s.vc(63,"-"),s.Ob(),s.Pb(64,"td"),s.vc(65,"-"),s.Ob(),s.Pb(66,"td"),s.vc(67,"Asif"),s.Ob(),s.Pb(68,"td"),s.vc(69,"Yasir"),s.Ob(),s.Pb(70,"td"),s.vc(71,"Rs:0"),s.Ob(),s.Pb(72,"td"),s.vc(73,"0"),s.Ob(),s.Ob(),s.Pb(74,"tr"),s.Pb(75,"td"),s.vc(76,"2323"),s.Ob(),s.Pb(77,"td"),s.vc(78,"768 shop "),s.Ob(),s.Pb(79,"td"),s.vc(80,"-"),s.Ob(),s.Pb(81,"td"),s.vc(82,"-"),s.Ob(),s.Pb(83,"td"),s.vc(84,"Asif"),s.Ob(),s.Pb(85,"td"),s.vc(86,"Yasir"),s.Ob(),s.Pb(87,"td"),s.vc(88,"Rs:0"),s.Ob(),s.Pb(89,"td"),s.vc(90,"0"),s.Ob(),s.Ob(),s.Pb(91,"tr"),s.Pb(92,"td"),s.vc(93,"2323"),s.Ob(),s.Pb(94,"td"),s.vc(95,"768 shop "),s.Ob(),s.Pb(96,"td"),s.vc(97,"-"),s.Ob(),s.Pb(98,"td"),s.vc(99,"-"),s.Ob(),s.Pb(100,"td"),s.vc(101,"Asif"),s.Ob(),s.Pb(102,"td"),s.vc(103,"Yasir"),s.Ob(),s.Pb(104,"td"),s.vc(105,"Rs:0"),s.Ob(),s.Pb(106,"td"),s.vc(107,"0"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(108,"div",5),s.Pb(109,"div",20),s.Pb(110,"button",21),s.vc(111,"Generate Sales Spot"),s.Ob(),s.Ob(),s.Ob(),s.tc(112,B,2,0,"div",22),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(25),s.ec("ngModel",e.selectedDate),s.yb(6),s.ec("ngModel",e.selectedSaleMan)("multiple",!1),s.yb(6),s.ec("dtOptions",e.dtOptions),s.yb(75),s.ec("ngIf",e.loading))},directives:[i.b,i.e,i.h,d.a,d.c,a.a,b.k,h.a],styles:["._PR_filter{margin-top:-2px;width:300px!important;float:left}.addPR-head h3{font-size:14px;padding-right:10px;line-height:2;margin:0}._PR_filter input{box-shadow:none;font-size:13px;height:31px;border-color:#eae9e9}.addPR-head{font-size:16px;padding:15px 15px 15px 20px!important}.input-error{font-size:11px;color:#ff4500;margin-top:5px}._PR_filter .form-s2 .ng-select{padding:0!important;height:30px!important}._PR_filter .form-s2 .ng-select .ng-select-container div.ng-input{top:0!important}._PR_filter .form-s2 .ng-select .ng-select-container{line-height:28px!important;font-family:proximanova-light,sans-serif!important;font-size:13px!important}._PR_filter .form-s2 .ng-select .ng-arrow-wrapper,._PR_filter .form-s2 .ng-select .ng-select-container{height:31px!important;min-height:31px!important}._PR_filter .form-s2 .ng-select .ng-select-container{border-radius:0!important}.ng-select.ng-select-single .ng-select-container .ng-value-container .ng-input input{height:28px}._PR_filter .form-s2 .ng-select .ng-clear-wrapper{display:none!important}#generateSpotSale{color:#fff!important;background:linear-gradient(90deg,#1e54d3,#0038ba)}"],encapsulation:2}),t})()},{path:"stock-report",component:(()=>{class t{constructor(t,e){this.storageService=t,this.toastService=e,this.date={start:null,end:null}}ngOnInit(){}generateStockReport(){if(!this.date.start||!this.date.end)return this.toastService.showToaster({title:"Error:",message:"Please provide start/end dates",type:"error"});const t=this.storageService.getItem("distributor");this.date.start=`\n      ${new Date(this.date.start).toUTCString().split(",")[1].trim().split(" ")[0]}-${new Date(this.date.start).toUTCString().split(",")[1].trim().split(" ")[1]}-${new Date(this.date.start).toUTCString().split(",")[1].trim().split(" ")[2]}\n    `,this.date.end=`\n      ${new Date(this.date.end).toUTCString().split(",")[1].trim().split(" ")[0]}-${new Date(this.date.end).toUTCString().split(",")[1].trim().split(" ")[1]}-${new Date(this.date.end).toUTCString().split(",")[1].trim().split(" ")[2]}\n    `,window.open(`\n    ${x.a.apiDomain}/distributor-stock-pdf-report?type=dateRange&dateFrom=${this.date.start.trim()}&dateTo=${this.date.end.trim()}&region=${t.region_id}&distributor=${t.id}`,"_blank")}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(L.a),s.Jb(u.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-stock-out-report"]],decls:44,vars:2,consts:[["id","blureEffct",1,"container"],[1,"row","mt-2","mb-3"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],["href","#"],[1,"row"],[1,"col-md-12","mb-30"],[1,"card","PB-20"],[1,"header"],[1,"row","m-0"],[1,"form-wrap","PB-10","PT-10"],[1,"col-3","pr-0"],[1,"form-group",2,"height","auto"],[1,"control-label","mb-5"],["type","date","placeholder","",1,"form-control",3,"ngModel","ngModelChange"],[1,"col-3",2,"padding-top","29px"],["type","submit",1,"btn","btn-primary","btn-line",2,"line-height","1","height","34px","box-shadow","none",3,"click"],[1,"sticky-footer"],[1,"container","my-auto"],[1,"copyright","text-center","my-auto"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"h2",3),s.vc(4,"Report "),s.Pb(5,"span"),s.vc(6," Management"),s.Ob(),s.Ob(),s.Ob(),s.Pb(7,"div",2),s.Pb(8,"ol",4),s.Pb(9,"li"),s.Pb(10,"a",5),s.Pb(11,"span"),s.vc(12,"Stock"),s.Ob(),s.Ob(),s.Ob(),s.Pb(13,"li"),s.Pb(14,"span"),s.vc(15,"Report"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(16,"div",6),s.Pb(17,"div",7),s.Pb(18,"div",8),s.Pb(19,"div",9),s.Pb(20,"h2"),s.vc(21,"Stock "),s.Pb(22,"span"),s.vc(23,"Report"),s.Ob(),s.Ob(),s.Ob(),s.Pb(24,"div",10),s.Pb(25,"div",11),s.Pb(26,"div",10),s.Pb(27,"div",12),s.Pb(28,"div",13),s.Pb(29,"label",14),s.vc(30,"Start Date"),s.Ob(),s.Pb(31,"input",15),s.Wb("ngModelChange",(function(t){return e.date.start=t})),s.Ob(),s.Ob(),s.Ob(),s.Pb(32,"div",12),s.Pb(33,"div",13),s.Pb(34,"label",14),s.vc(35,"End Date"),s.Ob(),s.Pb(36,"input",15),s.Wb("ngModelChange",(function(t){return e.date.end=t})),s.Ob(),s.Ob(),s.Ob(),s.Pb(37,"div",16),s.Pb(38,"button",17),s.Wb("click",(function(){return e.generateStockReport()})),s.vc(39,"Generate Report"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(40,"footer",18),s.Pb(41,"div",19),s.Pb(42,"div",20),s.vc(43," 2019 Sell3sixty All rights reserved "),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(31),s.ec("ngModel",e.date.start),s.yb(5),s.ec("ngModel",e.date.end))},directives:[i.b,i.e,i.h],styles:[".rate-act[_ngcontent-%COMP%]{margin-top:26px}.rate-act[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding-left:25px;padding-right:25px;font-size:14px}.btn-line[_ngcontent-%COMP%], .dataTable[_ngcontent-%COMP%]   .btn-line[_ngcontent-%COMP%]{background:linear-gradient(90deg,#fff,#fff);color:#0038ba!important;border:1px solid #0038ba}.btn-outline[_ngcontent-%COMP%]:HOVER, .btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:HOVER{color:#fff!important;border:1px solid #003db6;background:linear-gradient(90deg,#1e54d3,#0038ba)}"]}),t})()},{path:"sale-order-history",pathMatch:"full",component:(()=>{class t{constructor(t,e,n,o){this.retailerService=t,this.storageService=e,this.toastService=n,this.orderService=o,this.dtOptions={},this.loading=!1,this.orders=[],this.criterias={order_booker:[],routes:[],segments:[],salesmen:[]},this.isDtInitialized=!1,this.dtTrigger=new p.a,this.showDetailsModal=!1,this.date=new Date(Date.now()-864e5),this.distributorId=null,this.orderDetail=[],this.invoiceDate=null,this.activeOrder=null,this.paymentInfo={cash:{amount:0,payment_mode:"cash"},cheque:{amount:0,payment_mode:"cheque"},credit:{amount:0,payment_mode:"credit"}},this.distributorId=this.storageService.getItem("distributor").id,this.dtOptions={pagingType:"simple_numbers"},this.startDate=`${this.date.getFullYear()}-${("0"+(this.date.getMonth()+1)).slice(-2)}-${("0"+this.date.getDate()).slice(-2)}`,this.endDate=`${(new Date).getFullYear()}-${("0"+((new Date).getMonth()+1)).slice(-2)}-${("0"+(new Date).getDate()).slice(-2)}`,this.OrderType="0",this.segment="0"}ngOnInit(){this.getCoreInformation()}getCoreInformation(){this.loading=!0,this.orderService.getSaleHistorySearchCriterias().subscribe(t=>{this.criterias=t,this.OrderBooker=this.criterias.order_booker[0].employee_id.toString(),this.getOrderBookersList()},t=>{this.loading=!1,401!==t.status&&1!==t.status&&this.toastService.showToaster({title:"Error:",message:"Unable to get search criterias",type:"error"}),scrollTo(0,0)})}getOrderBookersList(){if(this.startDate>this.endDate)return this.toastService.showToaster({title:"Error:",message:"Please keep start date lower than end date",type:"error"});if((new Date(this.endDate)-new Date(this.startDate))/864e5>5)return this.toastService.showToaster({title:"Error:",message:"You can not select more than 5 days of orders",type:"error"});this.isDtInitialized&&(this.dtElement.dtInstance.then(t=>{t.destroy()}),this.isDtInitialized=!1),this.loading=!0;let t=`order_booker=${this.OrderBooker}&start_date=${this.startDate}&end_date=${this.endDate}`;this.OrderType&&"0"!=this.OrderType&&(t+="&order_type="+this.OrderType),this.salesmanId&&"0"!=this.salesmanId&&(t+="&salesman="+this.salesmanId),this.segment&&"0"!=this.segment&&(t+="&segment="+this.segment),this.orderService.getSaleHistory(t).subscribe(t=>{this.orders=t,this.isDtInitialized||(this.isDtInitialized=!0,this.dtTrigger.next()),setTimeout(()=>{this.loading=!1},300)},t=>{this.loading=!1,401!==t.status&&1!==t.status&&this.toastService.showToaster({title:"Error:",message:"New Orders not fetched, try again later.",type:"error"}),scrollTo(0,0)})}closeSalemanLedger(){document.body.classList.remove("no-scroll"),document.getElementsByClassName("overlay-blure")[0].classList.remove("d-block"),document.getElementById("retailer-list").classList.remove("blur-div")}goToProfile(){console.log("Coming soon!")}openDetailsModal(t,e){this.orderDetail=[],t.target.setAttribute("disabled","disabled"),this.getViewOrderDetailById(t,e)}getBills(t="A4"){window.open(`${x.a.apiDomain}${g.a.BILLS}?type=bill&emp=${this.activeOrder.sales_man_id}&date=${this.activeOrder.date}&dist_id=${this.distributorId}&size=${t}&status=processed&orderID=${this.activeOrder.id}`,"_blank")}openBillsModal(t){this.activeOrder=t,document.getElementById("billsPrintPaperModalTrigger").click()}getViewOrderDetailById(t,e){this.retailerService.getOrderDetail(e.id).subscribe(n=>{this.activeOrder=e,this.orderDetail=n.details,this.paymentInfo={cash:n.payments.find(t=>"cash"==t.payment_mode.toLowerCase()),cheque:n.payments.find(t=>"cheque"==t.payment_mode.toLowerCase()),credit:n.payments.find(t=>"credit"==t.payment_mode.toLowerCase())},t.target.removeAttribute("disabled"),document.getElementById("orderDetailsModalTrigger").click(),this.orderDetail.gross_amount=this.orderDetail.map(t=>t.gr_amount).reduce((t,e)=>t+e,0),this.orderDetail.to_discount=this.orderDetail.map(t=>t.trade_offer).reduce((t,e)=>t+e,0),this.orderDetail.trade_discount=this.orderDetail.map(t=>t.trade_discount).reduce((t,e)=>t+e,0),this.orderDetail.special_discount=this.orderDetail.map(t=>t.special_discount).reduce((t,e)=>t+e,0),this.orderDetail.booker_discount=this.orderDetail.map(t=>t.extra_discount).reduce((t,e)=>t+e,0),this.orderDetail.tax_amount=this.orderDetail.map(t=>t.tax_in_value).reduce((t,e)=>t+e,0),this.orderDetail.total_amount=this.orderDetail.map(t=>t.final_price).reduce((t,e)=>t+e,0),this.orderDetail.recovery_amount=0,this.orderDetail.discount_pkr=this.orderDetail.to_discount+this.orderDetail.trade_discount+this.orderDetail.special_discount+this.orderDetail.booker_discount,this.showDetailsModal=!0})}closeDetailsModal(){document.body.classList.remove("no-scroll")}}return t.\u0275fac=function(e){return new(e||t)(s.Jb(o.a),s.Jb(L.a),s.Jb(u.a),s.Jb(r.a))},t.\u0275cmp=s.Db({type:t,selectors:[["app-order-booker-list"]],viewQuery:function(t,e){var n;1&t&&s.Ac(a.a,!0),2&t&&s.mc(n=s.Xb())&&(e.dtElement=n.first)},decls:447,vars:80,consts:[["id","billsModal","tabindex","-1","role","dialog","aria-labelledby","billsModalLabel","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content","top_border"],[1,"modal-header"],["id","billsModalLabel",1,"modal-title"],["type","button","id","close-bills","data-dismiss","modal","aria-label","Close",1,"close"],["aria-hidden","true"],[1,"modal-body"],[1,"row"],[1,"col-12"],[1,"heading3"],[1,"row","print-icon-div","pb-0"],[1,"col-6","pl-0"],[3,"click"],["src","assets/images/a4.svg","alt","",1,"print-icon"],[1,"col-6","pr-0"],["src","assets/images/a5.svg","alt","",1,"print-icon"],["id","OrderDetailModal","tabindex","-1","role","dialog","aria-labelledby","OrderDetailModalLabel","aria-hidden","true",1,"modal","fade",2,"overflow-y","auto"],["role","document",1,"modal-dialog","modal-full","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header","border-0"],["type","button","data-dismiss","modal","aria-label","Close",1,"close",2,"font-size","30px",3,"click"],[1,"modal-body","p-0"],[1,"container"],[1,"card","mb-20"],[1,"p-10",2,"border-bottom","solid 2px #000"],[1,"row","m-0"],[1,"col-8","OrderLogo"],["src","/assets/images/sell-360.svg","alt",""],[1,"col-4","ord-no"],[1,"body",2,"padding","15px 20px"],[1,"form-body"],[1,"row","OrderInfo"],[1,"col-md-9"],[1,"col-md-3","p-0"],[1,"seprator-block"],[1,"Order-Detail-table","mt-20"],[1,"table"],[1,"order_items_body"],[4,"ngFor","ngForOf"],[1,"border-0"],[2,"background-color","#dfdfdf","color","#000"],[2,"background-color","#d3d3d3","color","#000"],[1,"clearfix"],[1,"row","justify-content-end"],[1,"col-4","Order-Detail-table"],[1,"font16"],[1,"table","mb-0"],["id","retailer-list",1,"container"],[1,"row","mt-2","mb-2"],[1,"col-lg-6","col-md-6","col-sm-6"],[1,"_head01"],[1,"breadcrumb"],["href","#"],[1,"col-lg-12"],[1,"header-tabs"],[1,"Product-Filter"],[1,"col-12","mb-10"],[1,"CL-Product",2,"width","100%","padding-right","0"],[1,"fa","fa-search"],["type","text","id","","placeholder","Search by Invoice No or Shop ID",1,"form-control"],[1,"CL-Product",2,"width","116px!important"],["placeholder","Start Date","type","text","onfocus","(this.type = 'date')","id","date",1,"form-control","pad-date",3,"ngModel","ngModelChange"],["placeholder","End Date","type","text","onfocus","(this.type = 'date')","id","date",1,"form-control","pad-date",3,"ngModel","ngModelChange"],[1,"_cust_filter"],[1,"form-s2"],["id","OrderType","placeholder","All Order Types","name","order-type","required","",1,"formselect",3,"multiple","ngModel","ngModelChange"],["value","0","selected",""],["value","executed"],["value","counter_sale"],["value","spot_sale"],["id","AllSalesmen","placeholder","All Salesmen","name","all-salesmen","required","",1,"formselect",3,"multiple","ngModel","ngModelChange"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["id","OrderBooker","placeholder","All Order Bookers","name","OrderBooker","required","",1,"formselect",3,"multiple","ngModel","ngModelChange"],["id","segment","placeholder","All Segments","name","segment","required","",1,"formselect",3,"multiple","ngModel","ngModelChange"],[1,"btn","btn-primary",3,"click"],[1,"col-md-12"],[1,"card"],[1,"body"],["datatable","","id","example",1,"table","table-hover","dt-responsive","nowrap",2,"width","100%",3,"dtTrigger","dtOptions"],[3,"value"],["data-toggle","modal","data-target","#OrderDetailModal","id","orderDetailsModalTrigger","hidden","",1,"btn","btn-default","btn-line","mb-0"],[1,"btn","btn-default","btn-line","mb-0",3,"click"],["data-toggle","modal","data-target","#billsModal","id","billsPrintPaperModalTrigger","hidden","",1,"btn","btn-default","mb-0"],[1,"btn","btn-default","mb-0",3,"click"]],template:function(t,e){1&t&&(s.Pb(0,"div",0),s.Pb(1,"div",1),s.Pb(2,"div",2),s.Pb(3,"div",3),s.Pb(4,"h5",4),s.vc(5,"Print bill for this order"),s.Kb(6,"span"),s.Ob(),s.Pb(7,"button",5),s.Pb(8,"span",6),s.vc(9,"\xd7"),s.Ob(),s.Ob(),s.Ob(),s.Pb(10,"div",7),s.Pb(11,"div",8),s.Pb(12,"div",9),s.Pb(13,"h3",10),s.vc(14,"Select paper size for print"),s.Ob(),s.Ob(),s.Ob(),s.Pb(15,"div",11),s.Pb(16,"div",12),s.Pb(17,"a",13),s.Wb("click",(function(){return e.getBills("A4")})),s.Kb(18,"img",14),s.Pb(19,"strong"),s.vc(20,"A4 Portrait Paper"),s.Ob(),s.Ob(),s.Ob(),s.Pb(21,"div",15),s.Pb(22,"a",13),s.Wb("click",(function(){return e.getBills("A5")})),s.Kb(23,"img",16),s.Pb(24,"strong"),s.vc(25,"A5 Landscape Paper"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(26,"div",17),s.Pb(27,"div",18),s.Pb(28,"div",19),s.Pb(29,"div",20),s.Pb(30,"button",21),s.Wb("click",(function(){return e.showDetailsModal=!1,e.closeDetailsModal()})),s.vc(31,"\xd7"),s.Ob(),s.Ob(),s.Pb(32,"div",22),s.Pb(33,"div",23),s.Pb(34,"div",8),s.Pb(35,"div",9),s.Pb(36,"div",24),s.Pb(37,"div",25),s.Pb(38,"div",26),s.Pb(39,"div",27),s.Kb(40,"img",28),s.Ob(),s.Pb(41,"div",29),s.vc(42," Invoice# "),s.Pb(43,"strong"),s.vc(44),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(45,"div",30),s.Pb(46,"div",8),s.Pb(47,"div",9),s.Pb(48,"div",31),s.Pb(49,"div",32),s.Pb(50,"div",33),s.Pb(51,"span"),s.vc(52,"Retailer Name: "),s.Ob(),s.Pb(53,"strong"),s.vc(54),s.Ob(),s.Kb(55,"br"),s.Pb(56,"span"),s.vc(57,"Segment: "),s.Ob(),s.Pb(58,"strong"),s.vc(59),s.Ob(),s.Kb(60,"br"),s.Pb(61,"span"),s.vc(62,"Phone No: "),s.Ob(),s.Pb(63,"strong"),s.vc(64),s.Ob(),s.Kb(65,"br"),s.Pb(66,"span"),s.vc(67,"Address: "),s.Ob(),s.Pb(68,"strong"),s.vc(69),s.Ob(),s.Ob(),s.Pb(70,"div",34),s.Pb(71,"span"),s.vc(72,"Status: "),s.Ob(),s.Pb(73,"strong"),s.vc(74),s.Ob(),s.Kb(75,"br"),s.Pb(76,"span"),s.vc(77,"Date: "),s.Ob(),s.Pb(78,"strong"),s.vc(79),s.Ob(),s.Kb(80,"br"),s.Pb(81,"span"),s.vc(82,"Order Booker: "),s.Ob(),s.Pb(83,"strong"),s.vc(84),s.Ob(),s.Kb(85,"br"),s.Pb(86,"span"),s.vc(87,"Salesman: "),s.Ob(),s.Pb(88,"strong"),s.vc(89),s.Ob(),s.Ob(),s.Ob(),s.Kb(90,"div",35),s.Pb(91,"div",36),s.Pb(92,"table",37),s.Pb(93,"thead"),s.Pb(94,"tr"),s.Pb(95,"th"),s.Pb(96,"strong"),s.vc(97,"Code"),s.Ob(),s.Ob(),s.Pb(98,"th"),s.Pb(99,"strong"),s.vc(100,"Product Name"),s.Ob(),s.Ob(),s.Pb(101,"th"),s.Pb(102,"strong"),s.vc(103,"B.QTY."),s.Ob(),s.Ob(),s.Pb(104,"th"),s.Pb(105,"strong"),s.vc(106,"D.QTY."),s.Ob(),s.Ob(),s.Pb(107,"th"),s.Pb(108,"strong"),s.vc(109,"E.QTY."),s.Ob(),s.Ob(),s.Pb(110,"th"),s.Pb(111,"strong"),s.vc(112,"T.P"),s.Ob(),s.Ob(),s.Pb(113,"th"),s.Pb(114,"strong"),s.vc(115,"GR.AMNT."),s.Ob(),s.Ob(),s.Pb(116,"th"),s.Pb(117,"strong"),s.vc(118,"T.O"),s.Ob(),s.Ob(),s.Pb(119,"th"),s.Pb(120,"strong"),s.vc(121,"T.Disc"),s.Ob(),s.Ob(),s.Pb(122,"th"),s.Pb(123,"strong"),s.vc(124,"SPC.Disc"),s.Ob(),s.Ob(),s.Pb(125,"th"),s.Pb(126,"strong"),s.vc(127,"Extra.Disc"),s.Ob(),s.Ob(),s.Pb(128,"th"),s.Pb(129,"strong"),s.vc(130,"TAX %"),s.Ob(),s.Ob(),s.Pb(131,"th"),s.Pb(132,"strong"),s.vc(133,"TAX AMNT."),s.Ob(),s.Ob(),s.Pb(134,"th"),s.Pb(135,"strong"),s.vc(136,"Net.AMNT"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(137,"tbody",38),s.tc(138,W,37,38,"tr",39),s.Pb(139,"tr"),s.Kb(140,"td",40),s.Kb(141,"td",40),s.Kb(142,"td",40),s.Kb(143,"td",40),s.Kb(144,"td",40),s.Kb(145,"td",40),s.Kb(146,"td",40),s.Kb(147,"td",40),s.Kb(148,"td",40),s.Kb(149,"td",40),s.Kb(150,"td",40),s.Kb(151,"td",40),s.Pb(152,"td"),s.Pb(153,"strong"),s.vc(154,"G.AMNT"),s.Ob(),s.Ob(),s.Pb(155,"td"),s.Pb(156,"strong"),s.vc(157),s.Zb(158,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(159,"tr"),s.Kb(160,"td",40),s.Kb(161,"td",40),s.Kb(162,"td",40),s.Kb(163,"td",40),s.Kb(164,"td",40),s.Kb(165,"td",40),s.Kb(166,"td",40),s.Kb(167,"td",40),s.Kb(168,"td",40),s.Kb(169,"td",40),s.Kb(170,"td",40),s.Kb(171,"td",40),s.Pb(172,"td"),s.Pb(173,"strong"),s.vc(174,"T.O.Disc."),s.Ob(),s.Ob(),s.Pb(175,"td"),s.Pb(176,"strong"),s.vc(177),s.Zb(178,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(179,"tr"),s.Kb(180,"td",40),s.Kb(181,"td",40),s.Kb(182,"td",40),s.Kb(183,"td",40),s.Kb(184,"td",40),s.Kb(185,"td",40),s.Kb(186,"td",40),s.Kb(187,"td",40),s.Kb(188,"td",40),s.Kb(189,"td",40),s.Kb(190,"td",40),s.Kb(191,"td",40),s.Pb(192,"td"),s.Pb(193,"strong"),s.vc(194,"Trade Disc."),s.Ob(),s.Ob(),s.Pb(195,"td"),s.Pb(196,"strong"),s.vc(197),s.Zb(198,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(199,"tr"),s.Kb(200,"td",40),s.Kb(201,"td",40),s.Kb(202,"td",40),s.Kb(203,"td",40),s.Kb(204,"td",40),s.Kb(205,"td",40),s.Kb(206,"td",40),s.Kb(207,"td",40),s.Kb(208,"td",40),s.Kb(209,"td",40),s.Kb(210,"td",40),s.Kb(211,"td",40),s.Pb(212,"td"),s.Pb(213,"strong"),s.vc(214,"Spc. Disc."),s.Ob(),s.Ob(),s.Pb(215,"td"),s.Pb(216,"strong"),s.vc(217),s.Zb(218,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(219,"tr"),s.Kb(220,"td",40),s.Kb(221,"td",40),s.Kb(222,"td",40),s.Kb(223,"td",40),s.Kb(224,"td",40),s.Kb(225,"td",40),s.Kb(226,"td",40),s.Kb(227,"td",40),s.Kb(228,"td",40),s.Kb(229,"td",40),s.Kb(230,"td",40),s.Kb(231,"td",40),s.Pb(232,"td"),s.Pb(233,"strong"),s.vc(234,"Extra. Disc."),s.Ob(),s.Ob(),s.Pb(235,"td"),s.Pb(236,"strong"),s.vc(237),s.Zb(238,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(239,"tr"),s.Kb(240,"td",40),s.Kb(241,"td",40),s.Kb(242,"td",40),s.Kb(243,"td",40),s.Kb(244,"td",40),s.Kb(245,"td",40),s.Kb(246,"td",40),s.Kb(247,"td",40),s.Kb(248,"td",40),s.Kb(249,"td",40),s.Kb(250,"td",40),s.Kb(251,"td",40),s.Pb(252,"td"),s.Pb(253,"strong"),s.vc(254,"Discount PKR."),s.Ob(),s.Ob(),s.Pb(255,"td"),s.Pb(256,"strong"),s.vc(257),s.Zb(258,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(259,"tr"),s.Kb(260,"td",40),s.Kb(261,"td",40),s.Kb(262,"td",40),s.Kb(263,"td",40),s.Kb(264,"td",40),s.Kb(265,"td",40),s.Kb(266,"td",40),s.Kb(267,"td",40),s.Kb(268,"td",40),s.Kb(269,"td",40),s.Kb(270,"td",40),s.Kb(271,"td",40),s.Pb(272,"td"),s.Pb(273,"strong"),s.vc(274,"Total TAX"),s.Ob(),s.Ob(),s.Pb(275,"td"),s.Pb(276,"strong"),s.vc(277),s.Zb(278,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(279,"tr"),s.Kb(280,"td",40),s.Kb(281,"td",40),s.Kb(282,"td",40),s.Kb(283,"td",40),s.Kb(284,"td",40),s.Kb(285,"td",40),s.Kb(286,"td",40),s.Kb(287,"td",40),s.Kb(288,"td",40),s.Kb(289,"td",40),s.Kb(290,"td",40),s.Kb(291,"td",40),s.Pb(292,"td",41),s.Pb(293,"strong"),s.vc(294,"Total AMNT."),s.Ob(),s.Ob(),s.Pb(295,"td",41),s.Pb(296,"strong"),s.vc(297),s.Zb(298,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(299,"tr"),s.Kb(300,"td",40),s.Kb(301,"td",40),s.Kb(302,"td",40),s.Kb(303,"td",40),s.Kb(304,"td",40),s.Kb(305,"td",40),s.Kb(306,"td",40),s.Kb(307,"td",40),s.Kb(308,"td",40),s.Kb(309,"td",40),s.Kb(310,"td",40),s.Kb(311,"td",40),s.Pb(312,"td",41),s.Pb(313,"strong"),s.vc(314,"Recovery AMNT."),s.Ob(),s.Ob(),s.Pb(315,"td",42),s.Pb(316,"strong"),s.vc(317),s.Zb(318,"number"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Kb(319,"div",43),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(320,"div",44),s.Pb(321,"div",45),s.Pb(322,"h3",46),s.vc(323,"Payment Details"),s.Ob(),s.Pb(324,"table",47),s.Pb(325,"tbody",38),s.Pb(326,"tr"),s.Pb(327,"td"),s.Pb(328,"strong"),s.vc(329,"Cash"),s.Ob(),s.Ob(),s.Pb(330,"td"),s.Pb(331,"strong"),s.vc(332),s.Zb(333,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(334,"tr"),s.Pb(335,"td"),s.Pb(336,"strong"),s.vc(337,"Cheque"),s.Ob(),s.Ob(),s.Pb(338,"td"),s.Pb(339,"strong"),s.vc(340),s.Zb(341,"number"),s.Ob(),s.Ob(),s.Ob(),s.Pb(342,"tr"),s.Pb(343,"td"),s.Pb(344,"strong"),s.vc(345,"Total Payment"),s.Ob(),s.Ob(),s.Pb(346,"td"),s.Pb(347,"strong"),s.vc(348,"0"),s.Ob(),s.Ob(),s.Ob(),s.Pb(349,"tr"),s.Pb(350,"td"),s.Pb(351,"strong"),s.vc(352,"Credit"),s.Ob(),s.Ob(),s.Pb(353,"td"),s.Pb(354,"strong"),s.vc(355),s.Zb(356,"number"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(357,"div",48),s.Pb(358,"div",49),s.Pb(359,"div",50),s.Pb(360,"h2",51),s.vc(361,"Sale Order "),s.Pb(362,"span"),s.vc(363,"History"),s.Ob(),s.Ob(),s.Ob(),s.Pb(364,"div",50),s.Pb(365,"ol",52),s.Pb(366,"li"),s.Pb(367,"a",53),s.Pb(368,"span"),s.vc(369,"Order Booker"),s.Ob(),s.Ob(),s.Ob(),s.Pb(370,"li"),s.Pb(371,"span"),s.vc(372,"List"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(373,"div",8),s.Pb(374,"div",54),s.Pb(375,"div",55),s.Pb(376,"div",56),s.Pb(377,"div",8),s.Pb(378,"div",57),s.Pb(379,"div",58),s.Kb(380,"i",59),s.Kb(381,"input",60),s.Ob(),s.Ob(),s.Pb(382,"div",9),s.Pb(383,"div",61),s.Pb(384,"input",62),s.Wb("ngModelChange",(function(t){return e.startDate=t})),s.Ob(),s.Ob(),s.Pb(385,"div",61),s.Pb(386,"input",63),s.Wb("ngModelChange",(function(t){return e.endDate=t})),s.Ob(),s.Ob(),s.Pb(387,"div",64),s.Pb(388,"div",65),s.Pb(389,"ng-select",66),s.Wb("ngModelChange",(function(t){return e.OrderType=t})),s.Pb(390,"ng-option",67),s.vc(391," All "),s.Ob(),s.Pb(392,"ng-option",68),s.vc(393," Executed "),s.Ob(),s.Pb(394,"ng-option",69),s.vc(395," Counter Sale "),s.Ob(),s.Pb(396,"ng-option",70),s.vc(397," Spot Sale "),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(398,"div",64),s.Pb(399,"div",65),s.Pb(400,"ng-select",71),s.Wb("ngModelChange",(function(t){return e.salesmanId=t})),s.Pb(401,"ng-option",72),s.vc(402," All Salesmen "),s.Ob(),s.tc(403,J,2,2,"ng-option",73),s.Ob(),s.Ob(),s.Ob(),s.Pb(404,"div",64),s.Pb(405,"div",65),s.Pb(406,"ng-select",74),s.Wb("ngModelChange",(function(t){return e.OrderBooker=t})),s.tc(407,H,2,2,"ng-option",73),s.Ob(),s.Ob(),s.Ob(),s.Pb(408,"div",64),s.Pb(409,"div",65),s.Pb(410,"ng-select",75),s.Wb("ngModelChange",(function(t){return e.segment=t})),s.Pb(411,"ng-option",72),s.vc(412," All "),s.Ob(),s.tc(413,U,2,2,"ng-option",73),s.Ob(),s.Ob(),s.Ob(),s.Pb(414,"button",76),s.Wb("click",(function(){return e.getOrderBookersList()})),s.Kb(415,"i",59),s.vc(416," Search"),s.Ob(),s.Ob(),s.Ob(),s.Kb(417,"div",43),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Pb(418,"div",8),s.Pb(419,"div",77),s.Pb(420,"div",78),s.Pb(421,"div",79),s.Pb(422,"table",80),s.Pb(423,"thead"),s.Pb(424,"tr"),s.Pb(425,"th"),s.vc(426,"Date"),s.Ob(),s.Pb(427,"th"),s.vc(428,"Invoice#"),s.Ob(),s.Pb(429,"th"),s.vc(430,"Shop ID"),s.Ob(),s.Pb(431,"th"),s.vc(432,"Shop Name"),s.Ob(),s.Pb(433,"th"),s.vc(434,"Segment "),s.Ob(),s.Pb(435,"th"),s.vc(436,"Order Booker"),s.Ob(),s.Pb(437,"th"),s.vc(438,"Salesman"),s.Ob(),s.Pb(439,"th"),s.vc(440,"Invoice Total"),s.Ob(),s.Pb(441,"th"),s.vc(442,"Action"),s.Ob(),s.Ob(),s.Ob(),s.Pb(443,"tbody"),s.tc(444,Y,26,8,"tr",39),s.Ob(),s.Ob(),s.Pb(445,"div",77),s.Kb(446,"app-loader-white"),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob(),s.Ob()),2&t&&(s.yb(44),s.wc(null==e.activeOrder?null:e.activeOrder.invoice_number),s.yb(10),s.wc(null==e.activeOrder?null:e.activeOrder.shop_name),s.yb(5),s.wc(null==e.activeOrder?null:e.activeOrder.segment),s.yb(5),s.wc(null==e.activeOrder?null:e.activeOrder.retailer_phone),s.yb(5),s.wc(null==e.activeOrder?null:e.activeOrder.retailer_address),s.yb(5),s.wc(null==e.activeOrder?null:e.activeOrder.status),s.yb(5),s.wc(null==e.activeOrder?null:e.activeOrder.date),s.yb(5),s.wc(null==e.activeOrder?null:e.activeOrder.order_booker),s.yb(5),s.wc(null==e.activeOrder?null:e.activeOrder.salesman),s.yb(49),s.ec("ngForOf",e.orderDetail),s.yb(19),s.wc(s.bc(158,44,null==e.orderDetail?null:e.orderDetail.gross_amount,"1.2-2")),s.yb(20),s.wc(s.bc(178,47,null==e.orderDetail?null:e.orderDetail.to_discount,"1.2-2")),s.yb(20),s.wc(s.bc(198,50,null==e.orderDetail?null:e.orderDetail.trade_discount,"1.2-2")),s.yb(20),s.wc(s.bc(218,53,null==e.orderDetail?null:e.orderDetail.special_discount,"1.2-2")),s.yb(20),s.wc(s.bc(238,56,null==e.orderDetail?null:e.orderDetail.booker_discount,"1.2-2")),s.yb(20),s.wc(s.bc(258,59,null==e.orderDetail?null:e.orderDetail.discount_pkr,"1.2-2")),s.yb(20),s.wc(s.bc(278,62,null==e.orderDetail?null:e.orderDetail.tax_amount,"1.2-2")),s.yb(20),s.wc(s.bc(298,65,null==e.orderDetail?null:e.orderDetail.total_amount,"1.2-2")),s.yb(20),s.wc(s.bc(318,68,null==e.orderDetail?null:e.orderDetail.recovery_amount,"1.2-2")),s.yb(15),s.wc(s.bc(333,71,e.paymentInfo.cash?e.paymentInfo.cash.amount:0,"1.2-2")),s.yb(8),s.wc(s.bc(341,74,e.paymentInfo.cheque?e.paymentInfo.cheque.amount:0,"1.2-2")),s.yb(15),s.wc(s.bc(356,77,e.paymentInfo.credit?e.paymentInfo.credit.amount:0,"1.2-2")),s.yb(18),s.sc("display",e.loading?"none":""),s.yb(11),s.ec("ngModel",e.startDate),s.yb(2),s.ec("ngModel",e.endDate),s.yb(3),s.ec("multiple",!1)("ngModel",e.OrderType),s.yb(11),s.ec("multiple",!1)("ngModel",e.salesmanId),s.yb(3),s.ec("ngForOf",e.criterias.salesmen),s.yb(3),s.ec("multiple",!1)("ngModel",e.OrderBooker),s.yb(1),s.ec("ngForOf",e.criterias.order_booker),s.yb(3),s.ec("multiple",!1)("ngModel",e.segment),s.yb(3),s.ec("ngForOf",e.criterias.segments),s.yb(9),s.sc("display",e.loading?"none":""),s.ec("dtTrigger",e.dtTrigger)("dtOptions",e.dtOptions),s.yb(22),s.ec("ngForOf",e.orders),s.yb(1),s.sc("display",e.loading?"":"none"))},directives:[b.j,i.b,i.e,i.h,d.a,i.m,d.c,a.a,h.a],pipes:[b.d],styles:[".Product-Filter{background-color:#f3f2f2;padding:15px 15px 0;box-shadow:0 0 20px 0 rgba(0,0,0,.2);margin-bottom:15px;border-bottom:2px solid #0038ba}.Product-Filter .nav-link{padding:6px 8px 0;cursor:pointer}.Product-Filter .nav{width:74px;float:right}.Product-Filter .nav .fa{color:#a6a5a5;font-size:20px}.Product-Filter .active .fa{color:#0038ba}.Product-Filter .btn-primary{color:#fff!important;cursor:pointer;float:left;margin-left:0;padding-top:4px;padding-bottom:4px}#productlist01{color:#fff!important}.CL-Product{width:238px;position:relative;float:left;padding-right:10px}.CL-Product input{height:32px;border:1px solid #dedede;box-shadow:none;padding-left:30px;font-size:13px;letter-spacing:1px}.CL-Product .fa{position:absolute;top:8px;left:8px;color:#b5b5b5}._cust_filter{float:left;margin-bottom:15px;width:22%;padding-right:10px}._cust_filter ng-select{border-radius:0;height:32px}.ng-select .ng-select-container{background:#fff!important;border-radius:0;height:32px!important;min-height:32px!important;line-height:19px!important;font-family:proximanova-light,sans-serif!important;font-size:13px!important}.dataTable .btn-default,.smBTN{color:#fff}.OrderLogo{text-align:left;padding-left:0}.OrderLogo img{width:auto;height:46px}.OrderInfo{font-size:14px}.OrderInfo span{width:105px;float:left}.Order-Detail-table table td{border:1px solid #333;padding:5px!important;font-size:12px}.Order-Detail-table table th{border:1px solid #333!important;background-color:#ededed!important;color:#000;padding:5px!important;font-size:12px}.button-list .btn-primary{font-size:14px!important;letter-spacing:1px}.button-list .btn-primary .fa{padding-right:3px}.ord-no{padding-top:16px;font-size:14px;text-align:right}._cust_filter{width:190px}.pad-date{padding-left:5px!important;padding-right:0!important;font-size:12px!important;letter-spacing:normal!important}.pad-date[type=date]::-webkit-calendar-picker-indicator{position:absolute;left:auto;right:17px;width:14px;padding-left:0;padding-right:0}@media (max-width:1280px){._cust_filter{width:170px}.Product-Filter .btn-primary{padding-left:15px;padding-right:15px}}.print-icon-div,.print-icon-div a{text-align:center;padding:15px}.print-icon-div a{display:inline-block;border:1px solid #e9ecef;width:100%;text-decoration:none;color:#282828;font-size:13px}.print-icon-div a:HOVER{border:1px solid #0038ba;color:#0038ba;box-shadow:0 0 20px 0 rgba(0,0,0,.3)}.print-icon{filter:grayscale(1);width:45px;opacity:.7;display:block;margin:10px auto 15px}.print-icon-div a:HOVER .print-icon{filter:none;opacity:1}.heading3{margin:0;font-size:16px}.select-date,.select-date:focus{box-shadow:none;border:none;background-color:#f6f6f6;font-size:14px;height:30px;width:200px}.no-content{width:100%;height:65vh;display:flex}.no-content .no-content-container{margin:auto;display:table;text-align:center;color:#b7b7b7}.no-content .no-content-container img{width:70px;height:70px;margin:auto auto 10px;display:block}"],encapsulation:2}),t})()},{path:"dsr",pathMatch:"full",component:A}]}];let G=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},imports:[[c.i.forChild(q)],c.i]}),t})();var j=n("FpXt");let V=(()=>{class t{}return t.\u0275mod=s.Hb({type:t}),t.\u0275inj=s.Gb({factory:function(e){return new(e||t)},providers:[P,r.a,o.a],imports:[[b.b,i.c,a.b,d.b,j.a,G]]}),t})()},njyG:function(t,e,n){"use strict";n.d(e,"a",(function(){return r})),n.d(e,"b",(function(){return i}));var o=n("fXoL"),r=function(){function t(t,e,n){this.el=t,this.vcr=e,this.renderer=n,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe((function(){t.displayTable()})):this.displayTable()},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(){var t=this,e=this;this.dtInstance=new Promise((function(n,o){Promise.resolve(t.dtOptions).then((function(o){setTimeout((function(){var r={rowCallback:function(n,r,b){if(o.columns){var i=o.columns;i.filter((function(t){return t.ngPipeInstance&&!t.ngTemplateRef})).forEach((function(t){var e=t.ngPipeInstance,o=i.findIndex((function(e){return e.data==t.data})),r=n.childNodes.item(o),b=$(r).text(),a=e.transform(b);$(r).text(a)})),i.filter((function(t){return t.ngTemplateRef&&!t.ngPipeInstance})).forEach((function(t){var o=t.ngTemplateRef,b=o.ref,a=o.context,d=i.findIndex((function(e){return e.data==t.data})),c=n.childNodes.item(d),s=Object.assign({},a,null==a?void 0:a.userData,{adtData:r}),l=e.vcr.createEmbeddedView(b,s);e.renderer.appendChild(c,l.rootNodes[0])}))}t.dtOptions.rowCallback&&t.dtOptions.rowCallback(n,r,b)}};r=Object.assign({},o,r),t.dt=$(t.el.nativeElement).DataTable(r),n(t.dt)}))}))}))},t.\u0275fac=function(e){return new(e||t)(o.Jb(o.l),o.Jb(o.P),o.Jb(o.D))},t.\u0275dir=o.Eb({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),b=n("ofXK"),i=function(){function t(){}return t.forRoot=function(){return{ngModule:t}},t.\u0275mod=o.Hb({type:t}),t.\u0275inj=o.Gb({factory:function(e){return new(e||t)},imports:[[b.b]]}),t}()}}]);