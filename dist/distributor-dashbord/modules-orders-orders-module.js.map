{"version":3,"sources":["./src/app/modules/orders/components/order-dispatched/order-dispatched.component.ts","./src/app/modules/orders/components/order-dispatched/order-dispatched.component.html","./src/app/modules/orders/orders.component.ts","./src/app/modules/orders/orders.component.html","./src/app/modules/orders/services/dispatch.service.ts","./src/app/modules/orders/components/booking-vs-execution/booking-vs-execution.component.ts","./src/app/modules/orders/components/booking-vs-execution/booking-vs-execution.component.html","./src/app/modules/orders/components/execute-order/execute-order.component.ts","./src/app/modules/orders/components/execute-order/execute-order.component.html","./src/app/modules/orders/components/counter-sale/counter-sale.component.ts","./src/app/modules/orders/components/counter-sale/counter-sale.component.html","./src/app/modules/orders/components/orders-list-details/orders-list-details.component.ts","./src/app/modules/orders/components/orders-list-details/orders-list-details.component.html","./src/app/modules/orders/components/completed-orders/completed-orders.component.ts","./src/app/modules/orders/components/completed-orders/completed-orders.component.html","./src/app/modules/orders/components/execution-list/execution-list.component.ts","./src/app/modules/orders/components/execution-list/execution-list.component.html","./src/app/modules/orders/orders.module.ts","./src/app/modules/orders/services/execution.service.ts","./src/app/modules/orders/components/create-dispatched/create-dispatched.component.ts","./src/app/modules/orders/components/create-dispatched/create-dispatched.component.html","./src/app/modules/orders/components/orders-list/orders-list.component.ts","./src/app/modules/orders/components/orders-list/orders-list.component.html","./src/app/modules/orders/components/completed-orders-detail/completed-orders-detail.component.ts","./src/app/modules/orders/components/completed-orders-detail/completed-orders-detail.component.html","./src/app/modules/orders/services/spot-sale.service.ts","./src/app/modules/orders/orders-routing.module.ts"],"names":[],"mappings":"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","file":"modules-orders-orders-module.js","sourcesContent":["import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { DataService } from '../../../shared/services';\r\nimport { Toaster, ToasterService } from '../../../../core/services/toaster.service';\r\nimport { OrdersService } from '../../services/orders.service';\r\nimport { OrderDispatchService } from '../../services/dispatch.service';\r\nimport { LocalStorageService } from '../../../../core/services/storage.service';\r\nimport { API_URLS } from 'src/app/core/constants/api-urls.constants';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n    selector: 'app-dispatch-order',\r\n    templateUrl: 'order-dispatched.component.html',\r\n    styleUrls: ['./order-dispatched.component.css'],\r\n})\r\n\r\nexport class OrderDispatchedComponent implements OnInit {\r\n\r\n    dtOptions: DataTables.Settings;\r\n    loading: boolean;\r\n    loadingProduct: boolean;\r\n    showProducts: boolean;\r\n    savingOrder: boolean;\r\n    isAllSelected: boolean;\r\n    showFinalLoad: boolean;\r\n\r\n    searchText: string;\r\n    assignmentId: string;\r\n\r\n    salemanId: number;\r\n    currentTab: number;\r\n    distributorId: number;\r\n    orderDate: string;\r\n    invoiceDate: string;\r\n\r\n    orderDetails: any = {};\r\n    selectedRetailer: any;\r\n    merchantDiscount: any;\r\n    newProduct: any;\r\n    dispatchOrderDetail: any;\r\n    load: any;\r\n    currentLoadContent: any;\r\n    finalLoad: any;\r\n\r\n    inventory: Array<any> = [];\r\n    ordersRetailers: Array<any> = [];\r\n    specialDiscounts: Array<any> = [];\r\n    schemes: Array<any> = [];\r\n    discountSlabs: Array<any> = [];\r\n    credits: Array<any> = [];\r\n    recoveryRetailers: Array<any> = [];\r\n    remainingOrders: Array<any> = [];\r\n    ordersDispList: Array<any> = [];\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private route: ActivatedRoute,\r\n        private toastService: ToasterService,\r\n        private dataService: DataService,\r\n        private storageService: LocalStorageService,\r\n        private dispatchService: OrderDispatchService,\r\n        private orderService: OrdersService,\r\n    ) {\r\n        this.distributorId = this.storageService.getItem('distributor').id;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.dtOptions = {\r\n            pagingType: 'simple_numbers'\r\n        };\r\n        this.currentTab = 1;\r\n        this.setLoad();\r\n        this.setCurrentLoad(1);\r\n        this.load.content.push(this.currentLoadContent);\r\n        this.assignmentId = this.route.snapshot.paramMap.get('assignId') || null;\r\n        this.salemanId = +this.route.snapshot.paramMap.get('saleManId') || null;\r\n        this.orderDate = this.route.snapshot.paramMap.get('date');\r\n        if (!this.salemanId || !this.orderDate || !this.assignmentId) {\r\n            this.router.navigateByUrl('/orders/dispatch-orders');\r\n            const toast: Toaster = { type: 'error', message: 'No order selected to dispatch!', title: 'Dispatch Error:' };\r\n            this.toastService.showToaster(toast);\r\n        } else {\r\n            this.getProducts();\r\n            this.getSchemes();\r\n        }\r\n    }\r\n\r\n    setLoad(): void {\r\n        this.load = {\r\n            salesman_id: 0,\r\n            total_orders: 0,\r\n            total_gross_amount: 0,\r\n            total_trade_offer: 0,\r\n            total_trade_discount: 0,\r\n            total_special_discount: 0,\r\n            total_booker_discount: 0,\r\n            total_tax_amount: 0,\r\n            total_recovery_amount: 0,\r\n            total_net_sale: 0,\r\n            total_products: 0,\r\n            distributor_id: 0,\r\n            total_sub_loads: 0,\r\n            processed_date: '',\r\n            content: []\r\n        };\r\n    }\r\n\r\n    setCurrentLoad(ldNumber: number): void {\r\n        this.currentLoadContent = {\r\n            loadNumber: ldNumber,\r\n            order_ids: [],\r\n            total_products: 0,\r\n            total_orders: 0,\r\n            items: []\r\n        };\r\n    }\r\n\r\n    tabChanged(): void {\r\n        switch (this.currentTab) {\r\n            case 1:\r\n                this.savingOrder = true;\r\n                this.selectedRetailer = JSON.parse(JSON.stringify(null));\r\n                this.orderDetails.items = [];\r\n                this.getDispatchDetails();\r\n                break;\r\n            case 2:\r\n                this.dispatchOrderDetail = null;\r\n                this.getDispatchOrdersDetail();\r\n                break;\r\n            case 3:\r\n                this.setDataForLoad();\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    isNumber(event: KeyboardEvent, type: string = 'charges'): boolean {\r\n        return this.dataService.isNumber(event, type);\r\n    }\r\n\r\n    getDispatchDetails(): void {\r\n        this.loading = true;\r\n        this.savingOrder = false;\r\n        this.showFinalLoad = false;\r\n        this.orderService.getDispatchDetailBySalemanAndDate(this.salemanId, this.assignmentId, this.orderDate).subscribe(res => {\r\n            this.loading = false;\r\n            if (res.status === 200) {\r\n                if (res.data.loadSheet) {\r\n                    this.finalLoad = res.data.loadSheetData;\r\n                    this.currentTab = 4;\r\n                    setTimeout(() => {\r\n                        this.showFinalLoad = true;\r\n                    }, 500);\r\n                } else {\r\n                    this.ordersRetailers = res.data.retailers.map(ret => {\r\n                        ret.isActive = false;\r\n                        return ret;\r\n                    });\r\n                }\r\n            }\r\n        }, error => {\r\n            this.loading = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                console.log('Error while getting orders data :>> ', error.message);\r\n                const toast: Toaster = { type: 'error', message: 'Cannot fetch Orders. Please try again', title: 'Error:' };\r\n                this.toastService.showToaster(toast);\r\n            }\r\n        });\r\n    }\r\n\r\n    getDispatchOrdersDetail(): void {\r\n        if (!this.dispatchOrderDetail || !this.dispatchOrderDetail.summary) {\r\n            this.loading = true;\r\n            this.orderService.getDispatchOrdersDetail(this.salemanId, this.orderDate, this.assignmentId).subscribe(res => {\r\n                this.loading = false;\r\n                if (res.status === 200) {\r\n                    this.dispatchOrderDetail = res.data;\r\n                    this.dispatchOrderDetail.orders = this.dispatchOrderDetail.orders.map(order => {\r\n                        order.isAdded = false;\r\n                        const isInCredit = this.credits.find(x => x.order_id === order.id && x.recovery > 0);\r\n                        if (isInCredit) {\r\n                            order.isAdded = true;\r\n                        }\r\n                        const { retailer_id } = order;\r\n                        this.credits.push({\r\n                            recovery: 0, order_id: order.id, retailer_id, dispatched_bill_amount: order.order_total\r\n                        });\r\n                        return order;\r\n                    });\r\n                    this.recoveryRetailers = [];\r\n                    this.dispatchOrderDetail.orders.forEach(order => {\r\n                        const ord = this.recoveryRetailers.find(x => x.retailer_id === order.retailer_id);\r\n                        if (!ord) {\r\n                            this.recoveryRetailers.push(order);\r\n                        }\r\n                    });\r\n                    if (this.currentTab === 3) {\r\n                        this.setDataForLoad();\r\n                    }\r\n                }\r\n            }, error => {\r\n                this.loading = false;\r\n                if (error.status !== 1 && error.status !== 401) {\r\n                    console.log('Error while getting orders data :>> ', error.message);\r\n                    const toast: Toaster = { type: 'error', message: 'Cannot fetch Orders. Please try again', title: 'Error:' };\r\n                    this.toastService.showToaster(toast);\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    setDataForLoad(): void {\r\n        if (!this.dispatchOrderDetail?.orders) {\r\n            this.getDispatchOrdersDetail();\r\n        } else {\r\n            this.remainingOrders = JSON.parse(JSON.stringify(this.dispatchOrderDetail?.orders));\r\n            this.ordersDispList = JSON.parse(JSON.stringify(this.remainingOrders));\r\n        }\r\n    }\r\n\r\n    getProducts(): void {\r\n        this.loadingProduct = true;\r\n        this.orderService.getCounterSaleData().subscribe(res => {\r\n            this.loadingProduct = false;\r\n            if (res.status === 200) {\r\n                this.inventory = res.data.inventory;\r\n                this.specialDiscounts = res.data.special_discount;\r\n                this.getDispatchDetails();\r\n            }\r\n        }, error => {\r\n            this.loadingProduct = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                console.log('Error while getting products data :>> ', error.message);\r\n                const toast: Toaster = { type: 'error', message: 'Cannot fetch Products. Please try again', title: 'Error:' };\r\n                this.toastService.showToaster(toast);\r\n            }\r\n        });\r\n    }\r\n\r\n    getSchemes(): void {\r\n        this.orderService.getSchemes().subscribe(res => {\r\n            if (res.status === 200) {\r\n                this.schemes = res.data;\r\n            } else {\r\n                const toast: Toaster = { type: 'error', message: res.message, title: 'Error:' };\r\n                this.toastService.showToaster(toast);\r\n            }\r\n        }, error => {\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                const toast: Toaster = { type: 'error', message: 'Cannot fetch Trade Offers. Please try again', title: 'Error:' };\r\n                this.toastService.showToaster(toast);\r\n            }\r\n        });\r\n    }\r\n\r\n    getOrderDetailsByRetailer(retailer: any): void {\r\n        if (this.selectedRetailer?.id !== retailer.id) {\r\n            this.savingOrder = true;\r\n            this.newProduct = null;\r\n            this.selectedRetailer = JSON.parse(JSON.stringify(retailer));\r\n            this.orderService.getOrderDetails(retailer.id).subscribe(res => {\r\n              this.savingOrder = false;\r\n              if (res.status === 200) {\r\n                    this.orderDetails = res.data;\r\n                    this.orderDetails.items = this.orderDetails.items.map(prod => {\r\n                        const product = this.inventory.find(x => x.item_id === prod.item_id);\r\n                        prod.item_trade_price = JSON.parse(JSON.stringify(product.item_trade_price));\r\n                        prod.parent_trade_price = JSON.parse(JSON.stringify(product.parent_trade_price));\r\n                        prod.parent_unit_id = JSON.parse(JSON.stringify(product.parent_unit_id));\r\n                        prod.parent_quantity = JSON.parse(JSON.stringify(product.quantity));\r\n                        prod.child = JSON.parse(JSON.stringify(product.child));\r\n                        prod.item_retail_price = JSON.parse(JSON.stringify(product.item_retail_price));\r\n                        prod.extra_discount = JSON.parse(JSON.stringify(prod.booker_discount));\r\n                        prod.tax_class_amount = JSON.parse(JSON.stringify(product.tax_class_amount));\r\n                        prod.tax_class_id = JSON.parse(JSON.stringify(product.tax_class_id));\r\n                        prod.tax_class_type = JSON.parse(JSON.stringify(product.tax_class_type));\r\n                        prod.pref_id = JSON.parse(JSON.stringify(product.pref_id));\r\n                        prod.unit_id = JSON.parse(JSON.stringify(product.unit_id));\r\n                        prod.unit_name = JSON.parse(JSON.stringify(product.unit_name));\r\n                        prod.brand_id = JSON.parse(JSON.stringify(product.brand_id));\r\n                        prod.is_active = JSON.parse(JSON.stringify(product.is_active));\r\n\r\n                        prod.stockQty = JSON.parse(JSON.stringify(prod.dispatch_qty));\r\n                        prod.net_amount = JSON.parse(JSON.stringify(prod.final_price));\r\n                        prod.gross_amount = prod.unit_price_after_scheme_discount * prod.stockQty;\r\n                        prod.extra_discount_pkr = prod.stockQty * prod.extra_discount;\r\n                        prod.original_amount = prod.item_trade_price * prod.stockQty;\r\n                        prod.special_discount_pkr = prod.special_discount;\r\n                        prod.trade_discount = JSON.parse(JSON.stringify(prod.merchant_discount));\r\n                        prod.trade_discount_pkr = JSON.parse(JSON.stringify(prod.merchant_discount_pkr));\r\n                        prod.tax_amount_pkr = JSON.parse(JSON.stringify(prod.total_tax_amount || 0));\r\n                        prod.selectedScheme = this.schemes.find(scheme => scheme.id === prod.scheme_id);\r\n                        return prod;\r\n                    });\r\n                }\r\n            }, error => {\r\n                this.savingOrder = false;\r\n                this.loading = false;\r\n                if (error.status !== 1 && error.status !== 401) {\r\n                    console.log('Error while getting order detail data :>> ', error.message);\r\n                    const toast: Toaster = { type: 'error', message: 'Cannot fetch Order Detail. Please try again', title: 'Error:' };\r\n                    this.toastService.showToaster(toast);\r\n                }\r\n            });\r\n            this.getDiscountSlabs();\r\n        }\r\n    }\r\n\r\n    addNewProductToOrder(product: any): void {\r\n        this.newProduct = product;\r\n    }\r\n\r\n    getDiscountSlabs(): void {\r\n        if (!this.discountSlabs.length) {\r\n            this.orderService.getDiscountSlabs().subscribe(res => {\r\n                if (res.status === 200) {\r\n                    this.discountSlabs = res.data;\r\n                    this.setMerchantDiscount();\r\n                }\r\n            }, error => {\r\n                if (error.status !== 1 && error.status !== 401) {\r\n                    console.log('Error while getting order detail data :>> ', error.message);\r\n                    const toast: Toaster = { type: 'error', message: 'Cannot fetch Merchant Discounts. Please try again', title: 'Error:' };\r\n                    this.toastService.showToaster(toast);\r\n                }\r\n            });\r\n        } else {\r\n            this.setMerchantDiscount();\r\n        }\r\n    }\r\n\r\n    setMerchantDiscount(): void {\r\n        this.merchantDiscount = this.discountSlabs.find(x => x.region_id === this.selectedRetailer.region_id &&\r\n            this.selectedRetailer.segment_id === x.segment_id && x.channel_id === this.selectedRetailer.retailer_type_id);\r\n    }\r\n\r\n    openProductsList(): void {\r\n        this.showProducts = true;\r\n        document.body.classList.add('no-scroll');\r\n        document.getElementsByClassName('overlay-blure')[0].classList.add('d-block');\r\n        document.getElementById('order-contaienr').classList.add('blur-div');\r\n    }\r\n\r\n    closeNewProducts(): void {\r\n        this.showProducts = false;\r\n        document.body.classList.remove('no-scroll');\r\n        document.getElementsByClassName('overlay-blure')[0].classList.remove('d-block');\r\n        document.getElementById('order-contaienr').classList.remove('blur-div');\r\n    }\r\n\r\n    saveOrder(): void {\r\n        this.savingOrder = true;\r\n        console.log('this.orderDetails :>> ', this.orderDetails);\r\n        this.orderService.saveDispatchQuantityOrder(this.orderDetails).subscribe(res => {\r\n            this.newProduct = null;\r\n            this.savingOrder = false;\r\n            if (res.status === 200) {\r\n                this.toastService.showToaster({\r\n                    message: `Order for ${(this.selectedRetailer.retailer_name as string).toUpperCase()} dispatched successfully!`,\r\n                    title: 'Order dispatched:',\r\n                    type: 'success'\r\n                });\r\n            }\r\n            this.orderDetails.items = [];\r\n            this.selectedRetailer.isActive = false;\r\n            this.ordersRetailers.find(x => x.id === this.selectedRetailer.id).isActive = false;\r\n            this.selectedRetailer = JSON.parse(JSON.stringify(null));\r\n        }, error => {\r\n            this.savingOrder = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                console.log('Error in Save Order for dispatch ::>> ', error);\r\n                this.toastService.showToaster({\r\n                    message: 'Something went wrong dispatch cannot be save at the moment!',\r\n                    title: 'Error:',\r\n                    type: 'error'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    setOrderItems(): void {\r\n        this.orderDetails.items = this.orderDetails.items.map(item => {\r\n            const orderItem = {\r\n                id: item.id || 0,\r\n                employee_id: this.orderDetails.employee_id,\r\n                pref_id: item.pref_id,\r\n                item_quantity_booker: item.item_quantity_booker,\r\n                item_quantity_updated: item.item_quantity_updated || 0,\r\n                quantity_returned: 0,\r\n                original_price: item.item_trade_price,\r\n                scheme_discount: item.scheme_discount,\r\n                unit_price_after_scheme_discount: item.unit_price_after_scheme_discount,\r\n                merchant_discount: item.trade_discount,\r\n                merchant_discount_pkr: item.trade_discount_pkr,\r\n                unit_price_after_merchant_discount: item.unit_price_after_merchant_discount,\r\n                special_discount: item.special_discount,\r\n                unit_price_after_special_discount: item.unit_price_after_special_discount,\r\n                booker_discount: item.extra_discount,\r\n                unit_price_after_individual_discount: item.unit_price_after_individual_discount || item.price,\r\n                unit_id: item.unit_id,\r\n                unit_name: item.unit_name,\r\n                brand_id: item.brand_id,\r\n                item_id: item.item_id,\r\n                item_name: item.item_name,\r\n                scheme_id: item.selectedScheme?.id || 0,\r\n                scheme_min_quantity: item.selectedScheme?.min_qty || 0,\r\n                scheme_quantity_free: item.selectedScheme?.quantity_free || 0,\r\n                scheme_rule: item.selectedScheme?.rule_name || '',\r\n                gift_value: item.gift_value || 0,\r\n                parent_pref_id: item.child,\r\n                parent_unit_id: item.parent_unit_id,\r\n                parent_brand_id: item.brand_id,\r\n                parent_tp: item.parent_trade_price,\r\n                parent_qty_sold: item.parent_qty_sold,\r\n                parent_value_sold: item.net_amount,\r\n                final_price: item.net_amount,\r\n                campaign_id: item.selectedScheme?.id || 0,\r\n                item_status: item.is_active,\r\n                dispatch_status: 2,\r\n                dispatch_qty: +item.stockQty,\r\n                dispatch_amount: item.net_amount,\r\n                reasoning: '',\r\n                distributor_id: this.orderDetails.distributor_id,\r\n                division_id: this.selectedRetailer.division_id || 0,\r\n                region_id: this.orderDetails.region_id,\r\n                area_id: this.orderDetails.area_id,\r\n                assigned_route_id: this.orderDetails.assigned_route_id,\r\n                territory_id: this.orderDetails.territory_id,\r\n                booked_order_value: item.booked_order_value || 0,\r\n                booked_total_qty: item.booked_total_qty || 0,\r\n                is_deleted: item.isDeleted,\r\n                quantity: +item.stockQty,\r\n                gross_sale_amount: item.original_amount,\r\n                total_retail_price: item.item_retail_price * item.stockQty,\r\n                tax_class_id: item.tax_class_id,\r\n                tax_in_percentage: item.tax_class_amount,\r\n                tax_in_value: item.tax_amount_value || 0,\r\n                total_tax_amount: item.tax_amount_pkr || 0,\r\n                total_amount_after_tax: item.net_amount,\r\n                total_discount: +item.stockQty * item.scheme_discount +\r\n                    +item.stockQty * item.trade_discount_pkr + (+item.stockQty * item.special_discount) + item.extra_discount_pkr,\r\n                order_id: this.orderDetails.id\r\n            };\r\n            return orderItem;\r\n        });\r\n        this.saveOrder();\r\n    }\r\n\r\n    cancelOrder(): void {\r\n        document.getElementById('close-del').click();\r\n        this.savingOrder = true;\r\n        this.orderService.cancelOrder(this.orderDetails.id).subscribe(res => {\r\n            this.savingOrder = false;\r\n            if (res.status === 200) {\r\n                this.toastService.showToaster({\r\n                    message: `Order for ${(this.selectedRetailer.retailer_name as string).toUpperCase()} canceled!`,\r\n                    title: 'Order dispatched:',\r\n                    type: 'success'\r\n                });\r\n                this.orderDetails.items = [];\r\n                this.ordersRetailers = this.ordersRetailers.filter(x => x.id !== this.selectedRetailer.id);\r\n                this.selectedRetailer = null;\r\n                this.getDispatchDetails();\r\n            }\r\n        }, error => {\r\n            this.savingOrder = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                console.log('Error in Save Order for dispatch ::>> ', error);\r\n                this.toastService.showToaster({\r\n                    message: 'Something went wrong order cannot be canceled at the moment!',\r\n                    title: 'Error:',\r\n                    type: 'error'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    addOrderBill(order: any): void {\r\n        order.isAdded = true;\r\n        let payment = this.credits.find(x => x.order_id === order.id);\r\n        if (payment) {\r\n            payment.recovery = +order.recovery;\r\n        } else {\r\n            payment = {\r\n                    recovery: +order.recovery, order_id: order.id, retailer_id: order.retailer_id, dispatched_bill_amount: order.order_total\r\n            };\r\n            this.credits.push(payment);\r\n        }\r\n    }\r\n\r\n    removeOrderBill(order: any): void {\r\n        order.isAdded = false;\r\n        order.recovery = 0;\r\n        // this.credits = this.credits.filter(ord => ord.order_id !== order.id);\r\n    }\r\n\r\n    searchByRetailer(): void {\r\n        if (this.searchText) {\r\n            this.ordersDispList = this.remainingOrders.filter(ret =>\r\n                ret.retailer_name.toLowerCase().includes(this.searchText.toLowerCase()));\r\n        } else {\r\n            this.ordersDispList = JSON.parse(JSON.stringify(this.remainingOrders));\r\n        }\r\n    }\r\n\r\n    openConfirmationModal(): void {\r\n        if (this.currentLoadValidation()) {\r\n            const unSelected = this.dispatchOrderDetail.orders.filter(x => !x.isSelected);\r\n            if (this.load.content.length === 3 && unSelected.length !== 0) {\r\n                this.toastService.showToaster({\r\n                    type: 'error',\r\n                    title: 'Select All Orders:',\r\n                    message: 'Some orders are not selected'\r\n                });\r\n                return;\r\n            }\r\n            if (this.load.content.length !== 3 && unSelected.length !== 0) {\r\n                if (this.currentLoadContent.items.length) {\r\n                    document.getElementById('open-create-load').click();\r\n                } else {\r\n                    this.toastService.showToaster({\r\n                        type: 'error',\r\n                        title: 'Select Orders:',\r\n                        message: 'Select orders to create load'\r\n                    });\r\n                }\r\n            } else {\r\n                this.saveDispatch();\r\n            }\r\n        }\r\n    }\r\n\r\n    saveDispatch(): void {\r\n        this.loading = true;\r\n        let totalRecovery = 0;\r\n        this.credits.map((x) => {\r\n            totalRecovery = x.recovery + totalRecovery;\r\n        });\r\n        let totalProducts = 0;\r\n        this.load.content.map((x) => {\r\n            totalProducts = x.total_products + totalProducts;\r\n        });\r\n        this.load.content = this.load.content.map(x => {\r\n            delete x.loadNumber;\r\n            return x;\r\n        });\r\n        this.load.salesman_id = this.salemanId;\r\n        this.load.total_orders = this.dispatchOrderDetail.orders.length;\r\n        this.load.total_gross_amount = this.dispatchOrderDetail.summary.gross_total || 0;\r\n        this.load.total_trade_offer = this.dispatchOrderDetail.summary.trade_offer;\r\n        this.load.total_trade_discount = this.dispatchOrderDetail.summary.trade_discount;\r\n        this.load.total_special_discount = this.dispatchOrderDetail.summary.special_discount;\r\n        this.load.total_booker_discount = this.dispatchOrderDetail.summary.booker_discount;\r\n        this.load.total_tax_amount = this.dispatchOrderDetail.summary.total_tax || 0;\r\n        this.load.total_recovery_amount = totalRecovery;\r\n        this.load.total_net_sale = this.dispatchOrderDetail.summary.total_price;\r\n        this.load.total_products = totalProducts;\r\n        this.load.distributor_id = this.distributorId;\r\n        this.load.total_sub_loads = this.load.content.length;\r\n        this.load.processed_date = this.orderDate;\r\n        this.load.assignmentId = this.assignmentId;\r\n        const order = { load: this.load, payments: this.credits };\r\n        this.showFinalLoad = false;\r\n        this.orderService.saveDispatchOrder(order).subscribe(res => {\r\n            if (res.status === 200) {\r\n                this.finalLoad = res.data;\r\n                setTimeout(() => {\r\n                    this.loading = false;\r\n                    this.showFinalLoad = true;\r\n                }, 500);\r\n                this.dispatchOrderDetail = null;\r\n                this.ordersDispList = [];\r\n                this.remainingOrders = [];\r\n                this.isAllSelected = false;\r\n                this.setLoad();\r\n                this.setCurrentLoad(1);\r\n                this.load.content.push(this.currentLoadContent);\r\n                this.toastService.showToaster({\r\n                    type: 'success',\r\n                    message: 'Payments and Load saved successfully!',\r\n                    title: 'Payments and Load saved:'\r\n                });\r\n                this.currentTab = 4;\r\n                this.tabChanged();\r\n            }\r\n        }, error => {\r\n            this.loading = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                this.toastService.showToaster({\r\n                    type: 'error',\r\n                    message: 'Payments and Load not saved, please try again later!',\r\n                    title: 'Error:'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    currentLoadValidation(): boolean {\r\n        if (!this.currentLoadContent.items.length) {\r\n            this.toastService.showToaster({\r\n                title: 'Load Error:',\r\n                message: 'Please select orders to add into current load',\r\n                type: 'error'\r\n            });\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    changeCurrentLoad(ldNumber: number): void {\r\n        if (this.currentLoadValidation()) {\r\n            this.remainingOrders = this.dispatchOrderDetail.orders.filter(x => !x.isSelected);\r\n            this.currentLoadContent = this.load.content.find(x => x.loadNumber === ldNumber);\r\n            const orders = this.dispatchOrderDetail?.orders.filter(x => {\r\n                if (this.currentLoadContent.order_ids.includes(x.id)) {\r\n                    x.isSelected = true;\r\n                    return x;\r\n                }\r\n            });\r\n            if (orders.length) {\r\n                this.remainingOrders = [...orders, ...this.remainingOrders];\r\n            }\r\n            this.ordersDispList = JSON.parse(JSON.stringify(this.remainingOrders));\r\n        }\r\n    }\r\n\r\n    updateDispatchedQty(item: any): void {\r\n        if (+item.issued_qty > 1000) {\r\n          item.issued_qty = 0;\r\n        }\r\n        item.dispatched_qty = +item.issued_qty + item.actual_qty;\r\n    }\r\n\r\n    allSelected(): void {\r\n        if (this.isAllSelected) {\r\n            this.remainingOrders = this.remainingOrders.map(order => {\r\n                order.isSelected = true;\r\n                return order;\r\n            });\r\n            this.setAllOrdersToCurrentLoad();\r\n        } else {\r\n            this.remainingOrders = this.remainingOrders.map(order => {\r\n                order.isSelected = false;\r\n                return order;\r\n            });\r\n            this.removeAllOrdersFromCurrentLoad();\r\n        }\r\n        this.ordersDispList = JSON.parse(JSON.stringify(this.remainingOrders));\r\n    }\r\n\r\n    setAllOrdersToCurrentLoad(): void {\r\n        this.currentLoadContent.items = [];\r\n        this.remainingOrders.forEach(order => {\r\n            this.dispatchOrderDetail.orders = this.dispatchOrderDetail.orders.map(x => {\r\n                if (order.id === x.id) {\r\n                    x.isSelected = true;\r\n                }\r\n                return x;\r\n            });\r\n            this.currentLoadContent = this.dispatchService.setLoadContent(order, this.currentLoadContent);\r\n        });\r\n    }\r\n\r\n    getItemName(itemId: number): string {\r\n        const item = this.inventory.find(x => x.item_id === itemId);\r\n        return item.item_name;\r\n    }\r\n\r\n    addCurrentLoad(): void {\r\n        this.remainingOrders = this.remainingOrders.filter(x => !(this.currentLoadContent.order_ids as Array<number>).includes(x.id));\r\n        this.ordersDispList = JSON.parse(JSON.stringify(this.remainingOrders));\r\n        this.setCurrentLoad(this.load.content.length + 1);\r\n        this.load.content.push(this.currentLoadContent);\r\n        if (this.currentLoadContent.loadNumber === 3) {\r\n            this.isAllSelected = true;\r\n            this.allSelected();\r\n        }\r\n        document.getElementById('close-confirm-load').click();\r\n    }\r\n\r\n    removeAllOrdersFromCurrentLoad(): void {\r\n        this.currentLoadContent.items = [];\r\n        this.dispatchOrderDetail.orders = this.dispatchOrderDetail.orders.map(x => {\r\n            if (this.currentLoadContent.order_ids.includes(x.id)) {\r\n                x.isSelected = false;\r\n            }\r\n            return x;\r\n        });\r\n        this.currentLoadContent.order_ids = [];\r\n        this.currentLoadContent.total_orders = 0;\r\n        this.currentLoadContent.total_products = 0;\r\n    }\r\n\r\n    retailerSelected(order: any): void {\r\n        if (order.isSelected) {\r\n            this.currentLoadContent = this.dispatchService.setLoadContent(order, this.currentLoadContent);\r\n            this.dispatchOrderDetail.orders = this.dispatchOrderDetail.orders.map(x => {\r\n                if (order.id === x.id) {\r\n                    x.isSelected = true;\r\n                }\r\n                return x;\r\n            });\r\n        } else {\r\n            this.isAllSelected = false;\r\n            this.currentLoadContent = this.dispatchService.removeOrderFromCurrentLoad(order, this.currentLoadContent);\r\n            this.dispatchOrderDetail.orders = this.dispatchOrderDetail.orders.map(x => {\r\n                if (order.id === x.id) {\r\n                    x.isSelected = false;\r\n                }\r\n                return x;\r\n            });\r\n        }\r\n        this.remainingOrders = this.remainingOrders.map(x => {\r\n            if (x.id === order.id) {\r\n                x.isSelected = order.isSelected;\r\n            }\r\n            return x;\r\n        });\r\n        this.ordersDispList = JSON.parse(JSON.stringify(this.remainingOrders));\r\n    }\r\n\r\n    completeDispatch(): void {\r\n        this.loading = true;\r\n        this.orderService.completeOrderDispatch(this.finalLoad.load_id).subscribe(res => {\r\n            this.loading = false;\r\n            this.toastService.showToaster({\r\n                type: 'success',\r\n                message: 'Order dispatch completed successfully!',\r\n                title: 'Order Dipatched Completed:'\r\n            });\r\n            this.router.navigateByUrl('/orders/dispatch-orders');\r\n        }, error => {\r\n            this.loading = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                this.toastService.showToaster({\r\n                    type: 'error',\r\n                    message: 'Order Dispatch cannot be completed at the moment, please try again later!',\r\n                    title: 'Error:'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    revertDispatch(): void {\r\n        this.loading = true;\r\n        this.orderService.revertOrderDispatch(this.finalLoad.load_id).subscribe(res => {\r\n            this.loading = false;\r\n            this.toastService.showToaster({\r\n                type: 'success',\r\n                message: 'Order dispatch reverted successfully!',\r\n                title: 'Dipatch Reverted:'\r\n            });\r\n            this.currentTab = 1;\r\n            this.credits = [];\r\n            this.dispatchOrderDetail = null;\r\n            this.ordersDispList = [];\r\n            this.isAllSelected = false;\r\n            this.tabChanged();\r\n        }, error => {\r\n            this.loading = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                this.toastService.showToaster({\r\n                    type: 'error',\r\n                    message: 'Revert cannot be completed at the moment, please try again later!',\r\n                    title: 'Error:'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getBookingSheet(): void {\r\n       const sheetUrl = `${environment.apiDomain}${API_URLS.BOOKING_SHEET_PDF}?emp=${this.salemanId}&date=${this.orderDate}&loadId=${this.finalLoad.load_id}`;\r\n       window.open(sheetUrl);\r\n    }\r\n\r\n    getBills(size: string = 'A4'): void {\r\n        if (this.invoiceDate) {\r\n            this.orderService.updateDispatchInvoiceDate(this.finalLoad.load_id, this.invoiceDate).subscribe(res => {\r\n                if (res.status === 200) {\r\n                    document.getElementById('close-bills').click();\r\n                    const billsUrl = `${environment.apiDomain}${API_URLS.BILLS}?type=bill&emp=${this.salemanId}&date=${this.orderDate}&dist_id=${this.distributorId}&size=${size}&status=processed&loadId=${this.finalLoad.load_id}`;\r\n                    window.open(billsUrl);\r\n                } else {\r\n                    this.toastService.showToaster({\r\n                        type: 'error',\r\n                        message: 'Bill cannot be generated at the moment, please try again later!',\r\n                        title: 'Bill cannot be generated:'\r\n                    });\r\n                }\r\n            }, error => {\r\n                if (error.status !== 1 && error.status !== 401) {\r\n                    this.toastService.showToaster({\r\n                        type: 'error',\r\n                        message: 'Bill cannot be generated at the moment, please try again later!',\r\n                        title: 'Bill cannot be generated:'\r\n                    });\r\n                }\r\n            });\r\n        } else {\r\n            this.toastService.showToaster({\r\n                type: 'error',\r\n                message: 'Please select invoice date to generate bill(s)!',\r\n                title: 'Please select invoice date:'\r\n            });\r\n        }\r\n    }\r\n\r\n    generateLSPDF(): void {\r\n        const billsUrl = `${environment.apiDomain}${API_URLS.LS_PDF}/${this.finalLoad.load_id}/${this.salemanId}/${this.orderDate}`;\r\n        window.open(billsUrl);\r\n    }\r\n\r\n}\r\n","<app-products-drawer *ngIf=\"showProducts\" [selectedRetailer]=\"selectedRetailer\" [orderedProducts]=\"orderDetails?.items\"\r\n    [loadingProducts]=\"loadingProduct\" [allProducts]=\"inventory\" [productSchemes]=\"schemes\"\r\n    [productMerchantDiscount]=\"merchantDiscount\" [specialDiscounts]=\"specialDiscounts\"\r\n    (drawerClosed)=\"closeNewProducts()\" (productSelected)=\"addNewProductToOrder($event)\">\r\n</app-products-drawer>\r\n\r\n<div class=\"modal fade\" id=\"order-del\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"orderLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content top-borderRed\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"orderLabel\">Cancel Order <span></span></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"col-md-12\">\r\n                    <p>Are you sure you want to cancel the order?</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer border-0\">\r\n                <button type=\"button\" class=\"btn btn-primary\" (click)=\"cancelOrder()\">Yes</button>\r\n                <button type=\"submit\" id=\"close-del\" class=\"btn btn-cancel\" data-dismiss=\"modal\"\r\n                    aria-label=\"Close\">No</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"billsModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"billsModalLabel\"\r\n    aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content top_border\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"billsModalLabel\">Please chose invoice date<span></span></h5>\r\n                <button type=\"button\" id=\"close-bills\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-auto\" style=\"padding-top:6px;font-size:14px\">Select Date</div>\r\n                    <div class=\"col\"> <input type=\"date\" id=\"invoice-date\" [(ngModel)]=\"invoiceDate\"\r\n                            class=\"form-control select-date\" name=\"invoice-date\" placeholder=\"\">\r\n                    </div>\r\n                    <div class=\"col-12\">\r\n                        <hr>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row\">\r\n                    <div class=\"col-12\">\r\n                        <h3 class=\"heading3\">Select paper size for print</h3>\r\n                    </div>\r\n                </div>\r\n                <div class=\"row print-icon-div pb-0\">\r\n                    <div class=\"col-6 pl-0\">\r\n                        <a (click)=\"getBills('A4')\"><img class=\"print-icon\" src=\"assets/images/a4.svg\" alt=\"\">\r\n                            <strong>A4 Portrait\r\n                                Paper</strong></a>\r\n                    </div>\r\n                    <div class=\"col-6 pr-0\">\r\n                        <a (click)=\"getBills('A5')\"><img class=\"print-icon\" src=\"assets/images/a5.svg\" alt=\"\">\r\n                            <strong>A5 Landscape\r\n                                Paper</strong></a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"modal fade\" id=\"create-load\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"create-loadLabel\"\r\n    aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content top-borderRed\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"create-loadLabel\">Confirm Load <span></span></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"col-md-12\">\r\n                    <p>Are you sure you want to create New Load?</p>\r\n                </div>\r\n\r\n            </div>\r\n            <div class=\"modal-footer border-0\">\r\n                <button type=\"button\" class=\"btn btn-primary\" (click)=\"addCurrentLoad()\">Yes</button>\r\n                <button type=\"submit\" id=\"close-confirm-load\" class=\"btn btn-cancel\" data-dismiss=\"modal\"\r\n                    aria-label=\"Close\">No</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div id=\"order-contaienr\" class=\"container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card daily-operations\">\r\n                <ul class=\"nav nav-pills nav_M mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 1 ? 'active' : ''\"\r\n                            id=\"pills-home-tab\"><span>Orders</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa fa-list-ul\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 2 ? 'active' : ''\"\r\n                            id=\"pills-contact-tab\"><span>Credit</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa  fa-dollar-sign\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 3 ? 'active' : ''\"\r\n                            id=\"pills-load-tab\"><span>Load</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa fa-truck\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 4 ? 'active' : ''\"\r\n                            id=\"pills-final-tab\"><span>Final</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa fa-check\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n                <div class=\"tab-content\" id=\"pills-tabContent\">\r\n                    <div [ngClass]=\"currentTab === 1 ? 'active show' : ''\" class=\"tab-pane tab_M p-0 PT-15 fade\"\r\n                        id=\"pills-home\" role=\"tabpanel\" aria-labelledby=\"pills-home-tab\">\r\n                        <div class=\"row m-0 grayTopborder\">\r\n                            <div id=\"orderList-id\" class=\"col-4 p-0\">\r\n                                <app-retailer-sub-list [retailers]=\"ordersRetailers\" [loading]=\"loading || loadingProduct || savingOrder\"\r\n                                    (retailerChanged)=\"getOrderDetailsByRetailer($event)\"></app-retailer-sub-list>\r\n                            </div>\r\n\r\n                            <div class=\"col p-0\">\r\n                                <div *ngIf=\"currentTab === 1\" class=\"rightHeight\">\r\n                                    <app-order-items-list *ngIf=\"!savingOrder && selectedRetailer\" [orderDetail]=\"orderDetails\"\r\n                                        [schemes]=\"schemes\" [selectedRetailer]=\"selectedRetailer\" [orders]=\"ordersRetailers\"\r\n                                        [allProducts]=\"inventory\" [specialDiscounts]=\"specialDiscounts\"\r\n                                        [merchantDiscount]=\"merchantDiscount\" [newProduct]=\"newProduct\"\r\n                                        [orderType]=\"'dispatch'\" (openDrawer)=\"openProductsList()\">\r\n                                    </app-order-items-list>\r\n                                    <div class=\"col-12\" *ngIf=\"savingOrder\">\r\n                                        <app-loader-white></app-loader-white>\r\n                                    </div>\r\n                                    <div class=\"no-content\" *ngIf=\"!savingOrder && !selectedRetailer\">\r\n                                        <div class=\"no-content-container\" style=\"margin: auto;display:table;text-align: center; color:#B7B7B7\">\r\n                                            <img src=\"assets/images/select order-icon.svg\" alt=\"\">\r\n                                            <strong>Select order to see details</strong>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div *ngIf=\"selectedRetailer\" class=\"col-md-12 bottom-act-btn\">\r\n                                    <button *ngIf=\"!savingOrder\" (click)=\"setOrderItems()\"\r\n                                        [disabled]=\"!orderDetails?.items?.length\"\r\n                                        class=\"btn btn-primary mr-2 save_order_execution font13\">Save Order</button>\r\n\r\n                                    <button [disabled]=\"!orderDetails?.items?.length\" *ngIf=\"!savingOrder\"\r\n                                        data-toggle=\"modal\" data-target=\"#order-del\"\r\n                                        class=\"btn btn-cancel cancel_order_btn font13\">Cancel Order</button>\r\n\r\n                                    <button *ngIf=\"savingOrder\" type=\"submit\" class=\"btn btn-primary mr-2\" disabled>\r\n                                        <div class=\"spinner-border text-light\" role=\"status\">\r\n                                            <span class=\"sr-only\">Loading...</span>\r\n                                        </div>\r\n                                    </button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div [ngClass]=\"currentTab === 2 ? 'active show' : ''\" class=\"tab-pane p-0 PT-20 tab_M fade\"\r\n                        id=\"pills-contact\" role=\"tabpanel\" aria-labelledby=\"pills-contact-tab\">\r\n                        <div class=\"col-12 PT-15\">\r\n                            <table datatable [dtOptions]=\"dtOptions\" *ngIf=\"recoveryRetailers?.length && !loading\"\r\n                                class=\"table table-hover dt-responsive nowrap\" id=\"example\" style=\"width:100%\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Retailer Name</th>\r\n                                        <th>Pending Amount</th>\r\n                                        <th>Aging</th>\r\n                                        <th>Add to Current</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <ng-container *ngFor=\"let order of recoveryRetailers;let ind=index\">\r\n                                        <tr *ngIf=\"order.balance > 0\">\r\n                                            <td>{{order.retailer_name | titlecase }}</td>\r\n                                            <td>Rs. {{order.balance | number: '1.2-2'}}</td>\r\n                                            <td>{{order.aging || 0}} Days</td>\r\n                                            <td>\r\n                                                <input type=\"number\" [readonly]=\"order.isAdded\" [id]=\"ind\"\r\n                                                    [(ngModel)]=\"order.recovery\" (keydown)=\"isNumber($event)\"\r\n                                                    [name]=\"ind\" class=\"form-control value_input\" placeholder=\"0\">\r\n                                                    <span class=\"input-error\" *ngIf=\"+order.recovery > order.balance\" style=\"width: 100px;max-width: 100px;\">\r\n                                                        The payable amount should not be greater than pending amount!\r\n                                                    </span>\r\n                                            </td>\r\n                                            <td>\r\n                                                <button class=\"btn btn-default btn-line\" *ngIf=\"!order.isAdded\"\r\n                                                    [disabled]=\"!order.recovery || +order.recovery === 0 || +order.recovery > order.balance\"\r\n                                                    (click)=\"this.id='hello';addOrderBill(order)\">Add to Bill</button>\r\n                                                <button class=\"btn btn-default red-bg\" *ngIf=\"order.isAdded\"\r\n                                                    (click)=\"removeOrderBill(order)\">\r\n                                                    Remove From Bill\r\n                                                </button>\r\n                                            </td>\r\n                                        </tr>\r\n                                    </ng-container>\r\n                                </tbody>\r\n                            </table>\r\n                            <div class=\"col-12\" *ngIf=\"loading\">\r\n                                <app-loader-white></app-loader-white>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div [ngClass]=\"currentTab === 3 ? 'active show' : ''\" class=\"tab-pane tab_M p-0 PT-15 fade\"\r\n                        id=\"pills-load\" role=\"tabpanel\" aria-labelledby=\"pills-load-tab\">\r\n\r\n                        <div *ngIf=\"currentTab === 3\" class=\"row m-0 grayTopborder\">\r\n                            <div *ngIf=\"!loading\" id=\"orderList-id2\" class=\"col-4 p-0\">\r\n                                <div class=\"_selectProList ProListHeight\">\r\n\r\n                                    <div class=\"header ProListHD\">\r\n                                        <div class=\"row\">\r\n                                            <div class=\"col-12\">\r\n                                                <h2 class=\"w-100\">Orders <span> List</span></h2>\r\n\r\n                                                <div class=\"select-all-op\">\r\n                                                    <div class=\"custom-control custom-checkbox\">\r\n                                                        <input type=\"checkbox\" [(ngModel)]=\"isAllSelected\"\r\n                                                            name=\"all-selected\" id=\"all-selected\"\r\n                                                            class=\"custom-control-input\" (change)=\"allSelected()\"\r\n                                                            id=\"all-s\">\r\n                                                        <label class=\"custom-control-label\" for=\"all-s\">Select\r\n                                                            All</label>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                            <div class=\"col-12\">\r\n                                                <div class=\"APS-list\"><i class=\"fa fa-search\"></i>\r\n                                                    <input type=\"text\" class=\"form-control\" id=\"\" placeholder=\"Search\">\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"ProList-div\">\r\n\r\n                                        <div *ngFor=\"let order of ordersDispList;let ind=index\"\r\n                                            class=\"col-12 order-list select-checkmark\">\r\n                                            <div class=\"ord-no\">{{ind+1}}</div>\r\n                                            <div class=\"row\">\r\n                                                <div class=\"col-8 pr-0\"><strong\r\n                                                        style=\"margin-bottom:2px\">{{order.retailer_name}}</strong>\r\n                                                    <span><strong>Order Booker:</strong> {{order.emp_name}}</span>\r\n                                                    <span><i class=\"fa fa-map-marker-alt\"></i>\r\n                                                        {{order.retailer_address}}</span>\r\n                                                </div>\r\n                                                <div class=\"col-4 pl-0\">\r\n                                                    <div class=\"custom-control custom-checkbox\">\r\n                                                        <input type=\"checkbox\" [name]=\"ind\"\r\n                                                            (change)=\"retailerSelected(order)\"\r\n                                                            class=\"custom-control-input\" [(ngModel)]=\"order.isSelected\"\r\n                                                            [id]=\"'ord'+ind\">\r\n                                                        <label class=\"custom-control-label\" [for]=\"'ord'+ind\"></label>\r\n                                                    </div>\r\n                                                    <div class=\"text-right\">Total Sales<span class=\"or-val\">Rs.\r\n                                                            {{order.order_total || 0 | number: '1.2-2'}}</span>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div *ngIf=\"!loading\" class=\"col p-0\">\r\n                                <div class=\"rightHeight PT-5\">\r\n                                    <div class=\"header-tabs\">\r\n                                        <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\r\n                                            <a class=\"nav-item nav-link\" [id]=\"cont.loadNumber\"\r\n                                                [ngClass]=\"cont.loadNumber === currentLoadContent.loadNumber ? 'active' : ''\"\r\n                                                (click)=\"changeCurrentLoad(cont.loadNumber)\"\r\n                                                *ngFor=\"let cont of load?.content;let i=index\" id=\"nav-load1-tab\">Load\r\n                                                {{cont.loadNumber}}</a>\r\n\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"tab-content\" id=\"nav-tabContent\">\r\n\r\n                                        <div class=\"tab-pane fade show active body_sales_agants\" id=\"nav-load1\"\r\n                                            role=\"tabpanel\" aria-labelledby=\"nav-load1-tab\">\r\n                                            <div class=\"col-12 retailerTable\">\r\n                                                <table class=\"table table-hover dt-responsive nowrap th-boarder\"\r\n                                                    style=\"width:100%\">\r\n                                                    <thead>\r\n                                                        <tr>\r\n                                                            <th rowspan=\"2\">SN</th>\r\n                                                            <th rowspan=\"2\">Product Name</th>\r\n                                                            <th colspan=\"1\" style=\"text-align: center\">Actual</th>\r\n                                                            <th colspan=\"1\" style=\"text-align: center\">Issuance</th>\r\n                                                        </tr>\r\n                                                        <tr>\r\n                                                            <th style=\"text-align: center\">BOX/PIECE</th>\r\n                                                            <th style=\"text-align: center\">BOX/PIECE</th>\r\n                                                        </tr>\r\n                                                    </thead>\r\n                                                    <tbody>\r\n                                                        <tr *ngFor=\"let item of currentLoadContent.items;let i=index\">\r\n                                                            <td>{{item.item_id}}</td>\r\n                                                            <td>{{getItemName(item.item_id)}}</td>\r\n                                                            <td>{{item.actual_qty | number}}</td>\r\n                                                            <td><input class=\"value_input\" [(ngModel)]=\"item.issued_qty\"\r\n                                                                    [name]=\"item.item_id\" [id]=\"item.item_id\"\r\n                                                                    type=\"number\" (keyup)=\"updateDispatchedQty(item)\"\r\n                                                                    (keydown)=\"isNumber($event, 'quantity')\"></td>\r\n                                                        </tr>\r\n                                                    </tbody>\r\n                                                </table>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"col-12\" *ngIf=\"loading\">\r\n                                <app-loader-white></app-loader-white>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div [ngClass]=\"currentTab === 4 ? 'active show' : ''\" class=\"tab-pane tab_M p-0 PT-15 fade\"\r\n                        id=\"pills-final\" role=\"tabpanel\" aria-labelledby=\"pills-final-tab\">\r\n                        <div class=\"col-12\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-8 PB-30\">\r\n                                    <div class=\"header PT-10 PB-10 mb-15\">\r\n                                        <h2 class=\"w-100\">Load <span> Sheet</span></h2>\r\n                                    </div>\r\n\r\n                                    <table *ngIf=\"showFinalLoad\" datatable [dtOptions]=\"dtOptions\"\r\n                                        class=\"table table-hover dt-responsive nowrap dc-table\" id=\"example2\"\r\n                                        style=\"width:100%\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th rowspan=\"2\" style=\"vertical-align: middle\">SN</th>\r\n                                                <th rowspan=\"2\" style=\"vertical-align: middle\">Product Name</th>\r\n                                                <th colspan=\"2\" style=\"text-align:center\"\r\n                                                    *ngFor=\"let number of finalLoad.load[0].content; let i = index\">\r\n                                                   Load {{i+1}}</th>\r\n                                                <th colspan=\"2\" style=\"text-align:center\">\r\n                                                    Total Issuance</th>\r\n                                            </tr>\r\n                                            <tr *ngIf=\"finalLoad.count==3\">\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                            </tr>\r\n                                            <tr *ngIf=\"finalLoad.count==2\">\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                            </tr>\r\n                                            <tr *ngIf=\"finalLoad.count==1\">\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                                <th>CTN/Bundle</th>\r\n                                                <th>Box/Piece</th>\r\n                                            </tr>\r\n\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor=\"let product of finalLoad.load\">\r\n                                                <td>{{product.item_sku}}</td>\r\n                                                <td>{{product.item_name}}</td>\r\n                                                <ng-container *ngFor=\"let loadContent of product.content\">\r\n                                                    <td>{{loadContent.parent_qty | number}}</td>\r\n                                                    <td>{{loadContent.child_qty}}</td>\r\n                                                </ng-container>\r\n                                                <td>{{product.total_primary_qty | number }}</td>\r\n                                                <td>{{product.total_secondary_qty | number }}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                </div>\r\n\r\n                                <div class=\"col-4\">\r\n                                    <div class=\"cash-report\" *ngIf=\"finalLoad\">\r\n                                        <div class=\"header\">\r\n                                            <div class=\"report_value\"> <strong>Gross Total:</strong>\r\n                                                <span>{{finalLoad.summary.total_gross_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Trade Offer:</strong>\r\n                                                <span>{{finalLoad.summary.total_trade_offer | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Trade Discount:</strong>\r\n                                                <span>{{finalLoad.summary.total_trade_discount | number:\r\n                                                    '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Special Discount:</strong>\r\n                                                <span>{{finalLoad.summary.total_special_discount | number:\r\n                                                    '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Booker Discount:</strong>\r\n                                                <span>{{finalLoad.summary.total_booker_discount | number:\r\n                                                    '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Total:</strong>\r\n                                                <span>{{finalLoad.summary.total_gross_amount -\r\n                                                    finalLoad.summary.total_trade_offer -\r\n                                                    finalLoad.summary.total_trade_discount -\r\n                                                    finalLoad.summary.total_special_discount -\r\n                                                    finalLoad.summary.total_booker_discount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Tax:</strong>\r\n                                                <span>{{finalLoad.summary.total_tax_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\" style=\"color:#0038ba\"> <strong>Total Amount\r\n                                                    Due:</strong> <span>{{finalLoad.summary.total_net_sale | number:\r\n                                                    '1.2-2'}}</span> </div>\r\n                                            <div class=\"report_value\"> <strong>Recovery:</strong>\r\n                                                <span>{{finalLoad.summary.total_recovery_amount | number:\r\n                                                    '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\" style=\"color:#0038ba\"> <strong>Total Issued\r\n                                                    Amount:</strong> <span>{{finalLoad.summary.issued_total_price |\r\n                                                    number: '1.2-2'}}</span> </div>\r\n                                        </div>\r\n                                        <div style=\"padding: 10px 15px;\">\r\n                                            <div class=\"row act-btn-print\">\r\n                                                <div class=\"col-4\"> <a (click)=\"getBookingSheet()\"\r\n                                                        class=\"btn btn-primary print-btn fontSize\"><i\r\n                                                            class=\"fa fa-print\"></i> Booking Sheet</a> </div>\r\n                                                <div class=\"col-4\"> <a (click)=\"generateLSPDF()\"\r\n                                                        class=\"btn btn-primary print-btn fontSize\"><i\r\n                                                            class=\"fa fa-print\"></i> Load Sheet</a> </div>\r\n                                                <div class=\"col-4\">\r\n                                                    <button class=\"btn btn-primary print-btn fontSize\"\r\n                                                        data-toggle=\"modal\" data-target=\"#billsModal\"><i\r\n                                                            class=\"fa fa-print\"></i>\r\n                                                        Bills</button>\r\n                                                </div>\r\n                                                <div class=\"col-6 pl-5 pt-5\">\r\n                                                    <button *ngIf=\"!loading\"\r\n                                                        class=\"btn btn-primary red-bg cancel_dispatch w-100\"\r\n                                                        (click)=\"revertDispatch()\">Reset</button>\r\n                                                    <button *ngIf=\"loading\" type=\"submit\" class=\"btn btn-primary red-bg w-100 mr-2\" disabled>\r\n                                                        <div class=\"spinner-border text-light\" role=\"status\">\r\n                                                            <span class=\"sr-only\">Loading...</span>\r\n                                                        </div>\r\n                                                    </button>\r\n                                                </div>\r\n                                                <div class=\"col-6 pl-0 pr-5 pt-5\">\r\n                                                    <button *ngIf=\"!loading\"\r\n                                                        class=\"btn btn-primary m-0 nextButton w-100\"\r\n                                                        (click)=\"completeDispatch()\">Complete</button>\r\n                                                    <button *ngIf=\"loading\" type=\"submit\" class=\"btn btn-primary w-100 mr-2\" disabled>\r\n                                                        <div class=\"spinner-border text-light\" role=\"status\">\r\n                                                            <span class=\"sr-only\">Loading...</span>\r\n                                                        </div>\r\n                                                    </button>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div *ngIf=\"currentTab !== 4\" class=\"col-md-12 pl-10 pr-10 text-center\">\r\n                        <div class=\"execFooter\">\r\n                            <button (click)=\"currentTab=currentTab-1;tabChanged()\"\r\n                                [disabled]=\"currentTab === 1 || currentTab === 4 || loading || savingOrder || load.content[0].items.length > 0\"\r\n                                type=\"submit\" class=\"btn btn-primary m-0 mr-2\">Previous</button>\r\n                            <button *ngIf=\"currentTab !== 4 && currentTab !== 3\"\r\n                                [disabled]=\"currentTab === 4 || loading || loadingProduct || savingOrder\"\r\n                                (click)=\"currentTab=currentTab+1;tabChanged()\" type=\"submit\"\r\n                                class=\"btn btn-primary m-0\">Next</button>\r\n                            <button *ngIf=\"currentTab === 3\" [disabled]=\"loading || loadingProduct\" (click)=\"openConfirmationModal()\"\r\n                                type=\"submit\" class=\"btn btn-primary m-0\">Next</button>\r\n                            <button style=\"display: none;\" id=\"open-create-load\" data-toggle=\"modal\"\r\n                                data-target=\"#create-load\">Open Modal</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-orders-component',\r\n    templateUrl: './orders.component.html',\r\n    styleUrls: ['./orders.component.css']\r\n})\r\nexport class OrdersComponent {\r\n    constructor() {\r\n    }\r\n}\r\n","<router-outlet></router-outlet>","import { Injectable } from '@angular/core';\r\nimport { BehaviorSubject } from 'rxjs';\r\n\r\n@Injectable()\r\nexport class OrderDispatchService {\r\n\r\n    orderLoad: BehaviorSubject<any> = new BehaviorSubject(null);\r\n\r\n    constructor() { }\r\n\r\n    setLoadContent(newOrder: any, currentLoadContent: any): any {\r\n        newOrder.items.forEach(item => {\r\n            const loadItem = currentLoadContent.items.find(x => x.item_id === item.item_id);\r\n            if (!loadItem) {\r\n                const newContent = {\r\n                    item_id: item.item_id,\r\n                    pref_id: item.pref_id,\r\n                    unit_id: item.unit_id,\r\n                    item_trade_price: item.original_price,\r\n                    actual_qty: item.dispatch_qty,\r\n                    dispatched_qty: item.dispatch_qty,\r\n                    issued_qty: 0,\r\n                };\r\n                currentLoadContent.items.push(newContent);\r\n            } else {\r\n                loadItem.actual_qty = loadItem.actual_qty + item.dispatch_qty;\r\n                loadItem.dispatched_qty = loadItem.dispatched_qty + item.dispatch_qty;\r\n            }\r\n        });\r\n        currentLoadContent.order_ids.push(newOrder.id);\r\n        currentLoadContent.total_orders = currentLoadContent.order_ids.length;\r\n        currentLoadContent.total_products = currentLoadContent.items.length;\r\n        return currentLoadContent;\r\n    }\r\n\r\n    removeOrderFromCurrentLoad(order: any, currentLoadContent: any): any {\r\n        order.items.forEach(item => {\r\n            const loadItem = currentLoadContent.items.find(x => x.item_id === item.item_id);\r\n            if (loadItem) {\r\n                loadItem.actual_qty = loadItem.actual_qty - item.dispatch_qty;\r\n                loadItem.dispatched_qty = loadItem.dispatched_qty - item.dispatch_qty - loadItem.issued_qty;\r\n                loadItem.issued_qty = 0;\r\n            }\r\n            if (loadItem.actual_qty === 0) {\r\n                currentLoadContent.items = currentLoadContent.items.filter(x => x.item_id !== item.item_id);\r\n            }\r\n        });\r\n        currentLoadContent.order_ids = currentLoadContent.order_ids.filter(x => x !== order.id);\r\n        currentLoadContent.total_orders = currentLoadContent.order_ids.length;\r\n        currentLoadContent.total_products = currentLoadContent.items.length;\r\n        return currentLoadContent;\r\n    }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-booking-vs-execution',\r\n    templateUrl: 'booking-vs-execution.component.html',\r\n    styleUrls: ['./booking-vs-execution.component.css']\r\n})\r\n\r\nexport class BookingVsExecutionComponent implements OnInit {\r\n\r\n    constructor() { }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n}\r\n","<div class=\"container\">\r\n\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h2 class=\"_head01\">Booking <span> vs Execution</span></h2>\r\n        </div>\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <ol class=\"breadcrumb\">\r\n                <li><a><span>Orders</span></a></li>\r\n                <li><span>Booking vs Execution</span></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n            <div class=\"header-tabs\">\r\n                <div class=\"Product-Filter\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n\r\n                            <div class=\"CL-Product\"><i class=\"fa fa-calendar-alt\"></i>\r\n                                <input type=\"text\" class=\"form-control\" id=\"datepicker\" placeholder=\"Select Date\">\r\n                            </div>\r\n\r\n                            <div class=\"_cust_filter\">\r\n                                <div class=\"form-s2\">\r\n                                    <select class=\"form-control formselect\" placeholder=\"Select Order Booker\">\r\n                                        <option>Select Order Booker </option>\r\n                                        <option>Asif Ali</option>\r\n                                        <option>Utba Aziz</option>\r\n                                    </select>\r\n                                </div>\r\n                            </div>\r\n                            <button class=\"btn btn-primary\"><i class=\"fa fa-retweet\"></i> Fetch</button>\r\n\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"clearfix\"></div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n    <div class=\"card p-15\">\r\n\r\n        <div class=\"topstats\">\r\n            <div class=\"row m-0\">\r\n                <div class=\"col pl-0 pr-0\">\r\n                    <div class=\"gary-box\"><strong>Order Booker:</strong> <span>Babar Ali</span></div>\r\n                </div>\r\n                <div class=\"col pr-0\">\r\n                    <div class=\"gary-box\"><strong>Date:</strong> <span>19-09-2020</span></div>\r\n                </div>\r\n                <div class=\"col pr-0\">\r\n                    <div class=\"gary-box\"><strong>Total Booking:</strong> <span>Rs. 100,000</span></div>\r\n                </div>\r\n                <div class=\"col pr-0\">\r\n                    <div class=\"gary-box\"><strong>Total Execution:</strong> <span>Rs. 100,000</span></div>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row m-0\">\r\n            <div class=\"col-6\">\r\n                <div class=\"row\">\r\n\r\n                    <div class=\"col-12 header head-div\">\r\n                        <h2>Booking</h2>\r\n                    </div>\r\n\r\n                    <div class=\"col-12 value-sec\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6 value-sh\"><strong>Total Booking:</strong> <span>Rs. 100,000</span></div>\r\n                            <div class=\"col-6 value-sh\"><strong>Total Booked Orders:</strong> <span>Rs. 100,000</span>\r\n                            </div>\r\n                            <div class=\"col-6 value-sh\"><strong>Total Shop Visited:</strong> <span>20</span></div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"col-6\">\r\n                <div class=\"row\">\r\n\r\n                    <div class=\"col-12 header head-div border-left-0\">\r\n                        <h2>Execution</h2>\r\n                    </div>\r\n\r\n                    <div class=\"col-12 value-sec border-left-0\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-6 value-sh\"><strong>Total Execution:</strong> <span>Rs. 100,000</span></div>\r\n                            <div class=\"col-6 value-sh\"><strong>Total Orders Executed:</strong> <span>Rs. 100,000</span>\r\n                            </div>\r\n                            <div class=\"col-6 value-sh\"><strong>Total Cancel Orders:</strong> <span>20</span></div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"col-12 p-0 PT-20 PB-15\">\r\n\r\n            <div class=\"Product-row-title\">\r\n                <div class=\"row\">\r\n                    <div class=\"col colStyle h-auto\" style=\"max-width:255px\">Retailer Name</div>\r\n                    <div class=\"col colStyle h-auto\" style=\"max-width:159px\">Booked Products</div>\r\n                    <div class=\"col colStyle h-auto\" style=\"max-width:172px\">Executed Products</div>\r\n                    <div class=\"col colStyle h-auto\" style=\"max-width:135px\">Booking Value</div>\r\n                    <div class=\"col colStyle h-auto\" style=\"max-width:150px\">Execution Value</div>\r\n                    <div class=\"col colStyle h-auto\" style=\"max-width:127px\">Order Status</div>\r\n                    <div class=\"col colStyle h-auto\" style=\"max-width:115px\">Action</div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"Product-row\">\r\n                <div class=\"row\">\r\n                    <div class=\"col _ITEMNAME\" style=\"max-width:255px;font-size:14px;\">\r\n                        <div class=\"pt-10\"><strong>Sardar General Store</strong>\r\n                            <span class=\"r-location\"><i class=\"fa fa-map-marker-alt\"></i> Main Bazar Fateh Garh </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:159px\">\r\n                        <div class=\"pt-10\">22</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:172px\">\r\n                        <div class=\"pt-10\">20</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:135px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 70,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:150px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 60,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:127px\">\r\n                        <div class=\"pt-10\"><i class=\"fa fa-circle executed-st\"></i> Executed</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:115px\">\r\n                        <div class=\"pt-10\">\r\n                            <button class=\"btn btn-default btn-line smBTN\">View Detail</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"Product-row\">\r\n                <div class=\"row\">\r\n                    <div class=\"col _ITEMNAME\" style=\"max-width:255px;font-size:14px;\">\r\n                        <div class=\"pt-10\"><strong>Sardar General Store</strong>\r\n                            <span class=\"r-location\"><i class=\"fa fa-map-marker-alt\"></i> Main Bazar Fateh Garh</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:159px\">\r\n                        <div class=\"pt-10\">22</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:172px\">\r\n                        <div class=\"pt-10\">20</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:135px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 70,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:150px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 60,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:127px\">\r\n                        <div class=\"pt-10\"><i class=\"fa fa-circle pending-st\"></i> Pending</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:115px\">\r\n                        <div class=\"pt-10\">\r\n                            <button class=\"btn btn-default btn-line smBTN\">View Detail</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"Product-row\">\r\n                <div class=\"row\">\r\n                    <div class=\"col _ITEMNAME\" style=\"max-width:255px;font-size:14px;\">\r\n                        <div class=\"pt-10\"><strong>Sardar General Store</strong>\r\n                            <span class=\"r-location\"><i class=\"fa fa-map-marker-alt\"></i> Main Bazar Fateh Garh</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:159px\">\r\n                        <div class=\"pt-10\">22</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:172px\">\r\n                        <div class=\"pt-10\">20</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:135px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 70,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:150px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 60,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:127px\">\r\n                        <div class=\"pt-10\"><i class=\"fa fa-circle cancel-st\"></i> Cancelled</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:115px\">\r\n                        <div class=\"pt-10\">\r\n                            <button class=\"btn btn-default btn-line smBTN\">View Detail</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"Product-row\">\r\n                <div class=\"row\">\r\n                    <div class=\"col _ITEMNAME\" style=\"max-width:255px;font-size:14px;\">\r\n                        <div class=\"pt-10\"><strong>Sardar General Store</strong>\r\n                            <span class=\"r-location\"><i class=\"fa fa-map-marker-alt\"></i> Main Bazar Fateh Garh </span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:159px\">\r\n                        <div class=\"pt-10\">22</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:172px\">\r\n                        <div class=\"pt-10\">20</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:135px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 70,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:150px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 60,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:127px\">\r\n                        <div class=\"pt-10\"><i class=\"fa fa-circle executed-st\"></i> Executed</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:115px\">\r\n                        <div class=\"pt-10\">\r\n                            <button class=\"btn btn-default btn-line smBTN\">View Detail</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"Product-row\">\r\n                <div class=\"row\">\r\n                    <div class=\"col _ITEMNAME\" style=\"max-width:255px;font-size:14px;\">\r\n                        <div class=\"pt-10\"><strong>Sardar General Store</strong>\r\n                            <span class=\"r-location\"><i class=\"fa fa-map-marker-alt\"></i> Main Bazar Fateh Garh</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:159px\">\r\n                        <div class=\"pt-10\">22</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:172px\">\r\n                        <div class=\"pt-10\">20</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:135px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 70,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:150px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 60,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:127px\">\r\n                        <div class=\"pt-10\"><i class=\"fa fa-circle pending-st\"></i> Pending</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:115px\">\r\n                        <div class=\"pt-10\">\r\n                            <button class=\"btn btn-default btn-line smBTN\">View Detail</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"Product-row\">\r\n                <div class=\"row\">\r\n                    <div class=\"col _ITEMNAME\" style=\"max-width:255px;font-size:14px;\">\r\n                        <div class=\"pt-10\"><strong>Sardar General Store</strong>\r\n                            <span class=\"r-location\"><i class=\"fa fa-map-marker-alt\"></i> Main Bazar Fateh Garh</span>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:159px\">\r\n                        <div class=\"pt-10\">22</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:172px\">\r\n                        <div class=\"pt-10\">20</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:135px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 70,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle font-no\" style=\"max-width:150px\">\r\n                        <div class=\"pt-10\"><small>Rs.</small> 60,000</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:127px\">\r\n                        <div class=\"pt-10\"><i class=\"fa fa-circle cancel-st\"></i> Cancelled</div>\r\n                    </div>\r\n\r\n                    <div class=\"col colStyle\" style=\"max-width:115px\">\r\n                        <div class=\"pt-10\">\r\n                            <button class=\"btn btn-default btn-line smBTN\">View Detail</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    </div>\r\n</div>","import {\r\n  ChangeDetectorRef,\r\n  Component,\r\n  OnDestroy,\r\n  OnInit,\r\n  ViewEncapsulation,\r\n} from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { API_URLS } from 'src/app/core/constants/api-urls.constants';\r\nimport { environment } from 'src/environments/environment';\r\nimport { LocalStorageService } from '../../../../core/services/storage.service';\r\nimport {\r\n  Toaster,\r\n  ToasterService,\r\n} from '../../../../core/services/toaster.service';\r\nimport { DataService, GeneralDataService } from '../../../shared/services';\r\nimport { PaymentDetail } from '../../models/counter-sale.model';\r\nimport { ExecutionService } from '../../services/execution.service';\r\nimport { OrdersService } from '../../services/orders.service';\r\nimport { SpotSaleService } from '../../services/spot-sale.service';\r\n\r\n@Component({\r\n  selector: 'app-execute-order',\r\n  templateUrl: 'execute-order.component.html',\r\n  styleUrls: ['./execute-order.component.css'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\nexport class ExecuteOrderComponent implements OnInit, OnDestroy {\r\n  dtOPtions: DataTables.Settings = {};\r\n\r\n  loading: boolean;\r\n  savingOrder: boolean;\r\n  showReturned: boolean;\r\n  showProducts: boolean;\r\n  isCredit: boolean;\r\n  alreadyFullPayment: boolean;\r\n  isChequeAdded: boolean;\r\n  isCreditAdded: boolean;\r\n  isAdded: boolean;\r\n  isSpotSaleActive: boolean;\r\n  isExpenseAdded: boolean;\r\n  showAddRetailer: boolean;\r\n\r\n  paymentDate: string;\r\n  orderDate: string;\r\n  paymentTypeCredit: string;\r\n  paymentTypeCheque: string;\r\n  addedPayment: string;\r\n  bankName: string;\r\n  chequeNumber: string;\r\n  currentPayment: string;\r\n\r\n  recoveryAmount: number;\r\n  creditAmount: number;\r\n  chequeAmount: number;\r\n  returnAmount: number;\r\n  dueAmount: number;\r\n  receivableAmount: number;\r\n  amountReceived: number;\r\n  netAmount: number;\r\n  totalPayment: number;\r\n  distributorId: number;\r\n  currentTab: number;\r\n  salemanId: number;\r\n  loadId: number;\r\n  selectedLoadId: number;\r\n  selectedRoute: number;\r\n\r\n  cheque: PaymentDetail;\r\n  credit: PaymentDetail;\r\n  cash: PaymentDetail;\r\n  orderDetails: any = {};\r\n  selectedRetailer: any;\r\n  merchantDiscount: any;\r\n  newProduct: any;\r\n  dispatchSummary: any;\r\n  returnedProduct: any;\r\n  selectedOrderBooker: any;\r\n  spotSaleOrder: any = {};\r\n  currentSpotSale: any = {};\r\n  spotRetailer: any;\r\n  finalLoad: any;\r\n  recoveryRetailer: any;\r\n  recoveryListing: Array<any> = [];\r\n  outOfRouteRecovery: Array<any> = [];\r\n  orderBookers: Array<any> = [];\r\n  bookerRoutes: Array<any> = [];\r\n  routeRetailers: Array<any> = [];\r\n  retailersList: Array<any> = [];\r\n  schemes: Array<any> = [];\r\n  inventory: Array<any> = [];\r\n  allProducts: Array<any> = [];\r\n  specialDiscounts: Array<any> = [];\r\n  discountSlabs: Array<any> = [];\r\n\r\n  constructor(\r\n    private change: ChangeDetectorRef,\r\n    private route: ActivatedRoute,\r\n    private router: Router,\r\n    private orderService: OrdersService,\r\n    private executionService: ExecutionService,\r\n    private toastService: ToasterService,\r\n    private generalDataService: GeneralDataService,\r\n    private dataService: DataService,\r\n    private spotSaleService: SpotSaleService,\r\n    private storageService: LocalStorageService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.currentTab = 1;\r\n    this.dtOPtions = {\r\n      pagingType: 'simple_numbers',\r\n    };\r\n    this.showAddRetailer = true;\r\n    this.getSchemesData();\r\n    this.setPaymentInitalValues();\r\n    this.setSpotSaleOrder();\r\n    this.salemanId = +this.route.snapshot.paramMap.get('saleManId');\r\n    this.orderDate = this.route.snapshot.paramMap.get('date');\r\n    this.selectedLoadId = +this.route.snapshot.paramMap.get('loadId');\r\n    if (!this.salemanId || !this.orderDate || !this.selectedLoadId) {\r\n      this.router.navigateByUrl('/orders/execution-list');\r\n    } else {\r\n      this.getOrdersBySalemanAndDate();\r\n      this.getOrderBookers();\r\n    }\r\n  }\r\n\r\n  setSpotSaleOrder(): void {\r\n    this.spotSaleOrder = {\r\n      retailers: [],\r\n      orders: [],\r\n      order_total: 0,\r\n      date: new Date().toISOString().split('T')[0],\r\n      territory: '--',\r\n      total_outlets: '--',\r\n      orderBookerName: '--',\r\n    };\r\n  }\r\n\r\n  setPaymentInitalValues(): void {\r\n    this.netAmount = 0;\r\n    this.creditAmount = 0;\r\n    this.amountReceived = 0;\r\n    this.chequeAmount = 0;\r\n    this.returnAmount = 0;\r\n    this.dueAmount = 0;\r\n    this.receivableAmount = 0;\r\n    this.recoveryAmount = 0;\r\n    this.totalPayment = 0;\r\n    this.isChequeAdded = false;\r\n    this.isCreditAdded = false;\r\n    this.paymentDate = new Date().toISOString().split('T')[0];\r\n    this.distributorId = this.storageService.getItem('distributor').id;\r\n  }\r\n\r\n  addNewProductToOrder(product: any): void {\r\n    this.newProduct = product;\r\n  }\r\n\r\n  getSchemesData(): void {\r\n    this.orderService.getSchemes().subscribe(\r\n      (res) => {\r\n        if (res.status === 200) {\r\n          this.schemes = res.data;\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error.status !== 1 && error.status !== 401) {\r\n          this.toastService.showToaster({\r\n            type: 'error',\r\n            title: 'Error:',\r\n            message: 'Order details not fetched, please try again later!',\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getOrdersBySalemanAndDate(): void {\r\n    this.loading = true;\r\n    this.orderService\r\n      .getExectedOrdersListing(\r\n        this.salemanId,\r\n        this.orderDate,\r\n        this.selectedLoadId\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.loading = false;\r\n          if (res.status === 200) {\r\n            this.retailersList = res.data.retailers;\r\n            this.allProducts = res.data.all_products;\r\n            this.loadId = res.data.load_id;\r\n            this.spotSaleOrder.retailers = res.data.spot_sale_orders;\r\n            this.inventory = res.data.executed_products;\r\n            this.specialDiscounts = res.data.special_discount;\r\n            this.dispatchSummary = res.data.summary;\r\n            this.recoveryListing = res.data.out_of_route_recovery.map((x) => {\r\n              x.recovery = x.amount_received;\r\n              x.retailer_id = x.id;\r\n              x.recoveryAdded = true;\r\n              return x;\r\n            });\r\n            this.outOfRouteRecovery = res.data.out_of_route_recovery.map(\r\n              (x) => {\r\n                const recovery = {\r\n                  retailer_id: x.id,\r\n                  amount: x.amount_received,\r\n                  booker_id: x.booker_id,\r\n                };\r\n                return recovery;\r\n              }\r\n            );\r\n            if (res.data.is_dsr) {\r\n              this.changeTab(4);\r\n            }\r\n          } else {\r\n            this.toastService.showToaster({\r\n              type: 'error',\r\n              title: 'Error:',\r\n              message: 'Order details not fetched, please try again later!',\r\n            });\r\n          }\r\n        },\r\n        (error) => {\r\n          this.loading = false;\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            this.toastService.showToaster({\r\n              type: 'error',\r\n              title: 'Error:',\r\n              message: 'Order details not fetched, please try again later!',\r\n            });\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getOrderBookers(): void {\r\n    this.generalDataService.getOrderBookers(this.distributorId).subscribe(\r\n      (res) => {\r\n        if (res.status === 200) {\r\n          this.orderBookers = res.data;\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error.status !== 1 && error.status !== 401) {\r\n          this.toastService.showToaster({\r\n            type: 'error',\r\n            title: 'Error:',\r\n            message: 'Bookers not fetched, please try again later!',\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  getOrderBookerRoutes(): void {\r\n    this.spotSaleOrder.orderBookerName = `${this.selectedOrderBooker.employee_first_name} ${this.selectedOrderBooker.employee_last_name}`;\r\n    this.selectedRoute = null;\r\n    this.bookerRoutes = [];\r\n    this.spotRetailer = null;\r\n    this.routeRetailers = [];\r\n    this.generalDataService\r\n      .getOrderBookerRoutes(this.selectedOrderBooker.employee_id)\r\n      .subscribe(\r\n        (res) => {\r\n          if (res.status === 200) {\r\n            this.bookerRoutes = res.data;\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            this.toastService.showToaster({\r\n              type: 'error',\r\n              title: 'Error:',\r\n              message: 'Routes not fetched, please try again later!',\r\n            });\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getRetaielrsByRoute(routeId: number): void {\r\n    this.spotRetailer = null;\r\n    this.routeRetailers = [];\r\n    this.generalDataService.getRetailersByRoute(routeId).subscribe(\r\n      (res) => {\r\n        if (res.status === 200) {\r\n          this.routeRetailers = res.data;\r\n          if (this.spotSaleOrder.retailers.length) {\r\n            this.routeRetailers = this.routeRetailers.map((x) => {\r\n              const index = this.spotSaleOrder.retailers.findIndex(\r\n                (y) => y.retailer_id === x.retailer_id\r\n              );\r\n              if (index > -1) {\r\n                x.isAdded = true;\r\n              }\r\n              return x;\r\n            });\r\n          }\r\n          if (this.retailersList.length) {\r\n            this.routeRetailers = this.routeRetailers.map((x) => {\r\n              const index = this.retailersList.findIndex(\r\n                (y) => y.retailer_id === x.retailer_id\r\n              );\r\n              if (index > -1) {\r\n                x.isAdded = true;\r\n              }\r\n              return x;\r\n            });\r\n          }\r\n        }\r\n      },\r\n      (error) => {\r\n        if (error.status !== 1 && error.status !== 401) {\r\n          this.toastService.showToaster({\r\n            type: 'error',\r\n            title: 'Error:',\r\n            message: 'Retailers not fetched, please try again later!',\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  setSpotSaleRetailer(): void {\r\n    this.spotSaleOrder.territory = this.spotRetailer.territory;\r\n    if (\r\n      !this.spotSaleOrder.retailers.find(\r\n        (x) => x.retailer_id === this.spotRetailer.retailer_id\r\n      )\r\n    ) {\r\n      if (!this.spotSaleOrder.retailers?.length) {\r\n        this.spotSaleOrder.retailers = [];\r\n      }\r\n      this.spotRetailer.isAdded = true;\r\n      delete this.spotRetailer.id;\r\n      this.spotRetailer.region_id = this.selectedOrderBooker.region_id;\r\n      const order = this.spotSaleService.setSpotSaleOrderContent(\r\n        this.spotRetailer,\r\n        this.selectedOrderBooker,\r\n        this.distributorId\r\n      );\r\n      this.spotSaleOrder.orders.push(order);\r\n      const retailers = JSON.parse(\r\n        JSON.stringify(this.spotSaleOrder.retailers)\r\n      );\r\n      retailers.push(this.spotRetailer);\r\n      this.spotSaleOrder.retailers = JSON.parse(JSON.stringify(retailers));\r\n      this.showAddRetailer = false;\r\n      this.change.detectChanges();\r\n    }\r\n  }\r\n\r\n  getOrderDetailsByRetailer(retailer: any): void {\r\n    if (this.selectedRetailer?.id !== retailer.id) {\r\n      this.savingOrder = true;\r\n      this.newProduct = null;\r\n      this.returnedProduct = null;\r\n      this.paymentTypeCredit = '';\r\n      this.paymentTypeCheque = '';\r\n      this.resetPaymentValues();\r\n      this.setPaymentInitalValues();\r\n      this.selectedRetailer = JSON.parse(JSON.stringify(retailer));\r\n      this.orderService.getOrderDetails(retailer.id).subscribe(\r\n        (res) => {\r\n          this.savingOrder = false;\r\n          if (res.status === 200) {\r\n            this.orderDetails = res.data;\r\n            this.orderDetails.returned_items = this.orderDetails.returned_items;\r\n            this.recoveryAmount = this.orderDetails.recovery;\r\n            this.orderDetails.recovered =\r\n              +this.orderDetails.recovered.toFixed(2);\r\n            if (this.orderDetails.payment && this.orderDetails.payment.length) {\r\n              this.orderDetails.payment.forEach((pay) => {\r\n                if (pay.payment_mode === 'Cheque') {\r\n                  this.setCheque(pay);\r\n                } else if (pay.payment_mode === 'Credit') {\r\n                  this.setCredit(pay);\r\n                } else if (pay.payment_mode === 'Cash') {\r\n                  this.setCash(pay);\r\n                }\r\n              });\r\n            }\r\n            if (this.orderDetails.returned_items.length) {\r\n              this.setOrderDetailReturnedItems();\r\n            } else {\r\n              this.receivableAmount =\r\n                this.orderDetails.total_amount_after_tax +\r\n                this.orderDetails.recovered;\r\n            }\r\n            this.setOrderDetailItems();\r\n            this.calculateReceivable();\r\n          }\r\n        },\r\n        (error) => {\r\n          this.savingOrder = false;\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            console.log(\r\n              'Error while getting order detail data :>> ',\r\n              error.message\r\n            );\r\n            const toast: Toaster = {\r\n              type: 'error',\r\n              message: 'Cannot fetch Order Detail. Please try again',\r\n              title: 'Error:',\r\n            };\r\n            this.toastService.showToaster(toast);\r\n          }\r\n        }\r\n      );\r\n      this.getDiscountSlabs();\r\n    }\r\n  }\r\n\r\n  setCash(payment: any): void {\r\n    this.cash = {\r\n      retailer_id: this.selectedRetailer.retailer_id,\r\n      distributor_id: this.distributorId,\r\n      type: this.currentTab === 1 ? 'Execution' : 'Spot',\r\n      payment_mode: 'Cash',\r\n      payment_detail: '',\r\n      dispatched_bill_amount: 0,\r\n      return_amount: this.returnAmount || 0,\r\n      recovery: 0,\r\n      amount_received: payment.amount_received,\r\n    };\r\n  }\r\n\r\n  setCredit(payment: any): void {\r\n    this.paymentTypeCredit =\r\n      payment.amount_received < this.orderDetails.order_total\r\n        ? 'partial'\r\n        : 'full';\r\n    this.credit = {\r\n      retailer_id: this.selectedRetailer.retailer_id,\r\n      distributor_id: this.distributorId,\r\n      type: this.currentTab === 1 ? 'Execution' : 'Spot',\r\n      payment_mode: 'Credit',\r\n      payment_detail: '',\r\n      dispatched_bill_amount: 0,\r\n      recovery: 0,\r\n      amount_received: payment.amount_received,\r\n    };\r\n    this.isCreditAdded = true;\r\n  }\r\n\r\n  setCheque(payment: any): void {\r\n    this.paymentTypeCheque =\r\n      payment.amount_received < this.orderDetails.order_total\r\n        ? 'partial'\r\n        : 'full';\r\n    const paymentDetail = JSON.parse(payment.payment_detail);\r\n    this.cheque = {\r\n      retailer_id: this.selectedRetailer.retailer_id,\r\n      distributor_id: this.distributorId,\r\n      type: this.currentTab === 1 ? 'Execution' : 'Spot',\r\n      payment_mode: 'Cheque',\r\n      payment_detail: {\r\n        cheque_amount: payment.amount_received,\r\n        bank_name: paymentDetail.bank_name,\r\n        cheque_number: paymentDetail.cheque_number,\r\n        cheque_date: paymentDetail.cheque_date,\r\n      },\r\n      dispatched_bill_amount: 0,\r\n      recovery: 0,\r\n      amount_received: payment.amount_received,\r\n    };\r\n    this.isChequeAdded = true;\r\n  }\r\n\r\n  setOrderDetailReturnedItems(): void {\r\n    this.orderDetails.returned_items = this.orderDetails.returned_items.map(\r\n      (x) => {\r\n        x.item_trade_price = x.original_price;\r\n        x.stockQty = x.quantity_returned;\r\n        x.extra_discount = x.booker_discount;\r\n        x.extra_discount_pkr = x.booker_discount * x.quantity_returned;\r\n        x.productType = 'returned';\r\n        x.special_discount_pkr = 0;\r\n        x.trade_discount = 0;\r\n        x.trade_discount_pkr = 0;\r\n        x.net_amount = x.final_price;\r\n        x.gross_amount = x.gross_sale_amount;\r\n        x.original_amount = x.gross_sale_amount;\r\n        return x;\r\n      }\r\n    );\r\n  }\r\n\r\n  setOrderDetailItems(): void {\r\n    this.orderDetails.items = this.orderDetails.items.map((prod) => {\r\n      const product = this.inventory.find((x) => x.item_id === prod.item_id);\r\n      if (!product) return;\r\n      prod.parent_trade_price = JSON.parse(\r\n        JSON.stringify(product.parent_trade_price)\r\n      );\r\n      prod.parent_unit_id = JSON.parse(JSON.stringify(product.parent_unit_id));\r\n      prod.parent_quantity = JSON.parse(JSON.stringify(product.quantity));\r\n      prod.child = JSON.parse(JSON.stringify(product.child));\r\n      prod.item_retail_price = JSON.parse(\r\n        JSON.stringify(product.item_retail_price)\r\n      );\r\n      prod.extra_discount = JSON.parse(JSON.stringify(prod.booker_discount));\r\n      prod.tax_class_amount = JSON.parse(\r\n        JSON.stringify(product.tax_class_amount)\r\n      );\r\n      prod.tax_class_id = JSON.parse(JSON.stringify(product.tax_class_id));\r\n      prod.tax_class_type = JSON.parse(JSON.stringify(product.tax_class_type));\r\n      prod.pref_id = JSON.parse(JSON.stringify(product.pref_id));\r\n      prod.unit_id = JSON.parse(JSON.stringify(product.unit_id));\r\n      prod.unit_name = JSON.parse(JSON.stringify(product.unit_name));\r\n      prod.brand_id = JSON.parse(JSON.stringify(product.brand_id));\r\n      prod.is_active = JSON.parse(JSON.stringify(product.is_active));\r\n      prod.item_trade_price = JSON.parse(\r\n        JSON.stringify(product.item_trade_price)\r\n      );\r\n\r\n      prod.stockQty = JSON.parse(JSON.stringify(prod.executed_qty));\r\n      prod.net_amount = JSON.parse(JSON.stringify(prod.final_price));\r\n      prod.gross_amount = prod.item_trade_price * prod.stockQty;\r\n      prod.extra_discount_pkr = prod.stockQty * prod.extra_discount;\r\n      prod.original_amount = prod.item_trade_price * prod.stockQty;\r\n      prod.special_discount_pkr = prod.special_discount;\r\n      prod.trade_discount = JSON.parse(JSON.stringify(prod.merchant_discount));\r\n      prod.trade_discount_pkr = JSON.parse(\r\n        JSON.stringify(prod.merchant_discount_pkr)\r\n      );\r\n      prod.tax_amount_pkr = JSON.parse(\r\n        JSON.stringify(prod.total_tax_amount || 0)\r\n      );\r\n      prod.selectedScheme = this.schemes.find(\r\n        (scheme) => scheme.id === prod.scheme_id\r\n      );\r\n      return prod;\r\n    });\r\n\r\n    this.orderDetails.items = this.orderDetails.items.filter((x) => x);\r\n  }\r\n\r\n  setCurrentSpotSaleOrder(retailer: any): void {\r\n    if (!this.isSpotSaleActive) {\r\n      if (retailer.id) {\r\n        this.isSpotSaleActive = true;\r\n        this.getOrderDetailsByRetailer(retailer);\r\n      } else {\r\n        this.resetPaymentValues();\r\n        this.setPaymentInitalValues();\r\n        this.selectedRetailer = { ...retailer };\r\n        this.isSpotSaleActive = true;\r\n        this.orderDetails = this.spotSaleOrder.orders.find(\r\n          (x) => x.retailer_id === retailer.retailer_id\r\n        );\r\n        this.getDiscountSlabs();\r\n        this.newProduct = null;\r\n      }\r\n    } else {\r\n      const toast: Toaster = {\r\n        type: 'error',\r\n        message: 'Please complete the current order to move forward!',\r\n        title: 'Spot Sale Error:',\r\n      };\r\n      this.toastService.showToaster(toast);\r\n    }\r\n  }\r\n\r\n  getDiscountSlabs(): void {\r\n    if (!this.discountSlabs.length) {\r\n      this.orderService.getDiscountSlabs().subscribe(\r\n        (res) => {\r\n          if (res.status === 200) {\r\n            this.discountSlabs = res.data;\r\n            this.setMerchantDiscount();\r\n          }\r\n        },\r\n        (error) => {\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            console.log(\r\n              'Error while getting order detail data :>> ',\r\n              error.message\r\n            );\r\n            const toast: Toaster = {\r\n              type: 'error',\r\n              message: 'Cannot fetch Merchant Discounts. Please try again',\r\n              title: 'Error:',\r\n            };\r\n            this.toastService.showToaster(toast);\r\n          }\r\n        }\r\n      );\r\n    } else {\r\n      this.setMerchantDiscount();\r\n    }\r\n  }\r\n\r\n  setMerchantDiscount(): void {\r\n    this.merchantDiscount = this.discountSlabs.find(\r\n      (x) =>\r\n        x.region_id === this.selectedRetailer.region_id &&\r\n        this.selectedRetailer.segment_id === x.segment_id &&\r\n        x.channel_id ===\r\n          (this.selectedRetailer.retailer_type_id ||\r\n            this.selectedRetailer.type_id)\r\n    );\r\n  }\r\n\r\n  handleReturnedProduct(returnedProduct: any): void {\r\n    this.orderDetails.returned_items.push(returnedProduct);\r\n    this.calculateReceivable();\r\n  }\r\n\r\n  deleteReturnedProduct(selectedItem: any): void {\r\n    if (selectedItem.id) {\r\n      const productAvalableQty = this.inventory.find(\r\n        (x) => x.item_id === selectedItem.item_id\r\n      )?.available_qty;\r\n      if (\r\n        productAvalableQty >= selectedItem.quantity_returned ||\r\n        selectedItem.return_type === 'damage'\r\n      ) {\r\n        selectedItem.stockQty = 0;\r\n        selectedItem.isDeleted = true;\r\n      } else {\r\n        this.toastService.showToaster({\r\n          title: 'Returned Product:',\r\n          message:\r\n            'The selected product is part of other order please remove from other orders and delete!',\r\n          type: 'error',\r\n        });\r\n      }\r\n    } else {\r\n      this.orderDetails.returned_items =\r\n        this.orderDetails.returned_items.filter(\r\n          (x) => x.item_id !== selectedItem.item_id\r\n        );\r\n      // this.applySlabOnAllProducts();\r\n    }\r\n    document.getElementById('close-prod-del').click();\r\n    this.calculateReceivable();\r\n  }\r\n\r\n  calculateReceivable(): void {\r\n    const returnPrices = this.orderDetails.returned_items\r\n      .filter((x) => !x.isDeleted)\r\n      .map((x) => x.net_amount);\r\n    this.returnAmount = this.dataService.calculateItemsBill(returnPrices);\r\n    const price = this.orderDetails.items.map((x) => x.net_amount);\r\n    this.netAmount = this.dataService.calculateItemsBill(price);\r\n    this.dueAmount = this.netAmount + this.returnAmount;\r\n    this.receivableAmount =\r\n      this.netAmount + this.orderDetails.recovered + this.returnAmount;\r\n    this.selectedRetailer.order_total = this.dueAmount;\r\n    if (this.currentTab === 2) {\r\n      const retailer = this.spotSaleOrder.retailers.find(\r\n        (x) => x.retailer_id === this.selectedRetailer.retailer_id\r\n      );\r\n      retailer.order_total = this.dueAmount;\r\n    }\r\n    this.calculatePayments();\r\n  }\r\n\r\n  openProductsList(): void {\r\n    if (!this.isPaymentAdded()) {\r\n      this.showProducts = true;\r\n      document.body.classList.add('no-scroll');\r\n      document\r\n        .getElementsByClassName('overlay-blure')[0]\r\n        .classList.add('d-block');\r\n      document.getElementById('order-container').classList.add('blur-div');\r\n    }\r\n  }\r\n\r\n  isPaymentAdded(): boolean {\r\n    if (this.isChequeAdded || this.isCreditAdded) {\r\n      this.toastService.showToaster({\r\n        title: 'Payment Added:',\r\n        message: 'Please remove the payment to proceed!',\r\n        type: 'error',\r\n      });\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  closeNewProducts(): void {\r\n    this.showProducts = false;\r\n    document.body.classList.remove('no-scroll');\r\n    document\r\n      .getElementsByClassName('overlay-blure')[0]\r\n      .classList.remove('d-block');\r\n    document.getElementById('order-container').classList.remove('blur-div');\r\n  }\r\n\r\n  openReturnedModal(): void {\r\n    if (!this.isPaymentAdded()) {\r\n      this.showReturned = true;\r\n    }\r\n  }\r\n\r\n  closeReturnedModal(): void {\r\n    this.showReturned = false;\r\n  }\r\n\r\n  changeTab(selectedTab: number): void {\r\n    this.currentTab = selectedTab;\r\n    if (this.currentTab === 1) {\r\n      this.retailersList = this.retailersList.map((x) => {\r\n        x.isActive = false;\r\n        return x;\r\n      });\r\n      this.selectedRetailer = null;\r\n      this.orderDetails = null;\r\n    }\r\n    if (this.currentTab === 2) {\r\n      if (this.selectedRetailer) {\r\n        this.orderDetails.items = [];\r\n        this.orderDetails.returned_items = [];\r\n        this.selectedRetailer.isActive = false;\r\n        this.spotSaleOrder.retailers = this.spotSaleOrder.retailers.map((x) => {\r\n          x.isActive = false;\r\n          return x;\r\n        });\r\n        this.selectedRetailer = null;\r\n        this.orderDetails = null;\r\n      }\r\n      this.resetPaymentValues();\r\n      this.setPaymentInitalValues();\r\n    } else if (this.currentTab === 3) {\r\n      this.selectedOrderBooker = null;\r\n      this.selectedRoute = null;\r\n      this.recoveryRetailer = null;\r\n    } else if (this.currentTab === 4) {\r\n      this.isAdded = false;\r\n      this.getExecutionFinalLoad();\r\n    }\r\n  }\r\n\r\n  focused(event: Event): void {\r\n    (event.target as HTMLElement).parentElement.classList.add('focused');\r\n  }\r\n\r\n  left(event: Event): void {\r\n    if (!(event.target as HTMLInputElement).value) {\r\n      (event.target as HTMLElement).parentElement.classList.remove('focused');\r\n    }\r\n  }\r\n\r\n  isNumber(event: KeyboardEvent): boolean {\r\n    return this.dataService.isNumber(event);\r\n  }\r\n\r\n  isFullyPaymentAdded(current: string): void {\r\n    if (this.receivableAmount <= 0) {\r\n      const toast: Toaster = {\r\n        type: 'error',\r\n        message: `Your receivable amount (${this.receivableAmount.toFixed(\r\n          2\r\n        )}) is not enough to add payment!`,\r\n        title: `Payment cannot be added`,\r\n      };\r\n      this.toastService.showToaster(toast);\r\n      return;\r\n    }\r\n    if (current === 'Credit') {\r\n      this.paymentTypeCredit = '';\r\n    } else {\r\n      this.paymentTypeCheque = '';\r\n    }\r\n    if (!this.selectedRetailer) {\r\n      const toast: Toaster = {\r\n        type: 'error',\r\n        message: `Please select order to add payment details!`,\r\n        title: `Payment cannot be added`,\r\n      };\r\n      this.toastService.showToaster(toast);\r\n    } else {\r\n      if (\r\n        (this.paymentTypeCheque === 'full' ||\r\n          this.paymentTypeCredit === 'full') &&\r\n        this.addedPayment !== current\r\n      ) {\r\n        const toast: Toaster = {\r\n          type: 'error',\r\n          message: `You already selected Full payment for ${this.addedPayment} please remove it if you want to add ${this.currentPayment}!`,\r\n          title: `Full Payment selected for ${this.addedPayment}`,\r\n        };\r\n        this.toastService.showToaster(toast);\r\n      } else {\r\n        // this.focusForPaymentValues();\r\n        document.getElementById('open-modal-payment').click();\r\n      }\r\n    }\r\n  }\r\n\r\n  currentFullPayment(current: string, other: string): void {\r\n    if (\r\n      (this.paymentTypeCheque === 'full' ||\r\n        this.paymentTypeCredit === 'full') &&\r\n      this.addedPayment !== current\r\n    ) {\r\n      const toast: Toaster = {\r\n        type: 'error',\r\n        message: `You already selected Full payment for ${this.addedPayment} please remove it if you want to add ${this.currentPayment}!`,\r\n        title: `Full Payment selected for ${this.addedPayment}`,\r\n      };\r\n      this.toastService.showToaster(toast);\r\n    } else {\r\n      this.addedPayment = current;\r\n      this.currentPayment = other;\r\n    }\r\n  }\r\n\r\n  setPartial(current: string): void {\r\n    if (current === this.addedPayment) {\r\n      if (this.credit && current === 'Credit') {\r\n        this.cash.amount_received =\r\n          this.cash.amount_received + this.credit.amount_received;\r\n        this.credit.amount_received = 0;\r\n      }\r\n      if (this.cheque && current === 'Cheque Payment') {\r\n        this.cash.amount_received =\r\n          this.cash.amount_received + this.cheque.amount_received;\r\n        this.cheque.amount_received = 0;\r\n      }\r\n      this.addedPayment = '';\r\n      this.currentPayment = '';\r\n      this.alreadyFullPayment = false;\r\n    }\r\n  }\r\n\r\n  checkPaymentHasValues(): boolean {\r\n    if (this.isCredit) {\r\n      if (this.paymentTypeCredit === 'full') {\r\n        return this.paymentTypeCredit.length > 0;\r\n      } else {\r\n        return (\r\n          this.paymentTypeCredit.length > 0 &&\r\n          this.creditAmount > -1 &&\r\n          this.creditAmount <=\r\n            this.dueAmount - (this.cheque ? this.cheque.amount_received : 0)\r\n        );\r\n      }\r\n    } else {\r\n      if (this.paymentTypeCheque === 'full') {\r\n        return (\r\n          this.paymentTypeCheque.length > 0 &&\r\n          this.bankName.length > 0 &&\r\n          this.chequeNumber.length > 0 &&\r\n          this.paymentDate.length > 0\r\n        );\r\n      } else {\r\n        return (\r\n          this.paymentTypeCheque.length > 0 &&\r\n          this.chequeAmount > -1 &&\r\n          this.chequeAmount <= this.cash.amount_received &&\r\n          this.bankName.length > 0 &&\r\n          this.chequeNumber.length > 0 &&\r\n          this.paymentDate.length > 0\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  removeCheque(): void {\r\n    this.cheque = null;\r\n    this.isChequeAdded = false;\r\n    this.paymentTypeCheque = '';\r\n    this.calculatePayments();\r\n  }\r\n\r\n  removeCredit(): void {\r\n    this.credit = null;\r\n    this.isCreditAdded = false;\r\n    this.paymentTypeCredit = '';\r\n    this.calculatePayments();\r\n  }\r\n\r\n  makePayment(): void {\r\n    if (this.isCredit) {\r\n      this.credit = {\r\n        retailer_id: this.selectedRetailer.retailer_id,\r\n        distributor_id: this.distributorId,\r\n        type: this.currentTab === 1 ? 'Execution' : 'Spot',\r\n        payment_mode: 'Credit',\r\n        payment_detail: '',\r\n        dispatched_bill_amount: 0,\r\n        recovery: 0,\r\n        amount_received:\r\n          this.paymentTypeCredit === 'full'\r\n            ? JSON.parse(\r\n                JSON.stringify(\r\n                  this.dueAmount -\r\n                    (this.cheque ? this.cheque.amount_received : 0)\r\n                )\r\n              )\r\n            : JSON.parse(JSON.stringify(this.creditAmount)),\r\n      };\r\n      this.isCreditAdded = true;\r\n    }\r\n    if (!this.isCredit) {\r\n      this.cheque = {\r\n        retailer_id: this.selectedRetailer.retailer_id,\r\n        distributor_id: this.distributorId,\r\n        type: this.currentTab === 1 ? 'Execution' : 'Spot',\r\n        payment_mode: 'Cheque',\r\n        payment_detail: {\r\n          cheque_amount:\r\n            this.paymentTypeCheque === 'full'\r\n              ? JSON.parse(JSON.stringify(this.receivableAmount))\r\n              : JSON.parse(JSON.stringify(this.chequeAmount)),\r\n          bank_name: JSON.parse(JSON.stringify(this.bankName)),\r\n          cheque_number: JSON.parse(JSON.stringify(this.chequeNumber)),\r\n          cheque_date: JSON.parse(JSON.stringify(this.paymentDate)),\r\n        },\r\n        dispatched_bill_amount: 0,\r\n        recovery: 0,\r\n        amount_received:\r\n          this.paymentTypeCheque === 'full'\r\n            ? JSON.parse(JSON.stringify(this.receivableAmount))\r\n            : JSON.parse(JSON.stringify(this.chequeAmount)),\r\n      };\r\n      this.isChequeAdded = true;\r\n    }\r\n    this.calculatePayments();\r\n  }\r\n\r\n  addPaymentMethod(): void {\r\n    this.isAdded = true;\r\n    const isPaymentAdded = this.checkPaymentHasValues();\r\n    if (isPaymentAdded) {\r\n      this.isAdded = false;\r\n      this.makePayment();\r\n      document.getElementById('open-modal-payment').click();\r\n    }\r\n  }\r\n\r\n  paymentCancelled(): void {\r\n    this.isAdded = false;\r\n    // this.resetPaymentValues();\r\n    this.paymentTypeCredit = '';\r\n    this.paymentTypeCheque = '';\r\n  }\r\n\r\n  resetPaymentValues(): void {\r\n    this.chequeAmount = null;\r\n    this.paymentDate = new Date().toISOString().split('T')[0];\r\n    this.bankName = '';\r\n    this.chequeNumber = null;\r\n    this.creditAmount = null;\r\n    this.cash = null;\r\n    this.cheque = null;\r\n    this.credit = null;\r\n  }\r\n\r\n  calculatePayments(): void {\r\n    this.cash = {\r\n      retailer_id: this.selectedRetailer.retailer_id,\r\n      distributor_id: this.distributorId,\r\n      type: this.currentTab === 1 ? 'Execution' : 'Spot',\r\n      payment_mode: 'Cash',\r\n      payment_detail: '',\r\n      dispatched_bill_amount: 0,\r\n      return_amount: this.returnAmount || 0,\r\n      recovery: 0,\r\n      amount_received:\r\n        Math.round((this.receivableAmount + Number.EPSILON) * 100) / 100,\r\n    };\r\n    if (this.cheque) {\r\n      this.cheque.return_amount = this.returnAmount || 0;\r\n      this.cash.amount_received =\r\n        this.cash.amount_received - this.cheque.amount_received;\r\n    }\r\n    if (this.credit) {\r\n      this.credit.return_amount = this.returnAmount || 0;\r\n      this.cash.amount_received =\r\n        this.cash.amount_received - this.credit.amount_received;\r\n    }\r\n    this.totalPayment = this.cheque\r\n      ? this.cash.amount_received + this.cheque.amount_received\r\n      : this.cash.amount_received;\r\n    if (this.currentTab === 2) {\r\n      const retailer = this.spotSaleOrder.retailers.find(\r\n        (x) => x.retailer_id === this.selectedRetailer.retailer_id\r\n      );\r\n      retailer.order_total = this.dueAmount;\r\n    }\r\n    this.selectedRetailer.order_total = this.dueAmount;\r\n    if (this.currentTab === 1) {\r\n      this.retailersList.find(\r\n        (x) => x.id === this.selectedRetailer.id\r\n      ).order_total = this.dueAmount;\r\n    }\r\n    if (this.currentTab === 2) {\r\n      this.spotSaleOrder.retailers.find(\r\n        (x) => x.retailer_id === this.selectedRetailer.retailer_id\r\n      ).order_total = this.dueAmount;\r\n    }\r\n    this.orderDetails.order_total = this.dueAmount;\r\n    this.orderDetails.total_amount_after_tax = this.dueAmount;\r\n  }\r\n\r\n  saveExecutionQuantity(): void {\r\n    this.orderDetails.items = this.executionService.setOrderPayloadItems(\r\n      this.orderDetails,\r\n      this.selectedRetailer\r\n    );\r\n    this.orderDetails.returned_items =\r\n      this.executionService.setOrderPayloadReturnedItems(\r\n        this.orderDetails,\r\n        this.selectedRetailer\r\n      );\r\n    this.cash.amount_received =\r\n      this.cash.amount_received > -1\r\n        ? this.cash.amount_received\r\n        : this.netAmount;\r\n    this.orderDetails.payment = {\r\n      total_payment:\r\n        this.totalPayment > -1 ? this.totalPayment : this.netAmount,\r\n      detail: [this.cash],\r\n    };\r\n    if (this.credit) {\r\n      this.orderDetails.payment.detail.push(this.credit);\r\n    }\r\n    if (this.cheque) {\r\n      this.orderDetails.payment.detail.push(this.cheque);\r\n    }\r\n    this.savingOrder = true;\r\n    this.orderService.saveExecutionQuantityOrder(this.orderDetails).subscribe(\r\n      (res) => {\r\n        this.savingOrder = false;\r\n        if (res.status === 200) {\r\n          this.inventory = res.data.executed_products;\r\n          this.toastService.showToaster({\r\n            message: `Order for ${(\r\n              this.selectedRetailer.retailer_name as string\r\n            ).toUpperCase()} execution updated successfully!`,\r\n            title: 'Order execution:',\r\n            type: 'success',\r\n          });\r\n          this.newProduct = null;\r\n          this.orderDetails.items = [];\r\n          this.orderDetails.returned_items = [];\r\n          this.selectedRetailer.isActive = false;\r\n          if (this.currentTab === 1) {\r\n            this.retailersList.find(\r\n              (x) => x.id === this.selectedRetailer.id\r\n            ).isActive = false;\r\n          }\r\n          if (this.currentTab === 2) {\r\n            this.spotSaleOrder.retailers.find(\r\n              (x) => x.id === this.selectedRetailer.id\r\n            ).isActive = false;\r\n          }\r\n          this.selectedRetailer = null;\r\n          this.resetPaymentValues();\r\n          this.setPaymentInitalValues();\r\n        }\r\n      },\r\n      (error) => {\r\n        this.savingOrder = false;\r\n        if (error.status !== 1 && error.status !== 401) {\r\n          console.log('Error in Save Order for execution ::>> ', error);\r\n          this.toastService.showToaster({\r\n            message:\r\n              'Something went wrong execution cannot be save at the moment!',\r\n            title: 'Error:',\r\n            type: 'error',\r\n          });\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  openBillsModal() {\r\n    (\r\n      document.getElementById(\r\n        'billsPrintPaperModalTrigger'\r\n      ) as HTMLButtonElement\r\n    ).click();\r\n  }\r\n\r\n  getBills(size: string = 'A4'): void {\r\n    document.getElementById('close-bills').click();\r\n    const billsUrl = `${environment.apiDomain}${API_URLS.BILLS}?type=bill&emp=${this.billsData.salesman_id}&date=${this.billsData.order_date}&dist_id=${this.billsData.distributorId}&size=${size}&status=processed&orderID=${this.spotSaleOrderId}`;\r\n    window.open(billsUrl, '_blank');\r\n  }\r\n\r\n  billsData = null;\r\n  spotSaleOrderId = null;\r\n\r\n  saveSpotSaleOrder(): void {\r\n    if (this.orderDetails.items.map((i) => i.stockQty).filter((x) => !x).length)\r\n      return this.toastService.showToaster({\r\n        message: 'Please provide quantities for all the items',\r\n        title: 'Error:',\r\n        type: 'error',\r\n      });\r\n    this.savingOrder = true;\r\n    this.orderDetails.load_id = this.loadId;\r\n    this.orderDetails.processed_at = this.orderDate;\r\n    this.orderDetails.processed_by = this.distributorId;\r\n    this.orderDetails.sales_man_id = this.salemanId;\r\n    this.orderDetails.dispatched_by = this.distributorId;\r\n    this.orderDetails.dispatched_at = this.orderDate;\r\n    this.orderDetails.status = 'Processed';\r\n\r\n    this.billsData = {\r\n      load_id: this.loadId,\r\n      distributorId: this.distributorId,\r\n      salesman_id: this.salemanId,\r\n      order_date: this.orderDate,\r\n    };\r\n\r\n    this.orderDetails.items = this.executionService.setOrderPayloadItems(\r\n      this.orderDetails,\r\n      this.selectedRetailer\r\n    );\r\n    this.orderDetails.returned_items =\r\n      this.executionService.setOrderPayloadReturnedItems(\r\n        this.orderDetails,\r\n        this.selectedRetailer\r\n      );\r\n    this.orderDetails.payment = {\r\n      total_payment: this.totalPayment,\r\n      detail: [this.cash],\r\n    };\r\n    if (this.credit) {\r\n      this.orderDetails.payment.detail.push(this.credit);\r\n    }\r\n    if (this.cheque) {\r\n      this.orderDetails.payment.detail.push(this.cheque);\r\n    }\r\n    this.orderService.saveSpotSaleOrder(this.orderDetails).subscribe(\r\n      (res) => {\r\n        this.savingOrder = false;\r\n        this.isSpotSaleActive = false;\r\n        if (res.status === 200) {\r\n          this.openBillsModal();\r\n\r\n          const toast: Toaster = {\r\n            type: 'success',\r\n            message: `Spot Sale for ${this.selectedRetailer.retailer_name.toUpperCase()} saved successfully!`,\r\n            title: 'Spot Sale Saved:',\r\n          };\r\n          this.newProduct = null;\r\n          this.toastService.showToaster(toast);\r\n          this.inventory = res.data.executed_products;\r\n          this.selectedRetailer.id = res.data.order.id;\r\n          this.spotSaleOrderId = res.data.order.id;\r\n          const orderIndex = this.spotSaleOrder.orders.findIndex(\r\n            (x) => x.retailer_id === this.orderDetails.retailer_id\r\n          );\r\n          const retailerIndex = this.spotSaleOrder.retailers.findIndex(\r\n            (x) => x.retailer_id === this.selectedRetailer.retailer_id\r\n          );\r\n          this.spotSaleOrder.retailers[retailerIndex].id = res.data.order.id;\r\n          this.spotSaleOrder.retailers[retailerIndex].order_total =\r\n            res.data.order.order_total;\r\n          this.spotSaleOrder.orders[orderIndex] = JSON.parse(\r\n            JSON.stringify(res.data.order)\r\n          );\r\n          this.orderDetails = JSON.parse(JSON.stringify(res.data.order));\r\n          const emptyOrder = this.spotSaleOrder.orders.find(\r\n            (x) => x.order_total === 0\r\n          );\r\n          if (emptyOrder) {\r\n            this.showAddRetailer = false;\r\n          } else {\r\n            this.showAddRetailer = true;\r\n          }\r\n          this.setOrderDetailItems();\r\n          this.setOrderDetailReturnedItems();\r\n        }\r\n      },\r\n      (error) => {\r\n        this.savingOrder = false;\r\n        this.isSpotSaleActive = false;\r\n        if (error.status !== 1 && error.status !== 401) {\r\n          const toast: Toaster = {\r\n            type: 'error',\r\n            message:\r\n              'Something went wrong spot sale order not placed, please try again later!',\r\n            title: 'Spot Sale Error:',\r\n          };\r\n        }\r\n      }\r\n    );\r\n  }\r\n\r\n  validateCancel(): any {\r\n    if (!this.orderDetails.returned_items?.length) {\r\n      return true;\r\n    } else {\r\n      let isOrderValid = true;\r\n      const returnedProduct = this.orderDetails.returned_items.find(\r\n        (product) => {\r\n          const productAvalableQty = this.inventory.find(\r\n            (x) => x.item_id === product.item_id\r\n          )?.available_qty;\r\n          if (\r\n            productAvalableQty < product.quantity_returned &&\r\n            product.return_type !== 'damage'\r\n          ) {\r\n            isOrderValid = false;\r\n            return product;\r\n          }\r\n        }\r\n      );\r\n      if (!isOrderValid && returnedProduct) {\r\n        this.toastService.showToaster({\r\n          title: 'Returned Product:',\r\n          message:\r\n            'The selected order has returned products which or part of other orders, cannot cancel the order!',\r\n          type: 'error',\r\n        });\r\n      }\r\n      return isOrderValid;\r\n    }\r\n  }\r\n\r\n  cancelOrder(): void {\r\n    document.getElementById('close-del').click();\r\n    if (this.validateCancel()) {\r\n      this.savingOrder = true;\r\n      this.orderService.canceleExecutionOrder(this.orderDetails.id).subscribe(\r\n        (res) => {\r\n          this.savingOrder = false;\r\n          if (res.status === 200) {\r\n            this.toastService.showToaster({\r\n              message: `Order for ${(\r\n                this.selectedRetailer.retailer_name as string\r\n              ).toUpperCase()} canceled!`,\r\n              title: 'Order Execution:',\r\n              type: 'success',\r\n            });\r\n            // this.orderDetails = null;\r\n            this.newProduct = null;\r\n            this.selectedRetailer = null;\r\n            this.orderDetails.items = [];\r\n            this.setPaymentInitalValues();\r\n            this.getOrdersBySalemanAndDate();\r\n          }\r\n        },\r\n        (error) => {\r\n          this.savingOrder = false;\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            console.log('Error in Save Order for dispatch ::>> ', error);\r\n            this.toastService.showToaster({\r\n              message:\r\n                'Something went wrong order cannot be canceled at the moment!',\r\n              title: 'Error:',\r\n              type: 'error',\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  cancelSpotSale(): void {\r\n    if (this.orderDetails.id) {\r\n      this.cancelSpotSaleOrder();\r\n    } else {\r\n      this.removeSpotOrder();\r\n      document.getElementById('close-del').click();\r\n    }\r\n  }\r\n\r\n  cancelSpotSaleOrder(): void {\r\n    document.getElementById('close-del').click();\r\n    if (this.validateCancel()) {\r\n      this.savingOrder = true;\r\n      this.orderService.cancelSpotSaleOrder(this.orderDetails.id).subscribe(\r\n        (res) => {\r\n          this.savingOrder = false;\r\n          this.isSpotSaleActive = false;\r\n          if (res.status === 200) {\r\n            this.toastService.showToaster({\r\n              message: `Order for ${(\r\n                this.selectedRetailer.retailer_name as string\r\n              ).toUpperCase()} canceled!`,\r\n              title: 'Spot Order:',\r\n              type: 'success',\r\n            });\r\n            this.newProduct = null;\r\n            this.inventory = res.data.executed_products;\r\n            this.removeSpotOrder();\r\n\r\n            // this.resetPaymentValues();\r\n            // this.setPaymentInitalValues();\r\n            // this.selectedRetailer = { ...retailer };\r\n            // this.isSpotSaleActive = true;\r\n            // this.orderDetails = this.spotSaleOrder.orders.find(x => x.retailer_id === retailer.retailer_id);\r\n            // this.getDiscountSlabs();\r\n          }\r\n        },\r\n        (error) => {\r\n          this.savingOrder = false;\r\n          this.isSpotSaleActive = false;\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            console.log('Error in cancel spot sale Order ::>> ', error);\r\n            this.toastService.showToaster({\r\n              message:\r\n                'Something went wrong order cannot be canceled at the moment!',\r\n              title: 'Error:',\r\n              type: 'error',\r\n            });\r\n          }\r\n        }\r\n      );\r\n    }\r\n  }\r\n\r\n  removeSpotOrder(): void {\r\n    this.selectedRetailer.isAdded = false;\r\n    this.spotSaleOrder.retailers = this.spotSaleOrder.retailers.filter(\r\n      (x) => x.retailer_id !== this.selectedRetailer.retailer_id\r\n    );\r\n    this.spotSaleOrder.orders = this.spotSaleOrder.orders.filter(\r\n      (x) => x.retailer_id !== this.selectedRetailer.retailer_id\r\n    );\r\n    this.orderDetails.items = [];\r\n    this.orderDetails.returned_items = [];\r\n    this.isSpotSaleActive = false;\r\n    this.selectedRetailer = null;\r\n    const emptyOrder = this.spotSaleOrder.orders.find(\r\n      (x) => x.order_total === 0\r\n    );\r\n    if (emptyOrder) {\r\n      this.showAddRetailer = false;\r\n    } else {\r\n      this.showAddRetailer = true;\r\n    }\r\n    this.resetPaymentValues();\r\n    this.setPaymentInitalValues();\r\n  }\r\n\r\n  getExecutionFinalLoad(): void {\r\n    this.loading = true;\r\n    this.orderService\r\n      .getExecutionFinalLoad(this.loadId, this.outOfRouteRecovery)\r\n      .subscribe(\r\n        (res) => {\r\n          this.loading = false;\r\n          if (res.status === 200) {\r\n            this.finalLoad = res.data;\r\n            this.recoveryListing = res.data.out_of_route_recovery.map((x) => {\r\n              x.recovery = x.amount_received;\r\n              x.retailer_id = x.id;\r\n              x.recoveryAdded = true;\r\n              return x;\r\n            });\r\n            this.outOfRouteRecovery = res.data.out_of_route_recovery.map(\r\n              (x) => {\r\n                const recovery = {\r\n                  retailer_id: x.id,\r\n                  amount: x.amount_received,\r\n                  booker_id: x.booker_id,\r\n                };\r\n                return recovery;\r\n              }\r\n            );\r\n          }\r\n        },\r\n        (error) => {\r\n          this.loading = false;\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            console.log(\r\n              'Error while fetching execution delivery challan :>> ',\r\n              error\r\n            );\r\n            this.toastService.showToaster({\r\n              message: 'Delivery challan not fetched, please try again later!',\r\n              title: 'Delivery Challan Error:',\r\n              type: 'error',\r\n            });\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  getExpense(id: number): string {\r\n    return this.finalLoad.expense_types.find((y) => y.id === id).name;\r\n  }\r\n\r\n  addExpense(type: any, amount: any): void {\r\n    if (type.value && amount.value) {\r\n      const expenses = JSON.parse(\r\n        JSON.stringify(this.finalLoad.expense_detail)\r\n      );\r\n      const expIndex = expenses.findIndex(\r\n        (x) => x.expense_type === +type.value\r\n      );\r\n      if (expIndex > -1) {\r\n        expenses[expIndex].amount = amount.value;\r\n      } else {\r\n        expenses.push({ expense_type: +type.value, amount: +amount.value });\r\n      }\r\n      type.value = '';\r\n      amount.value = '';\r\n      this.finalLoad.expense_detail = JSON.parse(JSON.stringify(expenses));\r\n\r\n      this.setIsExpenseAdded();\r\n    } else {\r\n      this.toastService.showToaster({\r\n        type: 'error',\r\n        title: 'Expense Error:',\r\n        message: 'Please select expense type and add amount!',\r\n      });\r\n    }\r\n  }\r\n\r\n  removeExpense(type: string): void {\r\n    this.finalLoad.expense_detail = this.finalLoad.expense_detail.filter(\r\n      (x) => x.expense_type !== type\r\n    );\r\n    this.setIsExpenseAdded();\r\n  }\r\n\r\n  setIsExpenseAdded(): void {\r\n    this.isExpenseAdded = true;\r\n    setTimeout(() => {\r\n      this.isExpenseAdded = false;\r\n    }, 500);\r\n  }\r\n\r\n  saveExpense(): void {\r\n    document.getElementById('close-expense').click();\r\n    // if (this.finalLoad.expense_detail.length) {\r\n    //     this.isAdded = true;\r\n    //     this.finalLoad.expense_detail = this.finalLoad.expense_detail.map(x => {\r\n    //         return { expense_type: +x.expense_type, amount: +x.amount };\r\n    //     });\r\n    //     this.orderService.saveExecutionExpense(this.loadId, this.salemanId, this.orderDate, this.finalLoad.expense_detail)\r\n    //         .subscribe(res => {\r\n    //             this.isAdded = false;\r\n    //             if (res.status === 200) {\r\n    //                 this.toastService.showToaster({\r\n    //                     title: 'Expense Saved:',\r\n    //                     message: 'Expense saved successfully!',\r\n    //                     type: 'success'\r\n    //                 });\r\n    //                 this.finalLoad = res.data;\r\n    //             }\r\n    //         }, error => {\r\n    //             this.isAdded = false;\r\n    //             if (error.status !== 1 && error.status !== 401) {\r\n    //                 console.log('Error while saving expenses :>> ', error);\r\n    //                 this.toastService.showToaster({\r\n    //                     title: 'Expense Error:',\r\n    //                     message: 'Expense not saved, please try again before marking complete!',\r\n    //                     type: 'error'\r\n    //                 });\r\n    //             }\r\n    //         });\r\n    // }\r\n    this.isAdded = true;\r\n    this.finalLoad.expense_detail = this.finalLoad.expense_detail.map((x) => {\r\n      return { expense_type: +x.expense_type, amount: +x.amount };\r\n    });\r\n    this.orderService\r\n      .saveExecutionExpense(\r\n        this.loadId,\r\n        this.salemanId,\r\n        this.orderDate,\r\n        this.finalLoad.expense_detail\r\n      )\r\n      .subscribe(\r\n        (res) => {\r\n          this.isAdded = false;\r\n          if (res.status === 200) {\r\n            this.toastService.showToaster({\r\n              title: 'Expense Saved:',\r\n              message: 'Expense saved successfully!',\r\n              type: 'success',\r\n            });\r\n            this.finalLoad = res.data;\r\n          }\r\n        },\r\n        (error) => {\r\n          this.isAdded = false;\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            console.log('Error while saving expenses :>> ', error);\r\n            this.toastService.showToaster({\r\n              title: 'Expense Error:',\r\n              message:\r\n                'Expense not saved, please try again before marking complete!',\r\n              type: 'error',\r\n            });\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  checkRecovery(retailer): void {\r\n    if (+retailer.recovery > retailer.balance) {\r\n      this.toastService.showToaster({\r\n        title: 'Recovery Error:',\r\n        message: 'Recovered amount cannot be greater than credit!',\r\n        type: 'error',\r\n      });\r\n      retailer.recovery = 0;\r\n    }\r\n  }\r\n\r\n  setRecoveryRetailer(): void {\r\n    this.isAdded = true;\r\n    this.orderService\r\n      .checkBalance(this.recoveryRetailer.retailer_id)\r\n      .subscribe((res) => {\r\n        this.isAdded = false;\r\n        if (res.status) {\r\n          if (res.data[0].balance > 0) {\r\n            this.recoveryRetailer.isAdded = true;\r\n            this.recoveryRetailer.balance = res.data[0].balance;\r\n            this.recoveryRetailer.recovery = 0;\r\n            this.recoveryRetailer.recoveryAdded = false;\r\n            this.recoveryListing.push(this.recoveryRetailer);\r\n            this.isAdded = false;\r\n          } else {\r\n            this.toastService.showToaster({\r\n              title: 'Recovery:',\r\n              message: `${this.recoveryRetailer.retailer_name.toUpperCase()} has no credit to add recovery!`,\r\n              type: 'error',\r\n            });\r\n          }\r\n        }\r\n      });\r\n  }\r\n\r\n  addRevoery(retaielr: any): void {\r\n    retaielr.recoveryAdded = true;\r\n    const recoveryData = {\r\n      retailer_id: retaielr.retailer_id,\r\n      amount: +retaielr.recovery,\r\n      booker_id: retaielr.booker_id || this.selectedOrderBooker.employee_id,\r\n    };\r\n    this.outOfRouteRecovery.push(recoveryData);\r\n  }\r\n\r\n  removeRecovery(retailer: any): void {\r\n    if (retailer.order_payment_id) {\r\n      this.orderService\r\n        .removeOutOfRuoteRecovery(retailer.order_payment_id)\r\n        .subscribe((res) => {\r\n          if (res.status === 200) {\r\n            this.resetRecoveryValues(retailer);\r\n          }\r\n        });\r\n    } else {\r\n      this.resetRecoveryValues(retailer);\r\n    }\r\n  }\r\n\r\n  resetRecoveryValues(retailer: any): void {\r\n    this.isAdded = true;\r\n    retailer.recoveryAdded = false;\r\n    retailer.recovery = 0;\r\n    this.outOfRouteRecovery = this.outOfRouteRecovery.filter(\r\n      (x) => x.retailer_id !== retailer.retailer_id\r\n    );\r\n    this.recoveryListing = this.recoveryListing.filter(\r\n      (x) => x.retailer_id !== retailer.retailer_id\r\n    );\r\n    setTimeout(() => {\r\n      this.isAdded = false;\r\n    }, 500);\r\n  }\r\n\r\n  checkRecieveable(): void {\r\n    if (+this.amountReceived === 0) {\r\n      this.toastService.showToaster({\r\n        title: 'Execution Error:',\r\n        message: 'Please add received amount!',\r\n        type: 'error',\r\n      });\r\n    } else {\r\n      document.getElementById('show-complete').click();\r\n    }\r\n  }\r\n\r\n  amountReceivedMax(): void {\r\n    const receiable = this.finalLoad.dsr.total_amount_recieveable.toFixed(2);\r\n    if (+this.amountReceived > +receiable) {\r\n      this.toastService.showToaster({\r\n        title: 'Execution Error:',\r\n        message: `Received amount cannot be greater than ${this.finalLoad.dsr.total_amount_recieveable}!`,\r\n        type: 'error',\r\n      });\r\n      this.amountReceived = 0;\r\n    }\r\n  }\r\n\r\n  markCompelet(): void {\r\n    document.getElementById('close-complete').click();\r\n    this.loading = true;\r\n    this.orderService\r\n      .markCompeleteExecution(this.loadId, {\r\n        saleman_id: this.salemanId,\r\n        total_amount_recieved: +this.amountReceived,\r\n        dsr_id: this.finalLoad?.dsr?.id,\r\n        net_receivable: this.finalLoad?.dsr?.total_net_after_recovery,\r\n        balance:\r\n          this.finalLoad?.dsr?.total_net_after_recovery - this.amountReceived,\r\n        execution_date: this.orderDate,\r\n      })\r\n      .subscribe(\r\n        (res) => {\r\n          this.loading = false;\r\n          if (res.status === 200) {\r\n            this.toastService.showToaster({\r\n              title: 'Execution Completed:',\r\n              message: 'Execution completed successfully!',\r\n              type: 'success',\r\n            });\r\n            this.router.navigateByUrl('/orders/execution-list');\r\n          }\r\n        },\r\n        (error) => {\r\n          this.loading = false;\r\n          console.log('Execution complete Error :>> ', error);\r\n          if (error.status !== 1 && error.status !== 401) {\r\n            this.toastService.showToaster({\r\n              title: 'Execution Error:',\r\n              message: 'Execution not completed, please try again later!',\r\n              type: 'error',\r\n            });\r\n          }\r\n        }\r\n      );\r\n  }\r\n\r\n  generateDSR(): void {\r\n    const url = `${environment.apiDomain}${API_URLS.DSR_PDF}/${this.finalLoad.dsr.id}`;\r\n    window.open(url);\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.change.detach();\r\n  }\r\n}\r\n","<div class=\"modal fade\" id=\"billsModalCounterSale\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"billsModalCounterSaleLabel\"\r\n  aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n    <div class=\"modal-content top_border\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"billsModalCounterSaleLabel\">Print bill for this order<span></span></h5>\r\n        <button type=\"button\" id=\"close-bills\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <!-- <div class=\"row\">\r\n          <div class=\"col-auto\" style=\"padding-top:6px;font-size:14px\">Select Date</div>\r\n          <div class=\"col\"> <input type=\"date\" id=\"invoice-date\" [(ngModel)]=\"invoiceDate\"\r\n              class=\"form-control select-date\" name=\"invoice-date\" placeholder=\"\">\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <hr>\r\n          </div>\r\n        </div> -->\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <h3 class=\"heading3\">Select paper size for print</h3>\r\n          </div>\r\n        </div>\r\n        <div class=\"row print-icon-div pb-0\">\r\n          <div class=\"col-6 pl-0\">\r\n            <a (click)=\"getBills('A4')\"><img class=\"print-icon\" src=\"assets/images/a4.svg\" alt=\"\">\r\n              <strong>A4 Portrait\r\n                Paper</strong></a>\r\n          </div>\r\n          <div class=\"col-6 pr-0\">\r\n            <a (click)=\"getBills('A5')\"><img class=\"print-icon\" src=\"assets/images/a5.svg\" alt=\"\">\r\n              <strong>A5 Landscape\r\n                Paper</strong></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Cancel Order -->\r\n<div class=\"modal fade\" id=\"order-del\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"orderLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content top-borderRed\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"orderLabel\">Cancel Order <span></span></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"col-md-12\">\r\n                    <p>Are you sure you want to cancel the order?</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer border-0\">\r\n                <button *ngIf=\"currentTab === 1\" type=\"button\" class=\"btn btn-primary\" (click)=\"cancelOrder()\">Yes</button>\r\n                <button *ngIf=\"currentTab === 2\" type=\"button\" class=\"btn btn-primary\" (click)=\"cancelSpotSale()\">Yes</button>\r\n                <button type=\"submit\" id=\"close-del\" class=\"btn btn-cancel\" data-dismiss=\"modal\" aria-label=\"Close\">No</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Complete Execution -->\r\n<div class=\"modal fade\" id=\"order-complete\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"orderCompleteLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"orderLabel\">Complete Execution <span></span></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div class=\"modal-body\">\r\n                <div class=\"col-md-12\">\r\n                    <p>Are you sure you want to Mark the order as Completed?</p>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer border-0\">\r\n                <button type=\"button\" class=\"btn btn-primary\" (click)=\"markCompelet()\">Yes</button>\r\n                <button type=\"submit\" id=\"close-complete\" class=\"btn btn-cancel\" data-dismiss=\"modal\" aria-label=\"Close\">No</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n<button hidden data-target=\"#order-complete\" data-toggle=\"modal\" id=\"show-complete\">show complete</button>\r\n\r\n<!-- Add Expense -->\r\n<div class=\"modal fade\" id=\"expenseModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"expenseLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" style=\"max-width: 850px;\" role=\"document\">\r\n        <div class=\"modal-content top-borderBlue\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"expnseLabel\">Add <span>Expense</span></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div *ngIf=\"finalLoad\" class=\"modal-body\">\r\n                <div class=\"row mb-20\">\r\n                    <div class=\"col-md-4 pr-0\">\r\n                        <label class=\"font12 mb-5\">Expense Type</label>\r\n                        <div class=\"form-s2 focused\" data-select2-id=\"39\">\r\n                            <select class=\"form-control formselect expense_id select2-hidden-accessible\" #expenseType id=\"expense_type\" placeholder=\"Expense Type\" style=\"width: 100%;font-size: 12px;\" tabindex=\"-1\" aria-hidden=\"true\" value=\"\">\r\n                                <option value=\"\" disabled selected>Select Expense Type</option>\r\n                                <option *ngFor=\"let expType of finalLoad?.expense_types\" [value]=\"expType.id\">\r\n                                    {{expType.name}}</option>\r\n                            </select>\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-md-3 pr-0\">\r\n                        <div class=\"form-group focused\">\r\n                            <label class=\"control-label\">Amount</label>\r\n                            <input type=\"number\" id=\"expense-amount\" (keydown)=\"isNumber($event)\" #expenseAmount class=\"form-control expense_amount\" placeholder=\"\">\r\n                        </div>\r\n                    </div>\r\n                    <div class=\"col-2\" style=\"padding-top:29px;\"><button type=\"button\" (click)=\"addExpense(expenseType,\r\n                        expenseAmount)\" class=\"btn btn-primary add_expense_btn\">Add</button>\r\n                    </div>\r\n                </div>\r\n                <div class=\"expense_table\">\r\n                    <div id=\"expenseAddedTable_wrapper\" class=\"dataTables_wrapper dt-bootstrap4 no-footer\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <table *ngIf=\"!isExpenseAdded\" class=\"table\" datatable [dtOptions]=\"dtOPtions\" id=\"expenseAddedTable\" style=\"width: 100%;\" role=\"grid\" aria-describedby=\"expenseAddedTable_info\">\r\n                                    <thead>\r\n                                        <tr role=\"row\">\r\n                                            <th>Expense Type</th>\r\n                                            <th>Amount</th>\r\n                                            <th>Action</th>\r\n                                        </tr>\r\n                                    </thead>\r\n                                    <tbody>\r\n                                        <tr *ngFor=\"let expense of finalLoad?.expense_detail\">\r\n                                            <td>{{getExpense(expense.expense_type)}}</td>\r\n                                            <td>{{expense.amount}}</td>\r\n                                            <td><button class=\"btn btn-default red-bg mb-0 remove_expense\" [id]=\"expense.type\" (click)=\"removeExpense(expense.expense_type)\">Delete</button></td>\r\n                                        </tr>\r\n                                    </tbody>\r\n                                </table>\r\n                                <div *ngIf=\"isExpenseAdded\" class=\"col-md-12\" style=\"text-align: center;padding: 30px;\">\r\n                                    <div class=\"spinner-border\" style=\"width: 5rem; height: 5rem;color: #0038ba\" role=\"status\">\r\n                                        <span class=\"sr-only\">Loading...</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer border-0\">\r\n                <button type=\"button\" (click)=\"saveExpense()\" class=\"btn btn-primary\">Save</button>\r\n                <button type=\"button\" id=\"close-expense\" class=\"btn btn-cancel\" data-dismiss=\"modal\" aria-label=\"Close\">Cancel</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<app-products-drawer *ngIf=\"showProducts\" [selectedRetailer]=\"selectedRetailer\" [orderType]=\"'execution'\" [orderedProducts]=\"orderDetails?.items\" [loadingProducts]=\"loadingProduct\" [allProducts]=\"inventory\" [productSchemes]=\"schemes\" [productMerchantDiscount]=\"merchantDiscount\"\r\n    [specialDiscounts]=\"specialDiscounts\" (drawerClosed)=\"closeNewProducts()\" (productSelected)=\"addNewProductToOrder($event)\">\r\n</app-products-drawer>\r\n\r\n<app-returned-products [productsList]=\"allProducts\" [orderReturnedItems]=\"orderDetails.returned_items\" (productReturned)=\"handleReturnedProduct($event)\" (closeReturned)=\"closeReturnedModal()\" *ngIf=\"showReturned\">\r\n</app-returned-products>\r\n\r\n<!-- Credit and Cheque info -->\r\n<div class=\"modal fade\" id=\"exampleModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content top_border\">\r\n            <div *ngIf=\"!isCredit\" class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add <span> Cheque Information</span></h5>\r\n                <button type=\"button\" (click)=\"paymentCancelled()\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n\r\n            <div *ngIf=\"!isCredit\" class=\"col-12\">\r\n                <div id=\"floating-label\" class=\"form-wrap p-0\">\r\n                    <div class=\"row pt-10\">\r\n                        <div class=\"col-4\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input class=\"custom-control-input\" type=\"radio\" [(ngModel)]=\"paymentTypeCheque\" (click)=\"chequeAmount=null;currentFullPayment('Cheque Payment', 'Credit')\" name=\"payment\" id=\"payment1\" value='full'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height:25px\" for=\"payment1\">Full Amount</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-4\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input (click)=\"setPartial('Cheque Payment')\" class=\"custom-control-input\" type=\"radio\" [(ngModel)]=\"paymentTypeCheque\" name=\"payment\" id=\"payment2\" value='partial'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height:25px\" for=\"payment2\">Partial Amount</label>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div *ngIf=\"paymentTypeCheque === '' && isAdded\" class=\"col-12 input-error\">\r\n                        Please select a payment method!\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6 PT-10\">\r\n                            <div class=\"form-group focused\">\r\n                                <label class=\"control-label mb-10\">Cheque Number*</label>\r\n                                <input type=\"text\" id=\"chequeNum\" name=\"cheque_num\" (focus)=\"focused($event)\" required (blur)=\"left($event)\" [(ngModel)]=\"chequeNumber\" #chequNo=\"ngModel\" autocomplete=\"off\" class=\"form-control cheque_num\">\r\n                            </div>\r\n                            <span *ngIf=\"chequNo.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Cheque Number!\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"col-md-6 PT-10\">\r\n                            <div class=\"form-group focused\">\r\n                                <label class=\"control-label mb-10\">Date*</label>\r\n                                <input type=\"date\" id=\"datepicker\" (focus)=\"focused($event)\" required placeholder=\"\" autocomplete=\"off\" (blur)=\"left($event)\" name=\"payment_date\" [(ngModel)]=\"paymentDate\" #payDate=\"ngModel\" class=\"form-control cheque_date\">\r\n                            </div>\r\n                            <span *ngIf=\"paymentDate === '  ' && isAdded\" class=\"input-error\">\r\n                                Please add Payment Date!\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"col-md-6 PT-5\">\r\n                            <div class=\"form-group focused\">\r\n                                <label class=\"control-label mb-10\">Bank Name*</label>\r\n                                <input type=\"text\" name=\"cheque_bank_name\" id=\"chequeBankName\" (focus)=\"focused($event)\" required (blur)=\"left($event)\" [(ngModel)]=\"bankName\" #bank_Name=\"ngModel\" autocomplete=\"off\" class=\"form-control cheque_bank_name\">\r\n                            </div>\r\n                            <span *ngIf=\"bank_Name.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Bank Name!\r\n                            </span>\r\n                        </div>\r\n                        <div *ngIf=\"paymentTypeCheque !== 'full'\" class=\"col-md-6 PT-5\">\r\n                            <div class=\"form-group focused\">\r\n                                <label class=\"control-label mb-10\">Total Amount*</label>\r\n                                <input type=\"number\" min=\"0\" [max]=\"cash?.amount_received\" name=\"cheque_amount\" (focus)=\"focused($event)\" required (blur)=\"left($event)\" [(ngModel)]=\"chequeAmount\" #cheqAmount=\"ngModel\" id=\"Amount1\" autocomplete=\"off\" class=\"form-control cheque_amount\">\r\n                            </div>\r\n                            <span *ngIf=\"cheqAmount.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Total Amount!\r\n                            </span>\r\n                            <span *ngIf=\"!cheqAmount.errors?.required && chequeAmount < 0 && isAdded\" class=\"input-error\">\r\n                                Negative values not allowed\r\n                            </span>\r\n                            <span *ngIf=\"!cheqAmount.errors?.required && chequeAmount > cash?.amount_received && isAdded\" class=\"input-error\">\r\n                                Amount should not be greater than {{cash?.amount_received | number: '1.2-2'}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div *ngIf=\"isCredit\" class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add <span>Credit Information</span></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n\r\n            <div *ngIf=\"isCredit\" id=\"floating-label\" class=\"form-wrap p-0\">\r\n                <div class=\"col-12\">\r\n                    <div class=\"row pt-10\">\r\n                        <div class=\"col-6\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input class=\"custom-control-input\" [(ngModel)]=\"paymentTypeCredit\" type=\"radio\" (click)=\"creditAmount=null;currentFullPayment('Credit', 'Cheque payment')\" name=\"payment\" id=\"Amount1\" value='full'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height: 25px\" for=\"Amount1\">Full Amount</label>\r\n                            </div>\r\n                            <span *ngIf=\"paymentTypeCredit === '' && isAdded\" class=\"input-error\">\r\n                                Please select a payment method!\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input (click)=\"setPartial('Credit')\" class=\"custom-control-input\" [(ngModel)]=\"paymentTypeCredit\" type=\"radio\" name=\"payment\" id=\"Amount2\" value='partial'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height: 25px\" for=\"Amount2\">Partial Amount</label>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf=\"paymentTypeCredit !== 'full'\" class=\"col-md-6 PT-10\">\r\n                            <div class=\"form-group focused\">\r\n                                <label class=\"control-label mb-10\">Amount*</label>\r\n                                <input type=\"number\" min=\"0\" [max]=\"dueAmount - (cheque?.amount_received || 0)\" name=\"cheque_amount\" (focus)=\"focused($event)\" required (blur)=\"left($event)\" [(ngModel)]=\"creditAmount\" #credAmount=\"ngModel\" autocomplete=\"off\" class=\"form-control cheque_amount\">\r\n                            </div>\r\n                            <span *ngIf=\"credAmount.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Total Amount!\r\n                            </span>\r\n                            <span *ngIf=\"!credAmount.errors?.required && creditAmount < 0 && isAdded\" class=\"input-error\">\r\n                                Negative values not allowed\r\n                            </span>\r\n                            <span *ngIf=\"!credAmount.errors?.required && creditAmount > dueAmount - (cheque?.amount_received || 0) && isAdded\" class=\"input-error\">\r\n                                Amount should not be greater than {{dueAmount - (cheque?.amount_received || 0) | number: '1.2-2'}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div *ngIf=\"(paymentTypeCheque === 'partial' && paymentTypeCredit === 'full') || (paymentTypeCheque === 'full' && paymentTypeCredit === 'partial')\" class=\"form-wrap p-10\">\r\n                <h5 class=\"input-error\">You have to choose \"Partial Amount\" to use both Credit and Cheque Payment!</h5>\r\n            </div>\r\n\r\n\r\n            <div class=\"modal-footer border-0\">\r\n                <button type=\"submit\" [disabled]=\"(paymentTypeCheque === 'partial' && paymentTypeCredit === 'full') || (paymentTypeCheque === 'full' && paymentTypeCredit === 'partial')\" class=\"btn btn-primary\" (click)=\"addPaymentMethod()\">Add</button>\r\n                <button type=\"button\" id=\"close-payment-modal\" (click)=\"paymentCancelled()\" class=\"btn btn-cancel\" data-dismiss=\"modal\" aria-label=\"Close\">Cancel</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"container mw-1280\" id=\"order-container\">\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card daily-operations\">\r\n\r\n                <ul class=\"nav nav-pills nav_M mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 1 ? 'active' : ''\" id=\"pills-home-tab\"><span>Orders</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa fa-list-ul\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 2 ? 'active' : ''\" id=\"pills-sale-tab\"><span>Spot\r\n                                Sale</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa fa-dollar-sign\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 3 ? 'active' : ''\" id=\"pills-load-tab\"><span>Recovery</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa fa-redo\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                    <li class=\"nav-item\">\r\n                        <a class=\"nav-link\" [ngClass]=\"currentTab === 4 ? 'active' : ''\" id=\"pills-final-tab\"><span>Final</span>\r\n                            <span class=\"wz-icon\"><i class=\"fa fa-check\"></i></span>\r\n                        </a>\r\n                    </li>\r\n                </ul>\r\n\r\n                <div class=\"tab-content\" id=\"pills-tabContent\">\r\n                    <div class=\"tab-pane tab_M p-0 PT-10 fade\" *ngIf=\"currentTab === 1\" [ngClass]=\"currentTab === 1 ? 'show active' : ''\" id=\"pills-home\" role=\"tabpanel\" aria-labelledby=\"pills-home-tab\">\r\n\r\n                        <div class=\"topstats\">\r\n                            <div class=\"row m-0\">\r\n                                <div class=\"col pr-0\">\r\n                                    <div class=\"gary-box \"><strong>Date:</strong> <span class=\"execution_date\">{{dispatchSummary?.date || '--'}}</span></div>\r\n                                </div>\r\n                                <div class=\"col-auto pr-0\">\r\n                                    <div class=\"gary-box min-w\"><strong>Order Booker:</strong> <b class=\"execution_bookers float-right\">{{dispatchSummary?.order_bookers.join(',\r\n                                            ') || '--'}}</b></div>\r\n                                </div>\r\n                                <div class=\"col-auto pr-0\">\r\n                                    <div class=\"gary-box min-w\"><strong>Territory:</strong> <span class=\"execution_territories\">{{dispatchSummary?.territories.join(',\r\n                                            ') || '--'}}</span></div>\r\n                                </div>\r\n                                <div class=\"col pr-0\">\r\n                                    <div class=\"gary-box\"><strong>Total Outlets:</strong> <span class=\"execution_order\">{{dispatchSummary?.total_outlets || '--'}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col\">\r\n                                    <div class=\"gary-box\" style=\"min-width: 200px;\"><strong>Total\r\n                                            Amount:</strong>\r\n                                        <span class=\"execution_amount\">Rs. {{dispatchSummary?.total_amount || 0 |\r\n                                            number:\r\n                                            '1.2-2'}}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row m-0 grayTopborder\">\r\n                            <div id=\"orderList-id\" class=\"col-4 p-0\">\r\n                                <app-retailer-sub-list [loading]=\"loading || savingOrder\" [currentTab]=\"currentTab\" [retailers]=\"retailersList\" [orderType]=\"'execution'\" (retailerChanged)=\"getOrderDetailsByRetailer($event)\"></app-retailer-sub-list>\r\n                            </div>\r\n\r\n                            <div class=\"col p-0\">\r\n                                <div class=\"rightHeight\">\r\n                                    <app-order-items-list *ngIf=\"!savingOrder && selectedRetailer\" [currentTab]=\"currentTab\" [orderDetail]=\"orderDetails\" [returnAmount]=\"returnAmount\" [dueAmount]=\"dueAmount\" [isChequeAdded]=\"isChequeAdded\" [isCreditAdded]=\"isCreditAdded\" [receivableAmount]=\"receivableAmount\" [totalPayment]=\"totalPayment\"\r\n                                        [cheque]=\"cheque\" [credit]=\"credit\" [cash]=\"cash\" [orders]=\"retailersList\" [schemes]=\"schemes\" [selectedRetailer]=\"selectedRetailer\" [returnedProduct]=\"returnedProduct\" [allProducts]=\"inventory\" [specialDiscounts]=\"specialDiscounts\" [merchantDiscount]=\"merchantDiscount\"\r\n                                        [newProduct]=\"newProduct\" [orderType]=\"'execution'\" [recoveryAmount]=\"recoveryAmount\" (deleteReturned)=\"deleteReturnedProduct($event)\" (openDrawer)=\"openProductsList()\" (openReturnedModal)=\"openReturnedModal()\" (productUpdated)=\"calculateReceivable()\">\r\n                                    </app-order-items-list>\r\n                                    <div class=\"col-12\" *ngIf=\"savingOrder\">\r\n                                        <app-loader-white></app-loader-white>\r\n                                    </div>\r\n                                    <div class=\"no-content\" *ngIf=\"!savingOrder && !selectedRetailer\">\r\n                                        <div class=\"no-content-container\" style=\"margin: auto;display:table;text-align: center; color:#B7B7B7\">\r\n                                            <img src=\"assets/images/select order-icon.svg\" alt=\"\">\r\n                                            <strong>Select order to see details</strong>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div *ngIf=\"!savingOrder && selectedRetailer\" class=\"col-md-12 bottom-act-btn\">\r\n                                    <button *ngIf=\"!savingOrder && !isChequeAdded\" class=\"btn btn-primary float-left mr-2 font13\" [disabled]=\"!selectedRetailer\" (click)=\"isCredit = false;isFullyPaymentAdded('Cheque Payment')\">Add\r\n                                        Cheque</button>\r\n                                    <button *ngIf=\"!savingOrder && isChequeAdded\" [disabled]=\"!selectedRetailer\" class=\"btn btn-primary float-left font13 mr-2 red-bg\" (click)=\"removeCheque()\">Remove Cheque</button>\r\n                                    <button *ngIf=\"!savingOrder && !isCreditAdded\" [disabled]=\"!selectedRetailer\" class=\"btn btn-primary float-left font13\" (click)=\"isCredit = true;isFullyPaymentAdded('Credit')\">Add Credit</button>\r\n                                    <button *ngIf=\"!savingOrder && isCreditAdded\" [disabled]=\"!selectedRetailer\" class=\"btn btn-primary float-left font13 red-bg\" (click)=\"removeCredit()\">Remove\r\n                                        Credit</button>\r\n                                    <button *ngIf=\"!savingOrder\" id=\"open-modal-payment\" style=\"display: none;\" data-toggle=\"modal\" data-target=\"#exampleModal2\">Show Modal</button>\r\n\r\n                                    <button [disabled]=\"savingOrder || !selectedRetailer\" (click)=\"saveExecutionQuantity()\" class=\"btn btn-primary mr-2 save_order_execution font13\">Save\r\n                                        Order</button>\r\n                                    <button [disabled]=\"savingOrder || !selectedRetailer\" class=\"btn btn-cancel cancel_order_btn font13\" data-toggle=\"modal\" data-target=\"#order-del\">Cancel Order</button>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"tab-pane tab_M p-0 PT-10 fade\" *ngIf=\"currentTab === 2\" [ngClass]=\"currentTab === 2 ? 'show active' : ''\" id=\"pills-sale\" role=\"tabpanel\" aria-labelledby=\"pills-sale-tab\">\r\n\r\n                        <div class=\"topstats\">\r\n                            <div class=\"row m-0\">\r\n                                <div class=\"col pr-0\">\r\n                                    <div class=\"gary-box \"><strong>Date:</strong> <span class=\"execution_date\">{{spotSaleOrder.date}}</span></div>\r\n                                </div>\r\n                                <div class=\"col-auto pr-0\">\r\n                                    <div class=\"gary-box min-w \"><strong>Order Booker:</strong> <b class=\"execution_bookers float-right\">{{spotSaleOrder.orderBookerName}}</b>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-auto pr-0\">\r\n                                    <div class=\"gary-box min-w \"><strong>Territory:</strong> <span class=\"execution_territories\">{{spotSaleOrder.territory}}</span></div>\r\n                                </div>\r\n                                <div class=\"col pr-0\">\r\n                                    <div class=\"gary-box \"><strong>Total Outlets:</strong> <span class=\"execution_order\">{{spotSaleOrder.retailers.length}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col\">\r\n                                    <div class=\"gary-box \" style=\"min-width: 200px;\"><strong>Total\r\n                                            Amount:</strong>\r\n                                        <span class=\"execution_amount\">Rs. {{spotSaleOrder.order_total || 0 | number:\r\n                                            '1.2-2'}}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"col-12\">\r\n                            <div class=\"Product-Filter border-0\">\r\n                                <div class=\"row\">\r\n\r\n                                    <div class=\"col-3 pr-0\">\r\n                                        <div class=\"_cust_filter p-0 m-0 w-100\">\r\n                                            <div class=\"form-s2\">\r\n                                                <ng-select class=\"formselect\" (change)=\"getOrderBookerRoutes()\" [(ngModel)]=\"selectedOrderBooker\" name=\"order-booker\" placeholder=\"Select Order Booker\" style=\"width: 100%!important\">\r\n                                                    <ng-option *ngFor=\"let item of orderBookers;let i=index\" [value]=\"item\">{{item.employee_first_name}} {{item.employee_last_name}}\r\n                                                    </ng-option>\r\n                                                </ng-select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"col-3 pr-0\" *ngIf=\"selectedOrderBooker\">\r\n                                        <div class=\"_cust_filter p-0 m-0 w-100\">\r\n                                            <div class=\"form-s2\">\r\n                                                <ng-select class=\"formselect\" (change)=\"getRetaielrsByRoute($event)\" [(ngModel)]=\"selectedRoute\" name=\"booker-route\" placeholder=\"Select Route\" style=\"width: 100%!important\">\r\n                                                    <ng-option *ngFor=\"let item of bookerRoutes;let i=index\" [value]=\"item.route_id\">{{item.name}}</ng-option>\r\n                                                </ng-select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"col-3 pr-0\" *ngIf=\"selectedRoute\">\r\n                                        <div class=\"_cust_filter p-0 m-0 w-100\">\r\n                                            <div class=\"form-s2\">\r\n                                                <ng-select class=\"formselect\" [(ngModel)]=\"spotRetailer\" name=\"spot-retailer\" placeholder=\"Select Retailer\" style=\"width: 100%!important\">\r\n                                                    <ng-container *ngFor=\"let item of routeRetailers;let i=index\">\r\n                                                        <ng-option *ngIf=\"!item.isAdded\" [value]=\"item\">\r\n                                                            {{item.retailer_name}}</ng-option>\r\n                                                    </ng-container>\r\n                                                </ng-select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <button *ngIf=\"spotRetailer && showAddRetailer\" (click)=\"setSpotSaleRetailer()\" class=\"btn add_button addpr addReturn add-ordr\">Add Order</button>\r\n\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"row m-0 grayTopborder\">\r\n                            <div id=\"orderList-id\" class=\"col-4 p-0\">\r\n                                <app-retailer-sub-list [retailers]=\"spotSaleOrder.retailers\" [currentTab]=\"currentTab\" [orderType]=\"'execution'\" [isSpotSaleActive]=\"isSpotSaleActive\" (retailerChanged)=\"setCurrentSpotSaleOrder($event)\"></app-retailer-sub-list>\r\n                            </div>\r\n\r\n                            <div class=\"col p-0\">\r\n                                <div class=\"rightHeight\">\r\n                                    <app-order-items-list *ngIf=\"!savingOrder && selectedRetailer\" [currentTab]=\"currentTab\" [orderDetail]=\"orderDetails\" [returnAmount]=\"returnAmount\" [isChequeAdded]=\"isChequeAdded\" [isCreditAdded]=\"isCreditAdded\" [receivableAmount]=\"receivableAmount\" [totalPayment]=\"totalPayment\"\r\n                                        [cheque]=\"cheque\" [credit]=\"credit\" [orders]=\"spotSaleOrder.retailers\" [cash]=\"cash\" [schemes]=\"schemes\" [dueAmount]=\"dueAmount\" [selectedRetailer]=\"selectedRetailer\" [orderType]=\"'execution'\" [allProducts]=\"inventory\" [specialDiscounts]=\"specialDiscounts\" [merchantDiscount]=\"merchantDiscount\"\r\n                                        [newProduct]=\"newProduct\" (openDrawer)=\"openProductsList()\" (openReturnedModal)=\"openReturnedModal()\" (productUpdated)=\"calculateReceivable()\" (deleteReturned)=\"deleteReturnedProduct($event)\">\r\n                                    </app-order-items-list>\r\n                                    <div class=\"col-12\" *ngIf=\"savingOrder\">\r\n                                        <app-loader-white></app-loader-white>\r\n                                    </div>\r\n                                    <div class=\"no-content\" *ngIf=\"!savingOrder && !selectedRetailer\">\r\n                                        <div class=\"no-content-container\" style=\"margin: auto;display:table;text-align: center; color:#B7B7B7\">\r\n                                            <img src=\"assets/images/select order-icon.svg\" alt=\"\">\r\n                                            <strong>Select order to see details</strong>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n\r\n                                <div *ngIf=\"!savingOrder && selectedRetailer\" class=\"col-md-12 bottom-act-btn\">\r\n                                    <button *ngIf=\"!savingOrder && !isChequeAdded\" class=\"btn btn-primary float-left mr-2 font13\" (click)=\"isCredit = false;isFullyPaymentAdded('Cheque Payment')\">Add\r\n                                        Cheque</button>\r\n                                    <button *ngIf=\"!savingOrder && isChequeAdded\" class=\"btn btn-primary float-left font13 mr-2 red-bg\" (click)=\"removeCheque()\">Remove Cheque</button>\r\n                                    <button *ngIf=\"!savingOrder && !isCreditAdded\" class=\"btn btn-primary float-left font13\" (click)=\"isCredit = true;isFullyPaymentAdded('Credit')\">Add Credit</button>\r\n                                    <button *ngIf=\"!savingOrder && isCreditAdded\" class=\"btn btn-primary float-left font13 red-bg\" (click)=\"removeCredit()\">Remove\r\n                                        Credit</button>\r\n                                    <button *ngIf=\"!savingOrder\" id=\"open-modal-payment\" style=\"display: none;\" data-toggle=\"modal\" data-target=\"#exampleModal2\">Show Modal</button>\r\n\r\n                                    <button [disabled]=\"!orderDetails?.items?.length && !orderDetails?.returned_items?.length\" class=\"btn btn-primary mr-2 save_order_execution font13\" (click)=\"saveSpotSaleOrder()\">Save\r\n                                        Order</button>\r\n                                    <button [disabled]=\"!orderDetails\" class=\"btn btn-cancel cancel_order_btn font13\" data-toggle=\"modal\" data-target=\"#order-del\">Cancel</button>\r\n                                </div>\r\n\r\n                            </div>\r\n\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"tab-pane tab_M p-0 PT-20 fade\" *ngIf=\"currentTab === 3\" [ngClass]=\"currentTab === 3 ? 'show active' : ''\" id=\"pills-load\" role=\"tabpanel\" aria-labelledby=\"pills-load-tab\">\r\n\r\n                        <div class=\"col-12\">\r\n                            <div class=\"Product-Filter border-0\">\r\n                                <div class=\"row\">\r\n\r\n                                    <div class=\"col-3 pr-0\">\r\n                                        <div class=\"_cust_filter p-0 m-0 w-100\">\r\n                                            <div class=\"form-s2\">\r\n                                                <ng-select class=\"formselect\" (change)=\"getOrderBookerRoutes()\" [(ngModel)]=\"selectedOrderBooker\" name=\"order-booker\" placeholder=\"Select Order Booker\" style=\"width: 100%!important\">\r\n                                                    <ng-option *ngFor=\"let item of orderBookers;let i=index\" [value]=\"item\">{{item.employee_first_name}} {{item.employee_last_name}}\r\n                                                    </ng-option>\r\n                                                </ng-select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"col-3 pr-0\" *ngIf=\"selectedOrderBooker\">\r\n                                        <div class=\"_cust_filter p-0 m-0 w-100\">\r\n                                            <div class=\"form-s2\">\r\n                                                <ng-select class=\"formselect\" (change)=\"getRetaielrsByRoute($event)\" [(ngModel)]=\"selectedRoute\" name=\"booker-route\" placeholder=\"Select Route\" style=\"width: 100%!important\">\r\n                                                    <ng-option *ngFor=\"let item of bookerRoutes;let i=index\" [value]=\"item.route_id\">{{item.name}}</ng-option>\r\n                                                </ng-select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"col-3 pr-0\" *ngIf=\"selectedRoute\">\r\n                                        <div class=\"_cust_filter p-0 m-0 w-100\">\r\n                                            <div class=\"form-s2\">\r\n                                                <ng-select class=\"formselect\" [(ngModel)]=\"recoveryRetailer\" name=\"spot-retailer\" placeholder=\"Select Retailer\" (change)=\"setRecoveryRetailer()\" style=\"width: 100%!important\">\r\n                                                    <ng-container *ngFor=\"let item of routeRetailers;let i=index\">\r\n                                                        <ng-option *ngIf=\"!item.isAdded\" [value]=\"item\">\r\n                                                            {{item.retailer_name}}</ng-option>\r\n                                                    </ng-container>\r\n                                                </ng-select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"col-12 PT-10\">\r\n                            <table *ngIf=\"!isAdded\" datatable [dtOptions]=\"dtOPtions\" class=\"table table-hover dt-responsive nowrap\" id=\"example2\" style=\"width:100%\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Retailer Name</th>\r\n                                        <th>Recovery Amount</th>\r\n                                        <th>Received Amount</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let retailer of recoveryListing\">\r\n                                        <td>{{retailer.retailer_name}}</td>\r\n                                        <td>Rs. {{retailer.balance | number: '1.2-2'}}</td>\r\n                                        <td><input type=\"text\" [readonly]=\"retailer.recoveryAdded\" [(ngModel)]=\"retailer.recovery\" name=\"{{retailer.retailer_name}}\" id=\"{{retailer.retailer_name}}\" class=\"form-control value_input\" style=\"width:90px;\" (keydown)=\"isNumber($event)\"\r\n                                                (keyup)=\"checkRecovery(retailer)\" placeholder=\"0\"></td>\r\n                                        <td>\r\n                                            <button *ngIf=\"!retailer.recoveryAdded\" [disabled]=\"+retailer.recovery < 1\" (click)=\"addRevoery(retailer)\" class=\"btn btn-default btn-line\">Add\r\n                                                Recovery</button>\r\n                                            <button *ngIf=\"retailer.recoveryAdded\" (click)=\"removeRecovery(retailer)\" class=\"btn btn-default red-bg\" style=\"color: white;\">Remove\r\n                                                Recovery</button>\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <div class=\"col-12\" *ngIf=\"isAdded\">\r\n                                <app-loader-white></app-loader-white>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"tab-pane tab_M p-0 PT-10 fade\" *ngIf=\"currentTab === 4\" [ngClass]=\"currentTab === 4 ? 'show active' : ''\" id=\"pills-final\" role=\"tabpanel\" aria-labelledby=\"pills-final-tab\">\r\n\r\n                        <div class=\"topstats\">\r\n                            <div class=\"row m-0\">\r\n                                <div class=\"col pr-0\">\r\n                                    <div class=\"gary-box \"><strong>Date:</strong> <span class=\"execution_date\">{{finalLoad?.dsr?.executed_date?.split(' ')[0] ||\r\n                                            '--'}}</span></div>\r\n                                </div>\r\n                                <div class=\"col-auto pr-0\">\r\n                                    <div class=\"gary-box min-w \"><strong>Order Booker:</strong> <b class=\"execution_bookers float-right\">{{'--'}}</b></div>\r\n                                </div>\r\n                                <div class=\"col-auto pr-0\">\r\n                                    <div class=\"gary-box min-w \"><strong>Territory:</strong> <span class=\"execution_territories\">{{finalLoad?.dsr?.territory || '--'}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col pr-0\">\r\n                                    <div class=\"gary-box \"><strong>Total Outlets:</strong> <span class=\"execution_order\">{{finalLoad?.dsr?.total_orders || '--'}}</span>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col\">\r\n                                    <div class=\"gary-box \" style=\"min-width: 200px;\"><strong>Total\r\n                                            Amount:</strong>\r\n                                        <span class=\"execution_amount\">Rs. {{finalLoad?.dsr?.total_net_amount || 0 |\r\n                                            number:'1.2-2'}}</span>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"col-12 PT-10\">\r\n                            <div *ngIf=\"!loading\" class=\"row\">\r\n                                <div class=\"col-8 PB-30 pr-0\">\r\n                                    <div class=\"header PT-10 PB-10 mb-15\">\r\n                                        <h2 class=\"w-100\">Delivery <span> Challan</span></h2>\r\n                                    </div>\r\n\r\n\r\n                                    <table *ngIf=\"finalLoad?.dsr?.contents\" datatable [dtOptions]=\"dtOPtions\" class=\"table table-hover dt-responsive nowrap\" id=\"example3\" style=\"width:100%\">\r\n                                        <thead>\r\n                                            <tr>\r\n                                                <th>SN</th>\r\n                                                <th>Product Name</th>\r\n                                                <th>Unit</th>\r\n                                                <th>Issue QTY.</th>\r\n                                                <th>Return QTY.</th>\r\n                                                <th>Sold QTY.</th>\r\n                                                <th>Inventory Return</th>\r\n                                            </tr>\r\n                                        </thead>\r\n                                        <tbody>\r\n                                            <tr *ngFor=\"let item of finalLoad?.dsr?.contents\">\r\n                                                <td>{{item.item_id}}</td>\r\n                                                <td>{{item.item_name}}</td>\r\n                                                <td>{{item.unit_name}}</td>\r\n                                                <td>{{item.total_dispatch_qty}}</td>\r\n                                                <td>{{item.total_return_qty}}</td>\r\n                                                <td>{{item.total_sold_qty}}</td>\r\n                                                <td>{{item.total_cancel_qty}}</td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n\r\n                                </div>\r\n\r\n                                <div class=\"col-4\">\r\n                                    <div class=\"cash-report\">\r\n\r\n                                        <div class=\"header\">\r\n                                            <h2 class=\"cash-title w-100 mb-15\">Cash <span>Report</span>\r\n                                                <button *ngIf=\"!isAdded\" class=\"btn btn-primary add-expense\" data-toggle=\"modal\" data-target=\"#expenseModal\">Add Expense</button>\r\n                                                <button *ngIf=\"isAdded\" class=\"btn btn-primary add-expense\" disabled>\r\n                                                    <div class=\"spinner-border text-light\" role=\"status\">\r\n                                                        <span class=\"sr-only\">Loading...</span>\r\n                                                    </div>\r\n                                                </button>\r\n                                            </h2>\r\n                                            <div class=\"report_value\"> <strong>Gross Amount:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_gross_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Trade Offer:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_trade_offer | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Trade Discount:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_trade_discount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Special\r\n                                                    Discount:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_special_discount | number:\r\n                                                    '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Extra Discount:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_booker_discount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Total Tax:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_tax_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\" style=\"color:#0038ba\"> <strong>Total Net Sale:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_net_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n\r\n                                            <div class=\"report_value\"> <strong>Expense:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_expense | number: '1.2-2'}}</span>\r\n                                            </div>\r\n\r\n                                            <div class=\"report_value\"> <strong>Return Amount:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_return_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n\r\n                                            <div class=\"report_value\"> <strong>Recovery:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_recovered_amount | number:\r\n                                                    '1.2-2'}}</span>\r\n                                            </div>\r\n\r\n                                            <div class=\"report_value\" style=\"color:#0038ba\"> <strong>Total Net Receivable:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_net_after_recovery | number:\r\n                                                    '1.2-2'}}</span>\r\n                                            </div>\r\n\r\n                                            <div class=\"report_value\"> <strong>Cheque:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_cheque_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n\r\n                                            <div class=\"report_value\"> <strong>Credit:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_credit_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <div class=\"report_value\"> <strong>Cash:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_cash_amount | number: '1.2-2'}}</span>\r\n                                            </div>\r\n                                            <!-- (keyup)=\"amountReceivedMax()\" -->\r\n                                            <div class=\"report_value\" style=\"height:40px; line-height:22px;\">\r\n                                                <strong>AMT. Received:</strong> <input type=\"number\" [(ngModel)]=\"amountReceived\" (keydown)=\"isNumber($event)\" class=\"form-control value_input amount_recieved_cashReport\" placeholder=\"0\">\r\n                                            </div>\r\n                                            <div class=\"report_value\" style=\"color:#0038ba\">\r\n                                                <strong>Balance AMT:</strong>\r\n                                                <span>{{finalLoad?.dsr?.total_amount_recieveable - amountReceived || 0 | number: '1.2-2'}}</span>\r\n                                            </div>\r\n\r\n\r\n                                            <div class=\"report_value\">\r\n                                                <div class=\"row\">\r\n                                                    <div *ngIf=\"!loading\" class=\"col-12 PB-10\"> <a class=\"btn btn-primary w-100\" (click)=\"generateDSR()\">Generate DSR</a> </div>\r\n                                                    <div *ngIf=\"!loading\" class=\"col-12\">\r\n                                                        <button [disabled]=\"+amountReceived === 0\" class=\"btn btn-primary w-100\" (click)=\"checkRecieveable()\">Mark\r\n                                                            Complete</button>\r\n                                                    </div>\r\n                                                    <div *ngIf=\"loading\" class=\"col-12\">\r\n                                                        <button type=\"submit\" class=\"btn btn-primary w-100 mr-2\" disabled>\r\n                                                            <div class=\"spinner-border text-light\" role=\"status\">\r\n                                                                <span class=\"sr-only\">Loading...</span>\r\n                                                            </div>\r\n                                                        </button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </div>\r\n\r\n                                    </div>\r\n                                </div>\r\n\r\n                            </div>\r\n                            <div class=\"col-12\" *ngIf=\"loading\">\r\n                                <app-loader-white></app-loader-white>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"col-md-12 text-center\">\r\n                        <div class=\"execFooter\">\r\n                            <button [disabled]=\"currentTab === 1 || isSpotSaleActive || loading\" type=\"submit\" (click)=\"changeTab(currentTab - 1)\" class=\"btn btn-primary m-0 mr-2\">Previous</button>\r\n                            <button type=\"submit\" [disabled]=\"isSpotSaleActive || loading || currentTab === 4\" (click)=\"changeTab(currentTab + 1)\" class=\"btn btn-primary m-0\">Next</button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <button data-toggle=\"modal\" data-target=\"#billsModalCounterSale\" id=\"billsPrintPaperModalTrigger\" class=\"btn btn-default mb-0\" hidden>Bill</button>\r\n</div>\r\n","import { environment } from 'src/environments/environment';\r\nimport { API_URLS } from 'src/app/core/constants/api-urls.constants';\r\nimport { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\n\r\nimport { OrdersService } from '../../services/orders.service';\r\nimport { Toaster, ToasterService } from '../../../../core/services/toaster.service';\r\nimport { DataService } from '../../../shared/services/data.service';\r\nimport { LocalStorageService } from 'src/app/core/services/storage.service';\r\nimport { freeProductsRules, schemes } from 'src/app/core/constants/schemes.constant';\r\nimport { CounterSale, PaymentDetail } from '../../models/counter-sale.model';\r\nimport { OrderItem } from '../../models/order-item.model';\r\nimport { GeneralDataService } from '../../../shared/services';\r\n\r\n@Component({\r\n  selector: 'app-counter-sale',\r\n  templateUrl: './counter-sale.component.html',\r\n  styleUrls: ['./counter-sale.component.css'],\r\n  encapsulation: ViewEncapsulation.None,\r\n})\r\n\r\nexport class CounterSaleComponent implements OnInit {\r\n\r\n  showProducts: boolean;\r\n  showQuantityModal: boolean;\r\n  isCredit: boolean;\r\n  loadingProducts: boolean;\r\n  isOrdering: boolean;\r\n  isAdded: boolean;\r\n  alreadyFullPayment: boolean;\r\n  isChequeAdded: boolean;\r\n  isCreditAdded: boolean;\r\n  alreadyAdded: boolean;\r\n\r\n  grossAmount: number;\r\n  tradeOffer: number;\r\n  tradeDiscount: number;\r\n  specialDiscount: number;\r\n  extraDiscount: number;\r\n  tax: number;\r\n  dueAmount: number;\r\n  selectedEmployee: number;\r\n  selectedRoute: number;\r\n  selectedRegion: number;\r\n  selectedSegment: number;\r\n  distributorId: number;\r\n  selectedProductQuantities: number;\r\n  chequeAmount: number;\r\n  creditAmount: number;\r\n  orderTotal: number;\r\n  totalAmountAfterScheme: number;\r\n  totalRetailPrice: number;\r\n\r\n  chequeNumber: string;\r\n  paymentDate: string;\r\n  paymentTypeCheque: string;\r\n  paymentTypeCredit: string;\r\n  bankName: string;\r\n  productSearchText: string;\r\n  notes: string;\r\n  addedPayment: string;\r\n  currentPayment: string;\r\n\r\n  selectedProduct: any = {};\r\n  merchantDiscount: any;\r\n  selectedRetailer: any;\r\n  cheque: PaymentDetail;\r\n  credit: PaymentDetail;\r\n  cash: PaymentDetail;\r\n  order: CounterSale;\r\n\r\n  schemeItemIds: Array<number> = [];\r\n  allProducts: Array<any> = [];\r\n  dispProducts: Array<any> = [];\r\n  specialDiscounts: Array<any> = [];\r\n  prefrences: Array<any> = [];\r\n  orderBookers: Array<any> = [];\r\n  routes: Array<any> = [];\r\n  retailers: Array<any> = [];\r\n  selectedProducts: Array<any> = [];\r\n  selectedProductsIds: Array<any> = [];\r\n  schemes: Array<any> = [];\r\n  subInventory: Array<any> = [];\r\n  discountSlabs: Array<any> = [];\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private generalDataService: GeneralDataService,\r\n    private storageService: LocalStorageService,\r\n    private ordersService: OrdersService,\r\n    private toastService: ToasterService,\r\n    private dataService: DataService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.grossAmount = 0.00;\r\n    this.tradeOffer = 0.00;\r\n    this.tradeDiscount = 0.00;\r\n    this.specialDiscount = 0.00;\r\n    this.extraDiscount = 0.00;\r\n    this.tax = 0.00;\r\n    this.dueAmount = 0.00;\r\n    this.totalAmountAfterScheme = 0.00;\r\n    this.notes = '';\r\n    this.paymentDate = new Date().toISOString().split('T')[0];\r\n    this.paymentTypeCheque = '';\r\n    this.paymentTypeCredit = '';\r\n    this.addedPayment = '';\r\n    this.currentPayment = '';\r\n    this.getSchemesData();\r\n    this.getOrderBookers();\r\n    this.getCounterSaleData();\r\n  }\r\n\r\n  getOrderBookers(): void {\r\n    this.distributorId = this.storageService.getItem('distributor').id;\r\n    this.generalDataService.getOrderBookers(this.distributorId).subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.orderBookers = res.data;\r\n      } else {\r\n        const toast: Toaster = { type: 'error', message: res.message, title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    }, error => {\r\n      if (error.status !== 1 && error.status !== 401) {\r\n        const toast: Toaster = { type: 'error', message: 'Cannot fetch order bookers. Please try again', title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    });\r\n  }\r\n\r\n  getCounterSaleData(): void {\r\n    this.loadingProducts = true;\r\n    this.ordersService.getCounterSaleData().subscribe((res: any) => {\r\n      this.loadingProducts = false;\r\n      if (res.status === 200) {\r\n        this.allProducts = res.data.inventory.map(pr => {\r\n          pr.net_amount = 0.00;\r\n          pr.isAdded = false;\r\n          return pr;\r\n        });\r\n        this.specialDiscounts = res.data.special_discount;\r\n        // this.prefrences = res.data.prefs;\r\n        this.dispProducts = JSON.parse(JSON.stringify(this.allProducts));\r\n        this.subInventory = res.data.sub_inventory;\r\n      } else {\r\n        const toast: Toaster = { type: 'error', message: res.message, title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    }, error => {\r\n      this.loadingProducts = false;\r\n      if (error.status !== 1 && error.status !== 401) {\r\n        const toast: Toaster = { type: 'error', message: 'Cannot fetch counter sale data. Please try again', title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    });\r\n  }\r\n\r\n  resetValues(): void {\r\n    this.selectedProducts = [];\r\n    this.selectedProductsIds = [];\r\n    this.grossAmount = 0.00;\r\n    this.tradeOffer = 0.00;\r\n    this.tradeDiscount = 0.00;\r\n    this.specialDiscount = 0.00;\r\n    this.extraDiscount = 0.00;\r\n    this.credit = null;\r\n    this.cheque = null;\r\n    this.cash = null;\r\n    this.tax = 0.00;\r\n    this.dueAmount = 0.00;\r\n    this.notes = '';\r\n    this.paymentDate = new Date().toISOString().split('T')[0];\r\n    this.paymentTypeCheque = '';\r\n    this.paymentTypeCredit = '';\r\n    this.addedPayment = '';\r\n    this.allProducts = this.allProducts.map(pr => { pr.isAdded = false; return pr; });\r\n    this.dispProducts = JSON.parse(JSON.stringify(this.allProducts));\r\n  }\r\n\r\n  getSchemesData(): void {\r\n    this.ordersService.getSchemes().subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.schemes = res.data;\r\n      } else {\r\n        const toast: Toaster = { type: 'error', message: res.message, title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    }, error => {\r\n      if (error.status !== 1 && error.status !== 401) {\r\n        const toast: Toaster = { type: 'error', message: 'Cannot fetch Trade Offers. Please try again', title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    });\r\n  }\r\n\r\n  getDiscountSlabs(): void {\r\n    this.selectedSegment = this.selectedRetailer.segment_id;\r\n    this.resetValues();\r\n    this.ordersService.getDiscountSlabs().subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.discountSlabs = res.data;\r\n        this.merchantDiscount = this.discountSlabs.find(x => x.region_id === this.selectedRegion &&\r\n          this.selectedSegment === x.segment_id && x.channel_id === this.selectedRetailer.type_id);\r\n      }\r\n    }, error => {\r\n      if (error.status !== 1 && error.status !== 401) {\r\n        const toast: Toaster = { type: 'error', message: 'Cannot fetch Trade Discount. Please try again', title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    });\r\n  }\r\n\r\n  focused(event: Event): void {\r\n    (event.target as HTMLElement).parentElement.classList.add('focused');\r\n  }\r\n\r\n  left(event: Event): void {\r\n    if (!(event.target as HTMLInputElement).value) {\r\n      (event.target as HTMLElement).parentElement.classList.remove('focused');\r\n    }\r\n  }\r\n\r\n  isFullyPaymentAdded(current: string): void {\r\n    if (current === 'Credit') {\r\n      this.paymentTypeCredit = '';\r\n    } else {\r\n      this.paymentTypeCheque = '';\r\n    }\r\n    if (this.selectedProducts.length === 0 && this.dueAmount === 0.00) {\r\n      const toast: Toaster = {\r\n        type: 'error',\r\n        message: `Please select products first!`,\r\n        title: `Payment cannot be added`\r\n      };\r\n      this.toastService.showToaster(toast);\r\n    } else {\r\n      if ((this.paymentTypeCheque === 'full' || this.paymentTypeCredit === 'full') && this.addedPayment !== current) {\r\n        const toast: Toaster = {\r\n          type: 'error',\r\n          message: `You already selected Full payment for ${this.addedPayment} please remove it if you want to add ${this.currentPayment}!`,\r\n          title: `Full Payment selected for ${this.addedPayment}`\r\n        };\r\n        this.toastService.showToaster(toast);\r\n      } else {\r\n        document.getElementById('open-modal-payment').click();\r\n        this.focusForPaymentValues();\r\n      }\r\n    }\r\n  }\r\n\r\n  focusForPaymentValues(): void {\r\n    if (this.isCredit && this.creditAmount) {\r\n      document.getElementById('Amount2').parentElement.classList.add('focused');\r\n    } else {\r\n      if (this.chequeAmount) { document.getElementById('Amount1').parentElement.classList.add('focused'); }\r\n      if (this.bankName) { document.getElementById('chequeBankName').parentElement.classList.add('focused'); }\r\n      if (this.chequeNumber) { document.getElementById('chequeNum').parentElement.classList.add('focused'); }\r\n    }\r\n  }\r\n\r\n  currentFullPayment(current: string, other: string): void {\r\n    if ((this.paymentTypeCheque === 'full' || this.paymentTypeCredit === 'full') && this.addedPayment !== current) {\r\n      const toast: Toaster = {\r\n        type: 'error',\r\n        message: `You already selected Full payment for ${this.addedPayment} please remove it if you want to add ${this.currentPayment}!`,\r\n        title: `Full Payment selected for ${this.addedPayment}`\r\n      };\r\n      this.toastService.showToaster(toast);\r\n    } else {\r\n      this.addedPayment = current;\r\n      this.currentPayment = other;\r\n    }\r\n  }\r\n\r\n  setPartial(current: string): void {\r\n    if (current === this.addedPayment) {\r\n      if (this.credit && current === 'Credit') {\r\n        this.cash.amount_received = this.cash.amount_received + this.credit.amount_received;\r\n        this.credit.amount_received = 0;\r\n      }\r\n      if (this.cheque && current === 'Cheque Payment') {\r\n        this.cash.amount_received = this.cash.amount_received + this.cheque.amount_received;\r\n        this.cheque.amount_received = 0;\r\n      }\r\n      this.addedPayment = '';\r\n      this.currentPayment = '';\r\n      this.alreadyFullPayment = false;\r\n    }\r\n  }\r\n\r\n  checkPaymentHasValues(): boolean {\r\n    if (this.isCredit) {\r\n      if (this.paymentTypeCredit === 'full') {\r\n        return this.paymentTypeCredit.length > 0;\r\n      } else {\r\n        return this.paymentTypeCredit.length > 0 && this.creditAmount &&\r\n          this.creditAmount > -1 && this.creditAmount <= this.cash.amount_received;\r\n      }\r\n    } else {\r\n      if (this.paymentTypeCheque === 'full') {\r\n        return this.paymentTypeCheque.length > 0 && this.bankName.length > 0 &&\r\n          this.chequeNumber.length > 0 && this.paymentDate.length > 0;\r\n      } else {\r\n        return this.paymentTypeCheque.length > 0 && this.chequeAmount &&\r\n          this.chequeAmount > -1 && this.chequeAmount <= this.cash.amount_received &&\r\n          this.bankName.length > 0 && this.chequeNumber.length > 0 && this.paymentDate.length > 0;\r\n      }\r\n    }\r\n  }\r\n\r\n  removeCheque(): void {\r\n    this.cheque = null;\r\n    this.isChequeAdded = false;\r\n    this.paymentTypeCheque = '';\r\n    this.calculatePayments();\r\n  }\r\n\r\n  removeCredit(): void {\r\n    this.credit = null;\r\n    this.isCreditAdded = false;\r\n    this.paymentTypeCredit = '';\r\n    this.calculatePayments();\r\n  }\r\n\r\n  makePayment(): void {\r\n    if (this.isCredit) {\r\n      this.credit = {\r\n        retailer_id: this.selectedRetailer.retailer_id,\r\n        distributor_id: this.distributorId,\r\n        type: 'Counter',\r\n        payment_mode: 'Credit',\r\n        payment_detail: '',\r\n        dispatched_bill_amount: 0,\r\n        recovery: 0,\r\n        amount_received: this.paymentTypeCredit === 'full' ? JSON.parse(JSON.stringify(this.dueAmount)) :\r\n          JSON.parse(JSON.stringify(this.creditAmount))\r\n      };\r\n      this.isCreditAdded = true;\r\n    }\r\n    if (!this.isCredit) {\r\n      this.cheque = {\r\n        retailer_id: this.selectedRetailer.retailer_id,\r\n        distributor_id: this.distributorId,\r\n        type: 'Counter',\r\n        payment_mode: 'Cheque',\r\n        payment_detail: {\r\n          cheque_amount: this.paymentTypeCheque === 'full' ? JSON.parse(JSON.stringify(this.dueAmount)) :\r\n            JSON.parse(JSON.stringify(this.chequeAmount)),\r\n          bank_name: JSON.parse(JSON.stringify(this.bankName)),\r\n          cheque_number: JSON.parse(JSON.stringify(this.chequeNumber)),\r\n          cheque_date: JSON.parse(JSON.stringify(this.paymentDate))\r\n        },\r\n        dispatched_bill_amount: 0,\r\n        recovery: 0,\r\n        amount_received: this.paymentTypeCheque === 'full' ? JSON.parse(JSON.stringify(this.dueAmount)) :\r\n          JSON.parse(JSON.stringify(this.chequeAmount))\r\n      };\r\n      this.isChequeAdded = true;\r\n    }\r\n    this.calculatePayments();\r\n  }\r\n\r\n  addPaymentMethod(): void {\r\n    this.isAdded = true;\r\n    const isPaymentAdded = this.checkPaymentHasValues();\r\n    if (isPaymentAdded) {\r\n      this.isAdded = false;\r\n      this.makePayment();\r\n      document.getElementById('open-modal-payment').click();\r\n    }\r\n  }\r\n\r\n  paymentCancelled(): void {\r\n    this.isAdded = false;\r\n    this.resetPaymentValues();\r\n    this.paymentTypeCredit = '';\r\n    this.paymentTypeCheque = '';\r\n  }\r\n\r\n  resetPaymentValues(): void {\r\n    this.chequeAmount = null;\r\n    this.paymentDate = new Date().toISOString().split('T')[0];\r\n    this.bankName = '';\r\n    this.chequeNumber = null;\r\n    this.creditAmount = null;\r\n  }\r\n\r\n  getRoutes(): void {\r\n    const employee = this.orderBookers.find(x => x.employee_id === this.selectedEmployee);\r\n    this.selectedRegion = employee.region_id;\r\n    this.selectedRoute = null;\r\n    this.selectedRetailer = null;\r\n    this.resetValues();\r\n    this.generalDataService.getOrderBookerRoutes(this.selectedEmployee).subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.routes = res.data;\r\n      } else {\r\n        const toast: Toaster = { type: 'error', message: res.message, title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    }, error => {\r\n      if (error.status !== 1 && error.status !== 401) {\r\n        const toast: Toaster = { type: 'error', message: 'Cannot fetch order booker routes. Please try again', title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    });\r\n  }\r\n\r\n  getRetailerByRoute(): void {\r\n    this.selectedRetailer = null;\r\n    this.resetValues();\r\n    this.generalDataService.getRetailersByRoute(this.selectedRoute).subscribe(res => {\r\n      if (res.status === 200) {\r\n        this.retailers = res.data;\r\n      } else {\r\n        const toast: Toaster = { type: 'error', message: res.message, title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    }, error => {\r\n      if (error.status !== 1 && error.status !== 401) {\r\n        const toast: Toaster = { type: 'error', message: 'Cannot fetch retailers. Please try again', title: 'Error:' };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    });\r\n  }\r\n\r\n  openQuantityModal(product: any): void {\r\n    this.showQuantityModal = true;\r\n    if (product.schemes?.length) {\r\n      product.schemes = product.schemes.map(scheme => {\r\n        switch (scheme.scheme_type) {\r\n          case 'free_product':\r\n            scheme.name = schemes.free_products;\r\n            scheme.rule_name = freeProductsRules[scheme.scheme_rule];\r\n            break;\r\n          case 'dotp':\r\n            scheme.name = schemes.dotp;\r\n            break;\r\n          default:\r\n            scheme.name = schemes.gift;\r\n            break;\r\n        }\r\n        return scheme;\r\n      });\r\n    }\r\n    this.selectedProduct = JSON.parse(JSON.stringify(product));\r\n    this.selectedProduct.selectedScheme = null;\r\n    // this.selectedProduct.units = this.prefrences.filter(x => x.item_id === product.item_id);\r\n  }\r\n\r\n  showProductsList(event: Event): void {\r\n    event.stopPropagation();\r\n    if (this.selectedRetailer) {\r\n      this.allProducts = this.allProducts.map(product => {\r\n        product.schemes = this.dataService.getSchemes(product.item_id,\r\n          product.unit_id, product.pref_id, this.schemes, this.selectedRetailer.type_id, this.selectedRetailer.id);\r\n        return product;\r\n      });\r\n      this.dispProducts = JSON.parse(JSON.stringify(this.allProducts));\r\n      this.showProducts = true;\r\n      document.body.classList.add('no-scroll');\r\n      document.getElementsByClassName('overlay-blure')[0].classList.add('d-block');\r\n      document.getElementById('counter-sale').classList.add('blur-div');\r\n    } else {\r\n      this.toastService.showToaster({\r\n        type: 'error',\r\n        message: 'Please select Retailer first!',\r\n        title: 'Fill required fields:'\r\n      });\r\n    }\r\n  }\r\n\r\n  // setPrefrence(prefId: number, product: any): void {\r\n  //     this.alreadyAdded = false;\r\n  //     const prefrence = this.prefrences.find(x => x.pref_id === +prefId);\r\n  //     product.unit_id = prefrence.unit_id;\r\n  //     product.item_trade_price = prefrence.item_trade_price;\r\n  //     product.unit_name = prefrence.unit_name;\r\n  //     product.retail_price = prefrence.item_retail_price;\r\n  //     if (product.stockQty) {\r\n  //         if (this.selectedProducts.find(x => x.item_id === product.item_id && x.pref_id === product.pref_id)) {\r\n  //             this.grossAmount = this.grossAmount - product.original_amount;\r\n  //         }\r\n  //         this.calculateProductDiscounts(product);\r\n  //         this.calculateProductPrice(product);\r\n  //         this.calculateTotalBill();\r\n  //         this.applySlabOnAllProducts();\r\n  //     }\r\n  // }\r\n\r\n  isNumber(event: KeyboardEvent, type: string = 'charges'): boolean {\r\n    return this.dataService.isNumber(event, type);\r\n  }\r\n\r\n  setQuantity(product: any): void {\r\n    if (+product.stockQty > 1000) {\r\n      product.stockQty = 0;\r\n    }\r\n    if (product.item_trade_price) {\r\n      if (this.selectedProducts.find(x => x.item_id === product.item_id)) {\r\n        this.grossAmount = this.grossAmount - product.original_amount || 0;\r\n      }\r\n      product.parent_qty_sold = this.dataService.getParentQty(+product.stockQty, product.quantity);\r\n      this.calculateProductPrice(product);\r\n      this.calculateProductDiscounts(product);\r\n      this.calculateTotalBill();\r\n      this.applySlabOnAllProducts();\r\n    }\r\n  }\r\n\r\n  calculateProductPrice(product): void {\r\n    product.original_amount = this.dataService.calculateUnitPrice(+product.stockQty,\r\n      product.item_trade_price);\r\n    product.gross_amount = product.unit_price_after_scheme_discount || product.item_trade_price * +product.stockQty;\r\n  }\r\n\r\n  applySlabOnAllProducts(): void {\r\n    if (this.merchantDiscount && this.merchantDiscount.discount_filter === 'slab' && this.grossAmount) {\r\n      this.selectedProducts = this.selectedProducts.map(product => {\r\n        product = this.dataService.applySlabForTotal(product, this.merchantDiscount, this.grossAmount);\r\n        product = this.calculateProductSpecialDiscount(product);\r\n        if (product.extra_discount) {\r\n          product.price = product.unit_price_after_special_discount - +product.extra_discount;\r\n        }\r\n        this.calculateNetAmountOfProduct(product);\r\n        return product;\r\n      });\r\n      this.calculateTotalBill();\r\n    }\r\n  }\r\n\r\n  addProductToOrder(): void {\r\n    if (this.selectedProduct.selectedScheme && !this.selectedProduct.selectedScheme.applied) {\r\n      this.dataService.schemeCannotApplied();\r\n      return;\r\n    }\r\n    this.isAdded = true;\r\n    if (+this.selectedProduct.stockQty > 0 && this.selectedProduct.pref_id) {\r\n      const pr = this.selectedProducts.find(x => x.item_id === this.selectedProduct.item_id &&\r\n        x.pref_id === this.selectedProduct.pref_id);\r\n      if (pr) {\r\n        this.alreadyAdded = true;\r\n      } else {\r\n        this.alreadyAdded = false;\r\n        this.showQuantityModal = false;\r\n        this.allProducts = this.allProducts.map(prod => {\r\n          if (prod.item_id === this.selectedProduct.item_id) { prod.isAdded = true; }\r\n          return prod;\r\n        });\r\n        this.dispProducts = this.dispProducts.map(prod => {\r\n          if (prod.item_id === this.selectedProduct.item_id) { prod.isAdded = true; }\r\n          return prod;\r\n        });\r\n        this.selectedProduct.isAdded = true;\r\n        this.selectedProducts.push(this.selectedProduct);\r\n        if (!this.selectedProductsIds.includes(this.selectedProduct.item_id)) {\r\n          this.selectedProductsIds.push(this.selectedProduct.item_id);\r\n        }\r\n        this.calculateTotalBill();\r\n        this.applySlabOnAllProducts();\r\n        document.getElementById('pl-qty-close').click();\r\n        this.isAdded = false;\r\n      }\r\n    }\r\n  }\r\n\r\n  removeProductFromOrder(product: any): void {\r\n    if (this.isCreditAdded || this.isChequeAdded) {\r\n      this.toastService.showToaster({\r\n        title: 'Payment Error:',\r\n        message: 'Cannot edit or remove current products if payment method added!',\r\n        type: 'error'\r\n      });\r\n      return;\r\n    }\r\n    this.selectedProducts = this.selectedProducts.filter(x => {\r\n      if (x.item_id === product.item_id && x.unit_name !== product.unit_name) { return x; }\r\n      else if (x.item_id !== product.item_id) { return x; }\r\n    });\r\n    this.allProducts = this.allProducts.map(prod => {\r\n      if (prod.item_id === product.item_id) { prod.isAdded = false; }\r\n      return prod;\r\n    });\r\n    this.dispProducts = this.dispProducts.map(prod => {\r\n      if (prod.item_id === product.item_id) { prod.isAdded = false; }\r\n      return prod;\r\n    });\r\n    // if (!this.selectedProducts.find(x => x.item_id !== product.item_id)) {\r\n    this.selectedProductsIds = this.selectedProductsIds.filter(x => x !== product.item_id);\r\n    // }\r\n    this.calculateTotalBill();\r\n    this.applySlabOnAllProducts();\r\n  }\r\n\r\n  calculateProductDiscounts(product: any, scheme?: any): void {\r\n    // Trade Offer\r\n    if (scheme) {\r\n      product.selectedScheme = scheme;\r\n    }\r\n    if (product.selectedScheme) {\r\n      product = this.applyScheme(product);\r\n    } else {\r\n      product.scheme_discount = 0;\r\n      product.price = JSON.parse(JSON.stringify(product.item_trade_price));\r\n      product.unit_price_after_scheme_discount = JSON.parse(JSON.stringify(product.item_trade_price));\r\n    }\r\n\r\n    // Trade Discount\r\n    if (this.merchantDiscount) {\r\n      product = this.dataService.applyMerchantDiscountForSingleProduct(this.merchantDiscount, product, this.grossAmount);\r\n    } else {\r\n      product.trade_discount = 0;\r\n      product.trade_discount_pkr = 0;\r\n      product.unit_price_after_merchant_discount = JSON.parse(JSON.stringify(product.price));\r\n    }\r\n\r\n    // Special Discount\r\n    product = this.calculateProductSpecialDiscount(product);\r\n\r\n    // Extra Discount => Booker Discount\r\n    product.extra_discount = 0;\r\n    product.extra_discount_pkr = 0;\r\n\r\n    this.calculateNetAmountOfProduct(product);\r\n  }\r\n\r\n  calculateProductSpecialDiscount(product: any): any {\r\n    return this.dataService.getSpecialDiscounts(this.selectedSegment,\r\n      this.selectedRegion, product, this.specialDiscounts);\r\n  }\r\n\r\n  calculateExtraDiscount(product: any): void {\r\n    if (+product.extra_discount < product.unit_price_after_special_discount) {\r\n      product.price = product.unit_price_after_special_discount - +product.extra_discount;\r\n      product.extra_discount_pkr = +product.stockQty * +product.extra_discount;\r\n    } else {\r\n      product.extra_discount = 0;\r\n      product.extra_discount_pkr = 0;\r\n      product.price = product.unit_price_after_special_discount;\r\n      const toast: Toaster = { type: 'error', message: 'Discount should not be greater than item price!', title: 'Error:' };\r\n      this.toastService.showToaster(toast);\r\n    }\r\n    this.calculateNetAmountOfProduct(product);\r\n    this.calculateTotalBill();\r\n  }\r\n\r\n  calculateProductTax(product: any): void {\r\n    if (product.tax_class_amount) {\r\n      product.tax_amount_value = (product.tax_class_amount / 100) * product.item_retail_price;\r\n      product.tax_amount_pkr = product.tax_amount_value * product.stockQty;\r\n      product.net_amount = product.net_amount + product.tax_amount_pkr;\r\n    } else {\r\n      product.tax_amount_value = 0;\r\n      product.tax_amount_pkr = 0;\r\n    }\r\n  }\r\n\r\n  calculateNetAmountOfProduct(product: any): any {\r\n    product.net_amount = this.dataService.calculateUnitPrice(product.price, +product.stockQty);\r\n    this.calculateProductTax(product);\r\n  }\r\n\r\n  calculateTotalBill(): void {\r\n    if (this.selectedProducts.length) {\r\n      this.selectedProductQuantities = this.selectedProducts.map(product => +product.parent_qty_sold).reduce((a, b) => a + b);\r\n    }\r\n    // Gross Amount\r\n    let prices = this.selectedProducts.map(product => product.original_amount);\r\n    this.grossAmount = this.dataService.calculateItemsBill(prices);\r\n    // Retail Price\r\n    prices = this.selectedProducts.map(product => product.stockQty * product.item_retail_price);\r\n    this.totalRetailPrice = this.dataService.calculateItemsBill(prices);\r\n    // Gross Amount\r\n    prices = this.selectedProducts.map(product => product.gross_amount);\r\n    this.totalAmountAfterScheme = this.dataService.calculateItemsBill(prices);\r\n    // Net Amount\r\n    prices = this.selectedProducts.map(product => product.net_amount);\r\n    this.dueAmount = this.dataService.calculateItemsBill(prices);\r\n    // Order Original\r\n    prices = this.selectedProducts.map(product => product.original_amount);\r\n    this.orderTotal = JSON.parse(JSON.stringify(this.dueAmount));\r\n    // Scheme Discount\r\n    let discount = this.selectedProducts.map(product => +product.stockQty * product.scheme_discount);\r\n    this.tradeOffer = this.dataService.calculateItemsBill(discount);\r\n    // Trade Discount\r\n    discount = this.selectedProducts.map(product => +product.stockQty * product.trade_discount_pkr);\r\n    this.tradeDiscount = this.dataService.calculateItemsBill(discount);\r\n    // Special Discount\r\n    discount = this.selectedProducts.map(product => +product.stockQty * product.special_discount_pkr);\r\n    this.specialDiscount = this.dataService.calculateItemsBill(discount);\r\n    // Extra Discount\r\n    discount = this.selectedProducts.map(product => +product.extra_discount_pkr);\r\n    this.extraDiscount = this.dataService.calculateItemsBill(discount);\r\n    // Tax\r\n    const taxes = this.selectedProducts.map(product => product.tax_amount_pkr);\r\n    this.tax = this.dataService.calculateItemsBill(taxes);\r\n\r\n    this.calculatePayments();\r\n  }\r\n\r\n  calculatePayments(): void {\r\n    this.cash = {\r\n      retailer_id: this.selectedRetailer.retailer_id,\r\n      distributor_id: this.distributorId,\r\n      type: 'Counter',\r\n      payment_mode: 'Cash',\r\n      payment_detail: '',\r\n      dispatched_bill_amount: 0,\r\n      recovery: 0,\r\n      amount_received: this.dueAmount\r\n    };\r\n    if (this.cheque) {\r\n      this.cash.amount_received = this.cash.amount_received - this.cheque.amount_received;\r\n    }\r\n    if (this.credit) {\r\n      this.cash.amount_received = this.cash.amount_received - this.credit.amount_received;\r\n    }\r\n    this.cash.amount_received = +this.cash.amount_received.toFixed(2);\r\n  }\r\n\r\n  applyScheme(product: any): any {\r\n    switch (product.selectedScheme.scheme_type) {\r\n      case 'free_product':\r\n        product = this.applyFreeProductScheme(product);\r\n        break;\r\n      case 'dotp':\r\n        product = this.applyDOTPScheme(product);\r\n        break;\r\n      default:\r\n        product = this.applyGiftScheme(product);\r\n        break;\r\n    }\r\n    return product;\r\n  }\r\n\r\n  applyFreeProductScheme(product: any): any {\r\n    product = this.dataService.applyFreeProductScheme(product);\r\n    return product;\r\n  }\r\n\r\n  applyDOTPScheme(product: any): any {\r\n    return this.dataService.getSDForDOTP(product);\r\n  }\r\n\r\n  applyGiftScheme(product: any): any {\r\n    return this.dataService.getSDForGift(product);\r\n  }\r\n\r\n  closeQuantityModal(event: Event): void {\r\n    if (this.showQuantityModal && !(event.target as HTMLElement).classList.contains('dont-close-quantity')) {\r\n      this.showQuantityModal = false;\r\n      this.selectedProduct = JSON.parse(JSON.stringify({}));\r\n    }\r\n  }\r\n\r\n  searchProduct(): void {\r\n    if (this.productSearchText) {\r\n      this.dispProducts = this.allProducts.filter(prod =>\r\n        prod.item_name.toLowerCase().includes(this.productSearchText.toLowerCase()));\r\n    } else {\r\n      this.dispProducts = this.allProducts.filter(prod =>\r\n        prod.item_name.toLowerCase().includes(this.productSearchText.toLowerCase()));\r\n    }\r\n  }\r\n\r\n  isAlreadyAdded(itemId: number): boolean {\r\n    return this.selectedProductsIds.includes(itemId);\r\n  }\r\n\r\n  clickedOutSide(event: Event): void {\r\n    if (this.showProducts && !this.showQuantityModal && !(event.target as HTMLElement).classList.contains('dont-close-products')) {\r\n      this.closeProductsList();\r\n    }\r\n  }\r\n\r\n  closeProductsList(): void {\r\n    this.showProducts = false;\r\n    document.body.classList.remove('no-scroll');\r\n    document.getElementsByClassName('overlay-blure')[0].classList.remove('d-block');\r\n    document.getElementById('counter-sale').classList.remove('blur-div');\r\n  }\r\n\r\n  isDataValid(): boolean {\r\n    if (!this.selectedProductsIds.length || !this.selectedEmployee && !this.selectedRoute || !this.selectedRetailer) {\r\n      return false;\r\n    } else {\r\n      return true;\r\n    }\r\n  }\r\n\r\n  setOrderFields(): void {\r\n    if (!this.isDataValid()) {\r\n      const toast: Toaster = {\r\n        type: 'error',\r\n        message: 'Please select Employee, Route, Retailer and Products to place the order!',\r\n        title: 'Error:'\r\n      };\r\n      this.toastService.showToaster(toast);\r\n    } else {\r\n      const employee = this.orderBookers.find(x => x.employee_id === this.selectedEmployee);\r\n      const newOrder: CounterSale = {\r\n        area_id: employee.area_id,\r\n        assigned_route_id: this.selectedRoute,\r\n        booking_territory: employee.territory_id,\r\n        order_type: 'counter',\r\n        counter_sale: 1,\r\n        spot_sale: 0,\r\n        sales_man_id: 0,\r\n        within_radius: 0,\r\n        booking_region: this.selectedRegion,\r\n        invoice_number: '',\r\n        invoice_date: new Date().toISOString(),\r\n        remarks: this.notes,\r\n        retailer_id: this.selectedRetailer.retailer_id,\r\n        distributor_id: this.distributorId,\r\n        gross_sale_amount: this.grossAmount,\r\n        total_amount_after_tax: this.dueAmount,\r\n        total_discount: this.specialDiscount + this.tradeDiscount + this.tradeOffer + this.extraDiscount,\r\n        total_tax_amount: this.tax,\r\n        booked_order_value: 0,\r\n        booked_total_qty: 0,\r\n        booked_total_skus: 0,\r\n        booking_area: employee.area_id,\r\n        booking_locality_id: this.selectedRetailer.locality_id,\r\n        booking_neighbourhood_id: this.selectedRetailer.neighbourhood_id,\r\n        booking_zone: employee.area_id,\r\n        employee_id: employee.employee_id,\r\n        freight_charges: 0,\r\n        order_total: this.orderTotal,\r\n        region_id: this.selectedRegion,\r\n        status: 'Completed',\r\n        status_code: 0,\r\n        territory_id: employee.territory_id,\r\n        total_retail_price: this.totalRetailPrice,\r\n        ttl_products_sold: this.selectedProductsIds.length,\r\n        ttl_qty_sold: this.selectedProductQuantities,\r\n        payment: {\r\n          total_payment: this.dueAmount,\r\n          detail: []\r\n        },\r\n        items: []\r\n      };\r\n      this.order = newOrder;\r\n      if (this.cheque) {\r\n        this.order.payment.detail.push(this.cheque);\r\n      }\r\n      if (this.credit) {\r\n        this.order.payment.detail.push(this.credit);\r\n      }\r\n      this.order.payment.detail.push(this.cash);\r\n      this.setOrderItems(employee);\r\n    }\r\n  }\r\n\r\n  setOrderItems(selectedEmployee: any): void {\r\n    this.selectedProducts.forEach((product, index) => {\r\n      const productTotalDiscount = (+product.stockQty * product.scheme_discount) +\r\n        (+product.stockQty * product.trade_discount_pkr) + (+product.stockQty * product.special_discount) +\r\n        product.extra_discount_pkr;\r\n      const item: OrderItem = {\r\n        item_id: product.item_id,\r\n        pref_id: product.pref_id,\r\n        unit_id: product.unit_id,\r\n        item_name: product.item_name,\r\n        unit_name: product.unit_name,\r\n        item_quantity_booker: 0,\r\n        quantity_returned: 0,\r\n        area_id: selectedEmployee.area_id,\r\n        division_id: selectedEmployee.division_id,\r\n        assigned_route_id: this.selectedRoute,\r\n        booked_total_qty: 0,\r\n        quantity: +product.stockQty,\r\n        gross_sale_amount: product.original_amount,\r\n        booked_order_value: 0,\r\n        brand_id: product.brand_id,\r\n        campaign_id: product.selectedScheme?.id || 0,\r\n        dispatch_status: 0,\r\n        distributor_id: this.distributorId,\r\n        final_price: product.net_amount,\r\n        gift_value: product.gift_value || 0,\r\n        item_quantity_updated: 0,\r\n        item_status: product.is_active,\r\n        order_id: 0,\r\n        original_price: product.item_trade_price,\r\n        scheme_id: product.selectedScheme?.id || 0,\r\n        scheme_discount: product.scheme_discount,\r\n        unit_price_after_scheme_discount: product.unit_price_after_scheme_discount,\r\n        merchant_discount_pkr: product.trade_discount_pkr,\r\n        merchant_discount: product.trade_discount,\r\n        unit_price_after_merchant_discount: product.unit_price_after_merchant_discount,\r\n        special_discount: product.special_discount,\r\n        unit_price_after_special_discount: product.unit_price_after_special_discount,\r\n        booker_discount: product.extra_discount,\r\n        unit_price_after_individual_discount: product.unit_price_after_individual_discount || product.price,\r\n        scheme_min_quantity: product.selectedScheme?.min_qty || 0,\r\n        scheme_quantity_free: product.selectedScheme?.quantity_free || 0,\r\n        scheme_rule: product.selectedScheme?.rule_name || '',\r\n        parent_pref_id: product.child,\r\n        parent_unit_id: product.parent_unit_id,\r\n        parent_brand_id: product.brand_id,\r\n        parent_tp: product.parent_trade_price,\r\n        reasoning: '',\r\n        region_id: this.selectedRegion,\r\n        territory_id: selectedEmployee.territory_id,\r\n        parent_qty_sold: product.parent_qty_sold,\r\n        parent_value_sold: product.net_amount,\r\n        tax_class_id: product.tax_class_id,\r\n        tax_in_percentage: product.tax_class_amount,\r\n        tax_in_value: product.tax_amount_value,\r\n        total_amount_after_tax: product.net_amount,\r\n        total_discount: productTotalDiscount,\r\n        total_retail_price: product.stockQty * product.item_retail_price,\r\n        total_tax_amount: product.tax_amount_pkr || 0,\r\n      };\r\n      this.order.items.push(item);\r\n      if (index === this.selectedProducts.length - 1) {\r\n        this.placeOrder();\r\n      }\r\n    });\r\n  }\r\n\r\n  openBillsModal() {\r\n    (document.getElementById(\"billsPrintPaperModalTrigger\") as HTMLButtonElement).click();\r\n  }\r\n\r\n  getBills(size: string = 'A4'): void {\r\n    document.getElementById('close-bills').click();\r\n    const billsUrl = `${environment.apiDomain}${API_URLS.BILLS}?type=bill&order_booker=${this.order.employee_id}&date=${this.order.invoice_date.substring(0, 10)}&size=${size}&orderID=${this.order['id']}`;\r\n    window.open(billsUrl, \"_blank\");\r\n  }\r\n\r\n  placeOrder(): void {\r\n    this.isOrdering = true;\r\n    this.ordersService.counterSaleOrder(this.order).subscribe(res => {\r\n      this.isOrdering = false;\r\n      if (res.status === 200) {\r\n        this.order['id'] = res.data.id\r\n        this.openBillsModal();\r\n\r\n        const toast: Toaster = {\r\n          type: 'success',\r\n          message: 'Order Placed successfully!',\r\n          title: 'Order Placed:'\r\n        };\r\n        this.toastService.showToaster(toast);\r\n        this.selectedEmployee = null;\r\n        this.selectedRoute = null;\r\n        this.selectedRetailer = null;\r\n        this.credit = null;\r\n        this.cheque = null;\r\n        this.cash = null;\r\n        this.retailers = [];\r\n        this.routes = [];\r\n        this.isChequeAdded = false;\r\n        this.isCreditAdded = false;\r\n        this.resetValues();\r\n        this.paymentCancelled();\r\n      }\r\n    }, error => {\r\n      this.isOrdering = false;\r\n      if (error.status !== 1 && error.status !== 401) {\r\n        const toast: Toaster = {\r\n          type: 'error',\r\n          message: 'Order cannot be placed at the moment! Please try again',\r\n          title: 'Error:'\r\n        };\r\n        this.toastService.showToaster(toast);\r\n      }\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"modal fade\" id=\"billsModalCounterSale\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"billsModalCounterSaleLabel\"\r\n  aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n    <div class=\"modal-content top_border\">\r\n      <div class=\"modal-header\">\r\n        <h5 class=\"modal-title\" id=\"billsModalCounterSaleLabel\">Print bill for this order<span></span></h5>\r\n        <button type=\"button\" id=\"close-bills\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n          <span aria-hidden=\"true\">&times;</span>\r\n        </button>\r\n      </div>\r\n      <div class=\"modal-body\">\r\n        <!-- <div class=\"row\">\r\n          <div class=\"col-auto\" style=\"padding-top:6px;font-size:14px\">Select Date</div>\r\n          <div class=\"col\"> <input type=\"date\" id=\"invoice-date\" [(ngModel)]=\"invoiceDate\"\r\n              class=\"form-control select-date\" name=\"invoice-date\" placeholder=\"\">\r\n          </div>\r\n          <div class=\"col-12\">\r\n            <hr>\r\n          </div>\r\n        </div> -->\r\n        <div class=\"row\">\r\n          <div class=\"col-12\">\r\n            <h3 class=\"heading3\">Select paper size for print</h3>\r\n          </div>\r\n        </div>\r\n        <div class=\"row print-icon-div pb-0\">\r\n          <div class=\"col-6 pl-0\">\r\n            <a (click)=\"getBills('A4')\"><img class=\"print-icon\" src=\"assets/images/a4.svg\" alt=\"\">\r\n              <strong>A4 Portrait\r\n                Paper</strong></a>\r\n          </div>\r\n          <div class=\"col-6 pr-0\">\r\n            <a (click)=\"getBills('A5')\"><img class=\"print-icon\" src=\"assets/images/a5.svg\" alt=\"\">\r\n              <strong>A5 Landscape\r\n                Paper</strong></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Unit, Quantity and Trade Offer of Products -->\r\n<div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content  top_border\">\r\n            <div class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Product <span> Detail</span></h5>\r\n                <button type=\"button\" class=\"close dont-close-products\" data-dismiss=\"modal\"\r\n                    (click)=\"closeQuantityModal($event)\" aria-label=\"Close\"> <span class=\"dont-close-products\" aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n            <div *ngIf=\"selectedProduct.hasOwnProperty('quantity')\" class=\"modal-body AddDetailPR\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-md-4 pt-7 mb-15\">Add Quantity:</div>\r\n                    <div class=\"col-md-8 mb-15\">\r\n                        <input type=\"text\" class=\"form-control\" placeholder=\"\" (keyup)=\"setQuantity(selectedProduct)\"\r\n                            required (keydown)=\"isNumber($event, 'quantity')\" [(ngModel)]=\"selectedProduct.stockQty\"\r\n                            #selectedQty=\"ngModel\" style=\"font-size:13px\">\r\n                        <span *ngIf=\"selectedQty.errors?.required && isAdded\" class=\"input-error\">\r\n                            Please add Quantity!\r\n                        </span>\r\n                        <span *ngIf=\"+selectedProduct.stockQty === 0 && isAdded && !selectedQty.errors?.required\"\r\n                            class=\"input-error\">\r\n                            Quantity should be greater than 0!\r\n                        </span>\r\n                    </div>\r\n                    <div class=\"col-md-4 pt-7 mb-15\">Unit:</div>\r\n                    <div class=\"col-md-8 mb-15\">\r\n                        {{selectedProduct.unit_name}}\r\n                        <!-- <select class=\"custom-select custom-select-sm\" [(ngModel)]=\"selectedProduct.pref_id\"\r\n                            name=\"prefrences\" (change)=\"setPrefrence($event.target.value, selectedProduct)\"\r\n                            #selectedPrefs=\"ngModel\">\r\n                            <option [value]=\"null\" disbaled>Select Unit</option>\r\n                            <option *ngFor=\"let unit of selectedProduct.units\" [value]=\"unit.pref_id\">{{unit.unit_name}}\r\n                            </option>\r\n                        </select> -->\r\n                        <!-- <span *ngIf=\"selectedProduct.pref_id === null && isAdded\" class=\"input-error\">\r\n                            Please select a Unit!\r\n                        </span>\r\n                        <span *ngIf=\"alreadyAdded && selectedProduct.pref_id !== null\" class=\"input-error\">\r\n                            Selected Unit already added please change unit or update the quantity in the list!\r\n                        </span> -->\r\n                    </div>\r\n                    <div class=\"col-md-4\" *ngIf=\"selectedProduct.schemes.length\" style=\"padding-top: 2px\">Trade Offer:\r\n                    </div>\r\n                    <div class=\"col-md-8\">\r\n                        <div *ngFor=\"let scheme of selectedProduct.schemes;let i=index\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input [(ngModel)]=\"selectedProduct.selectedScheme\"\r\n                                    (click)=\"selectedProduct.pref_id && selectedProduct.stockQty && calculateProductDiscounts(selectedProduct, scheme)\"\r\n                                    class=\"custom-control-input\" type=\"radio\" name=\"AssignCatalogue\"\r\n                                    id=\"byTerritory-{{i}}\" [value]=\"scheme\">\r\n                                <label class=\"custom-control-label font13\" for=\"byTerritory-{{i}}\"\r\n                                    style=\"line-height:25px;\">{{scheme.title}}</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div class=\"modal-footer border-0\" style=\"background-color: #f6f6f6\">\r\n                <button type=\"submit\" class=\"btn btn-primary dont-close-products\"\r\n                    (click)=\"addProductToOrder()\">Confirm</button>\r\n                <button type=\"button\" id=\"pl-qty-close\" class=\"btn btn-cancel dont-close-products\" data-dismiss=\"modal\"\r\n                    (click)=\"closeQuantityModal($event)\" aria-label=\"Close\">Cancel</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Credit and Cheque info -->\r\n<div class=\"modal fade\" id=\"exampleModal2\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content top_border\">\r\n            <div *ngIf=\"!isCredit\" class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add <span> Cheque Information</span></h5>\r\n                <button type=\"button\" (click)=\"paymentCancelled()\" class=\"close\" data-dismiss=\"modal\"\r\n                    aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n\r\n            <div *ngIf=\"!isCredit\" class=\"col-12\">\r\n                <div id=\"floating-label\" class=\"form-wrap p-0\">\r\n                    <div class=\"row pt-10\">\r\n                        <div class=\"col-4\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input class=\"custom-control-input\" type=\"radio\" [(ngModel)]=\"paymentTypeCheque\"\r\n                                    (click)=\"chequeAmount=null;currentFullPayment('Cheque Payment', 'Credit')\" name=\"payment\"\r\n                                    id=\"payment1\" value='full'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height:25px\"\r\n                                    for=\"payment1\">Full Amount</label>\r\n                            </div>\r\n                        </div>\r\n                        <div class=\"col-4\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input (click)=\"setPartial('Cheque Payment')\" class=\"custom-control-input\" type=\"radio\"\r\n                                    [(ngModel)]=\"paymentTypeCheque\" name=\"payment\" id=\"payment2\" value='partial'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height:25px\"\r\n                                    for=\"payment2\">Partial Amount</label>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div *ngIf=\"paymentTypeCheque === '' && isAdded\" class=\"col-12 input-error\">\r\n                        Please select a payment method!\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-md-6 PT-10\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"control-label mb-10\">Cheque Number*</label>\r\n                                <input type=\"text\" id=\"chequeNum\" name=\"cheque_num\" (focus)=\"focused($event)\" required\r\n                                    (blur)=\"left($event)\" [(ngModel)]=\"chequeNumber\" #chequNo=\"ngModel\"\r\n                                    autocomplete=\"off\" class=\"form-control cheque_num\">\r\n                            </div>\r\n                            <span *ngIf=\"chequNo.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Cheque Number!\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"col-md-6 PT-10\">\r\n                            <div class=\"form-group focused\">\r\n                                <label class=\"control-label mb-10\">Date*</label>\r\n                                <input type=\"date\" id=\"datepicker\" (focus)=\"focused($event)\" required placeholder=\"\"\r\n                                    autocomplete=\"off\" (blur)=\"left($event)\" name=\"payment_date\"\r\n                                    [(ngModel)]=\"paymentDate\" #payDate=\"ngModel\" class=\"form-control cheque_date\">\r\n                            </div>\r\n                            <span *ngIf=\"paymentDate === '  ' && isAdded\" class=\"input-error\">\r\n                                Please add Payment Date!\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"col-md-6 PT-5\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"control-label mb-10\">Bank Name*</label>\r\n                                <input type=\"text\" name=\"cheque_bank_name\" id=\"chequeBankName\" (focus)=\"focused($event)\"\r\n                                    required (blur)=\"left($event)\" [(ngModel)]=\"bankName\" #bank_Name=\"ngModel\"\r\n                                    autocomplete=\"off\" class=\"form-control cheque_bank_name\">\r\n                            </div>\r\n                            <span *ngIf=\"bank_Name.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Bank Name!\r\n                            </span>\r\n                        </div>\r\n                        <div *ngIf=\"paymentTypeCheque !== 'full'\" class=\"col-md-6 PT-5\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"control-label mb-10\">Total Amount*</label>\r\n                                <input type=\"number\" min=\"0\" [max]=\"cash?.amount_received\" name=\"cheque_amount\"\r\n                                    (focus)=\"focused($event)\" required (blur)=\"left($event)\" [(ngModel)]=\"chequeAmount\"\r\n                                    #cheqAmount=\"ngModel\" id=\"Amount1\" autocomplete=\"off\"\r\n                                    class=\"form-control cheque_amount\">\r\n                            </div>\r\n                            <span *ngIf=\"cheqAmount.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Total Amount!\r\n                            </span>\r\n                            <span *ngIf=\"+chequeAmount === 0 && isAdded\"\r\n                                class=\"input-error\">\r\n                                Zero value not allowed\r\n                            </span>\r\n                            <span\r\n                                *ngIf=\"!cheqAmount.errors?.required && chequeAmount > cash?.amount_received && isAdded\"\r\n                                class=\"input-error\">\r\n                                Amount should not be greater than {{cash?.amount_received | number: '1.2-2'}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div *ngIf=\"isCredit\" class=\"modal-header\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">Add <span>Credit Information</span></h5>\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                    <span aria-hidden=\"true\">&times;</span>\r\n                </button>\r\n            </div>\r\n\r\n            <div *ngIf=\"isCredit\" id=\"floating-label\" class=\"form-wrap p-0\">\r\n                <div class=\"col-12\">\r\n                    <div class=\"row pt-10\">\r\n                        <div class=\"col-6\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input class=\"custom-control-input\" [(ngModel)]=\"paymentTypeCredit\" type=\"radio\"\r\n                                    (click)=\"creditAmount=null;currentFullPayment('Credit', 'Cheque payment')\" name=\"payment\" id=\"Amount1\"\r\n                                    value='full'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height: 25px\"\r\n                                    for=\"Amount1\">Full Amount</label>\r\n                            </div>\r\n                            <span *ngIf=\"paymentTypeCredit === '' && isAdded\" class=\"input-error\">\r\n                                Please select a payment method!\r\n                            </span>\r\n                        </div>\r\n                        <div class=\"col-6\">\r\n                            <div class=\"custom-control custom-radio\">\r\n                                <input (click)=\"setPartial('Credit')\" class=\"custom-control-input\"\r\n                                    [(ngModel)]=\"paymentTypeCredit\" type=\"radio\" name=\"payment\" id=\"Amount2\"\r\n                                    value='partial'>\r\n                                <label class=\"custom-control-label\" style=\"font-size: 13px; line-height: 25px\"\r\n                                    for=\"Amount2\">Partial Amount</label>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf=\"paymentTypeCredit !== 'full'\" class=\"col-md-6 PT-10\">\r\n                            <div class=\"form-group\">\r\n                                <label class=\"control-label mb-10\">Amount*</label>\r\n                                <input type=\"number\" min=\"0\" [max]=\"cash?.amount_received\" name=\"cheque_amount\"\r\n                                    (focus)=\"focused($event)\" required (blur)=\"left($event)\" [(ngModel)]=\"creditAmount\"\r\n                                    #credAmount=\"ngModel\" autocomplete=\"off\" class=\"form-control cheque_amount\">\r\n                            </div>\r\n                            <span *ngIf=\"credAmount.errors?.required && isAdded\" class=\"input-error\">\r\n                                Please add Total Amount!\r\n                            </span>\r\n                            <span *ngIf=\"+creditAmount === 0 && isAdded\"\r\n                                class=\"input-error\">\r\n                                Zero value not allowed\r\n                            </span>\r\n                            <span\r\n                                *ngIf=\"!credAmount.errors?.required && +creditAmount > cash?.amount_received && isAdded\"\r\n                                class=\"input-error\">\r\n                                Amount should not be greater than {{cash?.amount_received}}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div *ngIf=\"(paymentTypeCheque === 'partial' && paymentTypeCredit === 'full') || (paymentTypeCheque === 'full' && paymentTypeCredit === 'partial')\"\r\n                class=\"form-wrap p-10\">\r\n                <h5 class=\"input-error\">You have to choose \"Partial Amount\" to use both Credit and Cheque Payment!</h5>\r\n            </div>\r\n\r\n\r\n            <div class=\"modal-footer border-0\">\r\n                <button type=\"submit\" [disabled]=\"(paymentTypeCheque === 'partial' && paymentTypeCredit === 'full') || (paymentTypeCheque === 'full' && paymentTypeCredit === 'partial')\"\r\n                    class=\"btn btn-primary\" (click)=\"addPaymentMethod()\">Add</button>\r\n                <button type=\"button\" id=\"close-payment-modal\" (click)=\"paymentCancelled()\" class=\"btn btn-cancel\"\r\n                    data-dismiss=\"modal\" aria-label=\"Close\">Cancel</button>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Products Listing -->\r\n<div id=\"product-cl-sec\" (clickOutside)=\"clickedOutSide($event)\" [ngClass]=\"showProducts ? 'active' : ''\"> <a\r\n        id=\"pl-close\" (click)=\"closeProductsList()\" class=\"close-btn-pl\"></a>\r\n    <div class=\"pro-header-text\">Add <span>Product</span></div>\r\n    <div class=\"se_cus-type form-wrap p-15\">\r\n        <div class=\"row\">\r\n            <div class=\"col-12\">\r\n                <div class=\"productSearch\"><i class=\"fa fa-search\"></i>\r\n                    <input type=\"text\" class=\"form-control\" id=\"\" [(ngModel)]=\"productSearchText\"\r\n                        (keyup)=\"searchProduct()\" placeholder=\"Search\">\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"pc-cartlist\">\r\n        <div class=\"overflow-plist\">\r\n            <div class=\"plist-content\">\r\n                <div class=\"_left-filter pt-0\">\r\n                    <div class=\"container\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-12\">\r\n                                <div class=\"card top_border p-15\">\r\n                                    <table *ngIf=\"!loadingProducts\" class=\"AddProductTable\" width=\"100%\">\r\n                                        <tbody>\r\n                                            <tr *ngFor=\"let product of dispProducts; let i=index\">\r\n                                                <td>\r\n                                                    <div class=\"ProListDiv\">\r\n                                                        <div *ngIf=\"product.schemes?.length\" class=\"lab-promotion\">\r\n                                                            Scheme</div>\r\n                                                        <img class=\"PrList_img\" src=\"{{product.thumbnail}}\" alt=\"\" />\r\n                                                        <div class=\"PR_Name\">{{product.item_name}}</div>\r\n                                                    </div>\r\n                                                </td>\r\n                                                <td>\r\n                                                    <button *ngIf=\"!product.isAdded\" data-toggle=\"modal\" data-target=\"#exampleModal\"\r\n                                                        class=\"btn btn-default mb-0 dont-close-quantity\"\r\n                                                        (click)=\"openQuantityModal(product)\">Add</button>\r\n                                                    <button *ngIf=\"product.isAdded\"\r\n                                                        class=\"btn btn-default mb-0 red-bg dont-close-product\"\r\n                                                        (click)=\"removeProductFromOrder(product)\">Remove</button>\r\n                                                </td>\r\n                                            </tr>\r\n                                        </tbody>\r\n                                    </table>\r\n                                    <div class=\"col-md-12 loader\" *ngIf=\"loadingProducts\">\r\n                                        <h2 class=\"loading\">Loading Products...</h2>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n    <div class=\"_cl-bottom\">\r\n        <!-- <button type=\"submit\" class=\"btn btn-primary mr-2\">Add</button> -->\r\n        <button id=\"pl-prod-close\" type=\"butotn\" (click)=\"closeProductsList()\"\r\n            class=\"btn btn-cancel mr-2\">Cancel</button>\r\n    </div>\r\n</div>\r\n\r\n\r\n<!-- Counter Sale -->\r\n<div id=\"counter-sale\" class=\"container _order-container\">\r\n  <button data-toggle=\"modal\" data-target=\"#billsModalCounterSale\" id=\"billsPrintPaperModalTrigger\" class=\"btn btn-default mb-0\" hidden>Bill</button>\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-md-12\">\r\n            <h2 class=\"_head01 float-left\">New <span>Order</span></h2>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <div class=\"row mt-2\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card p-20 top_border mb-3 _INV-h\">\r\n                <div class=\"row _add-customer\">\r\n                    <div class=\"col-12\">\r\n                        <div class=\"row\">\r\n                            <div class=\"_sa-customer\">\r\n                                <div class=\"form-s2\">\r\n                                    <ng-select [multiple]=\"false\" class=\"formselect\" [(ngModel)]=\"selectedEmployee\"\r\n                                        (change)=\"getRoutes()\" placeholder=\"Select Employee\">\r\n                                        <ng-option disabled>Select Employee</ng-option>\r\n                                        <ng-option *ngFor=\"let orderBooker of orderBookers\"\r\n                                            [value]=\"orderBooker.employee_id\">{{orderBooker.employee_first_name +' '+\r\n                                            orderBooker.employee_last_name}}</ng-option>\r\n                                    </ng-select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"_sa-customer\">\r\n                                <div class=\"form-s2\">\r\n                                    <ng-select [multiple]=\"false\" class=\"formselect\" [(ngModel)]=\"selectedRoute\"\r\n                                        (change)=\"getRetailerByRoute()\" placeholder=\"Select Route\">\r\n                                        <ng-option *ngIf=\"!selectedEmployee\" disabled>Select Employee First</ng-option>\r\n                                        <ng-option *ngIf=\"selectedEmployee\" disabled>Select Route</ng-option>\r\n                                        <ng-option *ngFor=\"let route of routes\" [value]=\"route.route_id\">{{route.name}}\r\n                                        </ng-option>\r\n                                    </ng-select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"_sa-customer\">\r\n                                <div class=\"form-s2\">\r\n                                    <ng-select [multiple]=\"false\" class=\"formselect\" [(ngModel)]=\"selectedRetailer\"\r\n                                        (change)=\"getDiscountSlabs()\" placeholder=\"Select Retailer\">\r\n                                        <ng-option disabled *ngIf=\"!selectedRoute\">Select Route First</ng-option>\r\n                                        <ng-option disabled *ngIf=\"selectedRoute\">Select Retailer</ng-option>\r\n                                        <ng-option *ngFor=\"let retailer of retailers\" [value]=\"retailer\">\r\n                                            {{retailer.retailer_name}}</ng-option>\r\n                                    </ng-select>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <button id=\"productlist01\" (click)=\"showProductsList($event)\"\r\n                                class=\"btn btn-primary ml-15\">Add Product</button>\r\n\r\n                        </div>\r\n\r\n                        <div class=\"_cut-detail\">\r\n                            <div class=\"row\">\r\n                                <div class=\"col-md-6\"><strong>Retailer Name: &nbsp; </strong>\r\n                                    {{selectedRetailer?.retailer_name || '--'}}\r\n                                </div>\r\n                                <div class=\"col-md-6\"><strong>Channel Type: &nbsp; </strong> {{selectedRetailer?.type ||\r\n                                    '--'}} {{selectedRetailer && ' ('+ selectedRetailer?.segment_name+')'}}</div>\r\n                                <div class=\"col-md-6\"><strong>Location: &nbsp; </strong> {{selectedRetailer?.loc ||\r\n                                    '--'}}</div>\r\n                                <div class=\"col-md-6\"><strong>Territory: &nbsp; </strong> {{selectedRetailer?.territory\r\n                                    || '--'}}</div>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div class=\"_add-product\">\r\n                            <div class=\"row AP_heading\">\r\n                                <div class=\"addItemCell PL-5\">Product Name</div>\r\n                                <div class=\"addItemCell unit-w\">Unit</div>\r\n\r\n                                <div class=\"addItemCell2\">QTY.</div>\r\n                                <div class=\"addItemCell2\">T.P</div>\r\n                                <div class=\"addItemCell2\">T.O </div>\r\n                                <div class=\"addItemCell2\">T. Dis. (%)</div>\r\n                                <div class=\"addItemCell2\">S. Disc.</div>\r\n                                <div class=\"addItemCell2\">E. Disc.</div>\r\n                                <div class=\"addItemCell2\">Tax</div>\r\n                                <div class=\"addItemCell3\">Net Amount</div>\r\n                            </div>\r\n\r\n\r\n                            <div *ngFor=\"let product of selectedProducts;let ind=index\" class=\"row _row-product\">\r\n                                <a class=\"dd-handle dd3-handle swap-div\"></a>\r\n\r\n                                <div class=\"col-12 p-0\">\r\n                                    <div class=\"addItemCell PL-5\">\r\n                                        <div class=\"_emp-sele _product-name\">\r\n                                            {{product.item_name}}\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"addItemCell unit-w\">\r\n                                        <div class=\"addItemCell2 _h25\">\r\n                                            {{product.unit_name}}\r\n                                            <!-- <ng-select [multiple]=\"false\" class=\"formselect\"\r\n                                                [(ngModel)]=\"product.pref_id\" (change)=\"setPrefrence($event, product)\">\r\n                                                <ng-option [value]=\"null\" disabled>Select Unit</ng-option>\r\n                                                <ng-option *ngFor=\"let unit of product.units\" value=\"{{unit.pref_id}}\">\r\n                                                    {{unit.unit_name}}</ng-option>\r\n                                            </ng-select> -->\r\n                                        </div>\r\n                                    </div>\r\n\r\n                                    <div class=\"addItemCell2 _h25\"><input class=\"addItemCell2_input\" type=\"text\"\r\n                                            [disabled]=\"isChequeAdded || isCreditAdded\"\r\n                                            (keyup)=\"setQuantity(product)\" (keydown)=\"isNumber($event, 'quantity')\"\r\n                                            placeholder=\"0\" [(ngModel)]=\"product.stockQty\" style=\"font-size: 13px\">\r\n                                    </div>\r\n                                    <div class=\"addItemCell2 _h25\">{{product.item_trade_price}}</div>\r\n                                    <div class=\"addItemCell2 _h25\">{{(+product.stockQty * product.scheme_discount) || 0.00 | number: '1.2-2'}}\r\n                                    </div>\r\n                                    <div class=\"addItemCell2 _h25\">{{ product.trade_discount || 0 }}%\r\n                                        ({{+product.stockQty * product.trade_discount_pkr | number: '1.2-2' }})\r\n                                    </div>\r\n                                    <div class=\"addItemCell2 _h25\">{{ +product.stockQty * product.special_discount || 0.00 | number:'1.2-2'}}</div>\r\n                                    <div class=\"addItemCell2 _h25\"><input [readonly]=\"isCreditAdded || isChequeAdded || +product.stockQty < 1\" class=\"addItemCell2_input\" type=\"text\"\r\n                                            placeholder=\"0\" [(ngModel)]=\"product.extra_discount\"\r\n                                            (keyup)=\"calculateExtraDiscount(product)\" (keydown)=\"isNumber($event)\"\r\n                                            style=\"font-size: 13px\"></div>\r\n                                    <div class=\"addItemCell2 _h25\">{{product.tax_amount_pkr || 0.00 | number: '1.2-2'}}\r\n                                    </div>\r\n                                    <div class=\"addItemCell3 _h25\">{{product.net_amount || 0.00 | number: '1.2-2'}}\r\n                                    </div>\r\n                                    <a [disabled]=\"isChequeAdded || isCreditAdded\" (click)=\"removeProductFromOrder(product, ind)\" class=\"btn _order-del\"\r\n                                        title=\"Delete\"><i class=\"fa fa-trash-alt\"></i></a>\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div *ngIf=\"!selectedProducts.length\" class=\"row _row-product\">\r\n                                <h6 class=\"no-data\">Add products to counter sale...</h6>\r\n                            </div>\r\n\r\n                            <div class=\"row _totalBar _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\">Total Items</div>\r\n                                <div class=\"addItemCell _h25 unit-w\">{{selectedProducts.length}}</div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\">Gross Amount:</div>\r\n                                <div class=\"addItemCell3 _h25\">{{grossAmount | number: '1.2-2'}}</div>\r\n                            </div>\r\n\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\">Trade Offer:</div>\r\n                                <div class=\"addItemCell3 _h25\">{{tradeOffer | number: '1.2-2'}}</div>\r\n                            </div>\r\n\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\">Trade Discount:</div>\r\n                                <div class=\"addItemCell3 _h25\">{{tradeDiscount | number: '1.2-2'}}</div>\r\n                            </div>\r\n\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\">Special Discount:</div>\r\n\r\n                                <div class=\"addItemCell3 _h25\">{{specialDiscount | number: '1.2-2'}}</div>\r\n                            </div>\r\n\r\n\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\">Extra Discount:</div>\r\n\r\n                                <div class=\"addItemCell3 _h25\">{{extraDiscount | number: '1.2-2'}}</div>\r\n                            </div>\r\n\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\">Tax:</div>\r\n\r\n                                <div class=\"addItemCell3 _h25\">{{tax | number: '1.2-2'}}</div>\r\n                            </div>\r\n\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\"><strong>Total Amount Due:</strong></div>\r\n\r\n                                <div class=\"addItemCell3 _h25\" style=\"font-size: 18px; color: #0038ba\">\r\n                                    {{dueAmount | number: '1.2-2'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\"><strong>Cash:</strong></div>\r\n\r\n                                <div class=\"addItemCell3 _h25\" style=\"font-size: 18px; color: #0038ba\">\r\n                                    {{cash?.amount_received || 0 | number: '1.2-2'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\"><strong>Cheque Payment:</strong></div>\r\n\r\n                                <div class=\"addItemCell3 _h25\" style=\"font-size: 18px; color: #0038ba\">\r\n                                    {{cheque?.amount_received || 0 | number: '1.2-2'}}\r\n                                </div>\r\n                            </div>\r\n                            <div class=\"row _totalBar2\">\r\n                                <div class=\"addItemCell _h25 PL-5\"></div>\r\n                                <div class=\"addItemCell _h25 unit-w\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25\"></div>\r\n                                <div class=\"addItemCell2 _h25 width-t\"><strong>Credited Amount:</strong></div>\r\n\r\n                                <div class=\"addItemCell3 _h25\" style=\"font-size: 18px; color: #0038ba\">\r\n                                    {{credit?.amount_received || 0 | number: '1.2-2'}}\r\n                                </div>\r\n                            </div>\r\n                            <!-- <div class=\"row _notesTER\">\r\n                                <div class=\"col-md-12\">\r\n                                    Notes\r\n                                    <textarea class=\"textarea-NOTES\" rows='1' name=\"notes-input\" [(ngModel)]=\"notes\"\r\n                                        placeholder=\"Enter Notes\" style=\"font-size: 13px\"></textarea>\r\n                                </div>\r\n                            </div> -->\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div class=\"Action_bottom\">\r\n            <div class=\"container-fluid p-0\">\r\n                <div class=\"align-right\">\r\n                    <button *ngIf=\"isOrdering\" type=\"submit\" class=\"btn btn-primary mr-2\" disabled>\r\n                        <div class=\"spinner-border text-light\" role=\"status\">\r\n                            <span class=\"sr-only\">Loading...</span>\r\n                        </div>\r\n                    </button>\r\n                    <button *ngIf=\"!isOrdering\" type=\"submit\" class=\"btn btn-primary btn-cancel mr-2\" [routerLink]=\"['/home']\">Cancel</button>\r\n                    <button *ngIf=\"!isOrdering\" class=\"btn btn-primary\" (click)=\"setOrderFields()\">Save Order</button>\r\n\r\n                    <button *ngIf=\"!isOrdering && !isChequeAdded\" class=\"btn btn-primary float-left mr-2\"\r\n                        (click)=\"isCredit = false;isFullyPaymentAdded('Cheque Payment')\">Add Cheque</button>\r\n                    <button *ngIf=\"!isOrdering && isChequeAdded\" class=\"btn btn-primary float-left mr-2 red-bg\"\r\n                        (click)=\"removeCheque()\">Remove Cheque</button>\r\n                    <button *ngIf=\"!isOrdering && !isCreditAdded\" class=\"btn btn-primary float-left\"\r\n                        (click)=\"isCredit = true;isFullyPaymentAdded('Credit')\">Add Credit</button>\r\n                    <button *ngIf=\"!isOrdering && isCreditAdded\" class=\"btn btn-primary float-left red-bg\"\r\n                        (click)=\"removeCredit()\">Remove Credit</button>\r\n                    <button *ngIf=\"!isOrdering\" id=\"open-modal-payment\" style=\"display: none;\" data-toggle=\"modal\"\r\n                        data-target=\"#exampleModal2\">Show Modal</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute } from '@angular/router';\r\n\r\nimport { ToasterService } from 'src/app/core/services/toaster.service';\r\n\r\nimport { OrdersService } from '../../services/orders.service';\r\n\r\n@Component({\r\n  selector: 'app-order-detail-list',\r\n  templateUrl: './orders-list-details.component.html',\r\n  styleUrls: ['./orders-list-details.component.css'],\r\n})\r\n\r\nexport class OrdersListDetailsComponent implements OnInit {\r\n  dtOptions: DataTables.Settings = {};\r\n  showDetails: boolean;\r\n  loading: boolean;\r\n  orders: Array<any> = [];\r\n  orderDetail: any = null;\r\n  date = 0;\r\n  employeeId = 0;\r\n\r\n  constructor(\r\n    private route: ActivatedRoute,\r\n    private ordersService: OrdersService,\r\n    private toastService: ToasterService,\r\n  ) {\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.showDetails = false;\r\n    this.date = this.route.snapshot.params.date;\r\n    this.employeeId = this.route.snapshot.params.employeeId;\r\n    this.dtOptions = {\r\n      pagingType: 'simple_numbers'\r\n    };\r\n    this.getViewOrdersByEmployee();\r\n  }\r\n\r\n  getViewOrdersByEmployee(): void {\r\n    this.loading = true;\r\n    this.ordersService.getViewOrdersByEmployee(this.employeeId, this.date.toString()).subscribe(res => {\r\n      this.loading = false;\r\n      if (res.status === 200) {\r\n        this.orders = res.data;\r\n      }\r\n    }, error => {\r\n      this.loading = false;\r\n      if (error.status !== 401 && error.status !== 1) {\r\n        this.toastService.showToaster({\r\n          title: 'Error:',\r\n          message: 'New Orders not fetched, try again later.',\r\n          type: 'error'\r\n        });\r\n      }\r\n      scrollTo(0, 0);\r\n    });\r\n  }\r\n\r\n  getViewOrderDetailById(id: number): void {\r\n    this.loading = true;\r\n    this.ordersService.getViewOrderDetailById(id).subscribe(res => {\r\n      this.loading = false;\r\n      if (res.status === 200) {\r\n        this.orderDetail = res.data;\r\n        this.orderDetail.subTotal = this.orderDetail.order_detail.map(x => x.final_price).reduce((a, b) => a + b, 0);\r\n        this.orderDetail.totalDiscount = this.orderDetail.order_detail\r\n          .map(x => (x.original_price * x.quantity) - (x.unit_price_after_individual_discount * x.quantity))\r\n          .reduce((a, b) => a + b, 0);\r\n        this.showDetails = true;\r\n      }\r\n    }, error => {\r\n      this.loading = false;\r\n      if (error.status !== 401 && error.status !== 1) {\r\n        this.toastService.showToaster({\r\n          title: 'Error:',\r\n          message: 'New Orders not fetched, try again later.',\r\n          type: 'error'\r\n        });\r\n      }\r\n      scrollTo(0, 0);\r\n    });\r\n  }\r\n\r\n  openDetailsModal(orderId: number): void {\r\n    this.orderDetail = null;\r\n    // document.body.classList.add('no-scroll');\r\n    this.getViewOrderDetailById(orderId);\r\n  }\r\n\r\n  closeDetailsModal(): void {\r\n    document.body.classList.remove('no-scroll');\r\n  }\r\n\r\n}\r\n","<div class=\"modal fade\" style=\"overflow-y: auto;\" [ngClass]=\"showDetails ? 'show active' : ''\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-full modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header border-0\">\r\n                <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\" (click)=\"showDetails = false;closeDetailsModal()\" style=\"font-size:30px; outline: none;\"></button>\r\n            </div>\r\n            <div class=\"modal-body p-0\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div *ngIf=\"!loading\" class=\"col-12\">\r\n                            <div class=\"card\">\r\n                                <div class=\"p-10\" style=\"border-bottom: solid 2px #000\">\r\n                                    <div class=\"row m-0\">\r\n                                        <div class=\"col-8 OrderLogo\">\r\n                                            <img src=\"assets/images/sell-360.svg\" alt=\"\" />\r\n                                        </div>\r\n                                        <div class=\"col-4 ord-no\">\r\n                                            Order # <strong>{{orderDetail?.retailer_detail?.id}}</strong>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"body\" style=\"padding:15px 20px\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-12\">\r\n                                            <div class=\"form-body\">\r\n                                                <div class=\"row OrderInfo\">\r\n\r\n                                                    <div class=\"col-md-9\">\r\n                                                        <span>Retailer Name: </span> <strong>\r\n                                                            {{orderDetail?.retailer_detail.retailer_name}}\r\n                                                            </strong><br>\r\n                                                        <span>Phone No: </span> <strong>\r\n                                                            {{orderDetail?.retailer_detail.retailer_phone}}\r\n                                                        </strong><br>\r\n                                                        <span>Location: </span> <strong>\r\n                                                            {{orderDetail?.retailer_detail.retailer_address}}\r\n                                                        </strong>\r\n                                                    </div>\r\n\r\n                                                    <div class=\"col-md-3 p-0\">\r\n                                                        <span>Status: </span> <strong>\r\n                                                            {{orderDetail?.retailer_detail.status}}\r\n                                                        </strong><br>\r\n                                                        <span>Booking Date: </span> <strong>\r\n                                                            {{orderDetail?.retailer_detail.order_date}}\r\n                                                        </strong><br>\r\n                                                        <span>Employee: </span> <strong>\r\n                                                            {{orderDetail?.retailer_detail.employee_name}}\r\n                                                        </strong>\r\n                                                    </div>\r\n\r\n                                                </div>\r\n\r\n\r\n\r\n                                                <div class=\"seprator-block\"></div>\r\n\r\n                                                <div class=\"Order-Detail-table mt-30\">\r\n\r\n\r\n                                                    <table class=\"table\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th><strong>Code</strong></th>\r\n                                                                <th><strong>Product Name</strong></th>\r\n                                                                <th><strong>CTN</strong></th>\r\n                                                                <th><strong>BOX/PCS</strong></th>\r\n                                                                <th><strong>T.P</strong></th>\r\n                                                                <th><strong>GR Amt</strong></th>\r\n                                                                <th><strong>T.O</strong></th>\r\n                                                                <th><strong>T.Disc</strong></th>\r\n                                                                <th><strong>SPC.Disc</strong></th>\r\n                                                                <th><strong>Net.Amt</strong></th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        <tbody class=\"order_items_body\">\r\n                                                            <tr *ngFor=\"let item of orderDetail?.order_detail\">\r\n                                                                <td>{{item.item_sku}}</td>\r\n                                                                <td>{{item.item_name}}</td>\r\n                                                                <td>{{item.parent_qty}}</td>\r\n                                                                <td>{{item.child_qty}}</td>\r\n                                                                <td>{{item.original_price}}</td>\r\n                                                                <td>{{(item.original_price * item.quantity) | decimal}}</td>\r\n                                                                <td>{{(item.scheme_discount * item.quantity) | number: '1.2-2'}}</td>\r\n                                                                <td>{{(item.merchant_discount_pkr * item.quantity) | number: '1.2-2'}}</td>\r\n                                                                <td>{{(item.special_discount * item.quantity) | number: '1.2-2'}}</td>\r\n                                                                <td>{{item.final_price | number: '1.2-2'}}</td>\r\n                                                            </tr>\r\n                                                            <!-- <tr>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td><strong>Subtotal PKR.</strong></td>\r\n                                                                <td><strong>{{orderDetail?.subTotal | number: '1.2-2'}}</strong></td>\r\n                                                            </tr> -->\r\n                                                            <tr>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td><strong>Total Discount PKR.</strong></td>\r\n                                                                <td><strong>{{orderDetail?.totalDiscount | decimal}}</strong></td>\r\n                                                            </tr>\r\n                                                            <tr>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td style=\"background-color:#000; color:#fff\">\r\n                                                                    <strong>Total PKR.</strong>\r\n                                                                </td>\r\n                                                                <td style=\"background-color:#000; color:#fff\">\r\n                                                                    <strong>{{orderDetail?.retailer_detail?.order_total | number: '1.2-2'}}</strong>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n\r\n                                                    <div class=\"clearfix\"></div>\r\n                                                </div>\r\n\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div *ngIf=\"loading\" class=\"col-12\">\r\n                            <app-loader-white></app-loader-white>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <!-- <div class=\"modal-footer button-list\">\r\n                <button type=\"button\" class=\"btn btn-primary btn-outline\"><i class=\"fa fa-file-pdf\"> </i> <span> Save\r\n                        PDF</span> </button> <button type=\"button\" class=\"btn btn-primary btn-outline\"> <i\r\n                        class=\"fa fa-envelope\"> </i> <span> Send Email</span> </button> <button type=\"button\"\r\n                    class=\"btn btn-primary btn-outline\"><i class=\"fa fa-print\"></i> <span> Print</span> </button>\r\n\r\n            </div> -->\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<div *ngIf=\"!showDetails\" class=\"container\">\r\n\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h2 class=\"_head01\">Orders <span> Management</span></h2>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <ol class=\"breadcrumb\">\r\n                <li><a routerLink=\"/orders\"><span>Orders</span></a></li>\r\n                <li><span>List</span></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n                <div class=\"header\">\r\n                    <h2>Booked Order <span> Detail</span>\r\n                        <div class=\"_list-total\">{{orders.length || 0}}</div>\r\n                    </h2>\r\n                </div>\r\n                <div class=\"body\">\r\n                    <table *ngIf=\"!loading\" datatable [dtOptions]=\"dtOptions\" class=\"table table-hover dt-responsive nowrap\" id=\"example\" style=\"width:100%\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Date</th>\r\n                                <th>Retailer</th>\r\n                                <th>Channel</th>\r\n                                <th>Orders Booker</th>\r\n                                <th>Order Total</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let order of orders\">\r\n                                <td>{{order.date}}</td>\r\n                                <td>{{order.retailer}}</td>\r\n                                <td>{{order.channel}} </td>\r\n                                <td>{{order.emp_name}}</td>\r\n                                <td>{{order.order_total | number: '1.2-2'}}</td>\r\n                                <td><button (click)=\"showDetails = true;openDetailsModal(order.id)\" class=\"btn btn-default btn-line mb-0\">Detail</button></td>\r\n                            </tr>\r\n\r\n                        </tbody>\r\n                    </table>\r\n                    <div *ngIf=\"loading\" class=\"col-12\">\r\n                        <app-loader-white></app-loader-white>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n    selector: 'app-completed-orders',\r\n    templateUrl: 'completed-orders.component.html',\r\n    styleUrls: ['./completed-orders.component.css']\r\n})\r\n\r\nexport class CompletedOrdersComponent implements OnInit {\r\n\r\n    dtOptions: DataTables.Settings = {};\r\n\r\n    constructor() {\r\n        this.dtOptions = {\r\n            pagingType: 'simple_numbers'\r\n        };\r\n    }\r\n\r\n    ngOnInit(): void {\r\n    }\r\n\r\n}\r\n","<div class=\"container\">\r\n\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h2 class=\"_head01\">Orders <span> Management</span></h2>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <ol class=\"breadcrumb\">\r\n                <li><a><span>Orders</span></a></li>\r\n                <li><span>List</span></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n                <div class=\"header\">\r\n                    <h2>Completed <span> Orders</span>\r\n                        <div class=\"_list-total\">145</div>\r\n                    </h2>\r\n                </div>\r\n                <div class=\"body\">\r\n                    <table datatable [dtOptions]=\"dtOptions\" class=\"table table-hover dt-responsive nowrap\" id=\"example\" style=\"width:100%\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Month</th>\r\n                                <th>Orders</th>\r\n                                <th>Amount</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr>\r\n                                <td>February</td>\r\n                                <td>15</td>\r\n                                <td>Rs. 15,000 </td>\r\n                                <td><a [routerLink]=\"['/orders', 'completed-orders', 1]\" class=\"btn btn-default btn-line m-0\">View\r\n                                        All</a></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>January</td>\r\n                                <td>15</td>\r\n                                <td>Rs. 15,000 </td>\r\n                                <td><a [routerLink]=\"['/orders', 'completed-orders', 2]\" class=\"btn btn-default btn-line m-0\">View\r\n                                        All</a></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>June</td>\r\n                                <td>15</td>\r\n                                <td>Rs. 15,000 </td>\r\n                                <td><a [routerLink]=\"['/orders', 'completed-orders', 3]\" class=\"btn btn-default btn-line m-0\">View\r\n                                        All</a></td>\r\n                            </tr>\r\n                            <tr>\r\n                                <td>March</td>\r\n                                <td>15</td>\r\n                                <td>Rs. 15,000 </td>\r\n                                <td><a [routerLink]=\"['/orders', 'completed-orders', 4]\" class=\"btn btn-default btn-line m-0\">View\r\n                                        All</a></td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { API_URLS } from 'src/app/core/constants/api-urls.constants';\r\nimport { LocalStorageService } from 'src/app/core/services/storage.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { ToasterService, Toaster } from '../../../../core/services/toaster.service';\r\nimport { OrdersService } from '../../services/orders.service';\r\n\r\n@Component({\r\n    selector: 'app-orderexecution-list',\r\n    templateUrl: 'execution-list.component.html',\r\n    styleUrls: ['./execution-list.component.css']\r\n})\r\n\r\nexport class OrderExecutionListComponent implements OnInit {\r\n\r\n    dtOptions: DataTables.Settings = {};\r\n\r\n    bookingSheetUrl: string;\r\n    showExecuteOrder: boolean;\r\n    loading: boolean;\r\n    selectedLoadId: number;\r\n    distributorId: number;\r\n\r\n    ordersList: Array<any> = [];\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private orderService: OrdersService,\r\n        private toastServicer: ToasterService,\r\n        private storageService: LocalStorageService,\r\n    ) {\r\n        this.bookingSheetUrl = `${environment.apiDomain}${API_URLS.BOOKING_SHEET_PDF}`;\r\n        this.distributorId = storageService.getItem('distributor').id;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.showExecuteOrder = false;\r\n        this.dtOptions = {\r\n            pagingType: 'simple_numbers'\r\n        };\r\n        this.getExecutionList();\r\n    }\r\n\r\n    getExecutionList(): void {\r\n        this.loading = true;\r\n        this.orderService.getExecutionList().subscribe(res => {\r\n            this.loading = false;\r\n            if (res.status === 200) {\r\n                this.ordersList = res.data;\r\n            } else {\r\n                console.log('Error when fetching orders :>> ', res.message);\r\n                const toast: Toaster = { type: 'error', message: 'Cannot fetch orders list, please try again later!', title: 'Error:' };\r\n                this.toastServicer.showToaster(toast);\r\n            }\r\n        }, error => {\r\n            this.loading = false;\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                console.log('Cannot fetch orders list for execution :>> ', error.messge);\r\n                const toast: Toaster = { type: 'error', message: 'Cannot fetch orders list, please try again later!', title: 'Error:' };\r\n                this.toastServicer.showToaster(toast);\r\n            }\r\n        });\r\n    }\r\n\r\n    loadBookingSheet(order: any): void {\r\n        const sheetUrl = `${this.bookingSheetUrl}?emp=${order.sales_man_id}&date=${order.date}&loadId=${order.load_id}`;\r\n        window.open(sheetUrl);\r\n    }\r\n\r\n    loadLoadSheet(order: any): void {\r\n        const sheetUrl = `${environment.apiDomain}${API_URLS.LS_PDF}/${order.load_id}/${order.sales_man_id}/${order.date}`;\r\n        window.open(sheetUrl);\r\n    }\r\n\r\n    loadBills(order: any): void {\r\n        const billsUrl = `${environment.apiDomain}${API_URLS.BILLS}?type=bill&emp=${order.sales_man_id}&date=${order.date}&dist_id=${this.distributorId}&size=A4&status=processed&loadId=${order.load_id}`;\r\n        window.open(billsUrl);\r\n    }\r\n\r\n    revertOrder(): void {\r\n      this.loading = true;\r\n      document.getElementById('close-revert').click();\r\n      this.orderService.revertOrder('load', this.selectedLoadId).subscribe(res => {\r\n        this.loading = false;\r\n        if (res.status === 200) {\r\n          this.toastServicer.showToaster({\r\n            title: 'Revet Success:',\r\n            message: 'The order reverted successfully!',\r\n            type: 'success'\r\n          });\r\n          this.router.navigateByUrl('/orders');\r\n        } else {\r\n          this.toastServicer.showToaster({\r\n            title: 'Revet Error:',\r\n            message: 'The order cannot be reverted at the momnent, please try again later.',\r\n            type: 'error'\r\n          });\r\n        }\r\n      }, error => {\r\n        this.loading = false;\r\n        if (error.status !== 1 && error.status !== 401) {\r\n          this.toastServicer.showToaster({\r\n            title: 'Revet Error:',\r\n            message: 'The order cannot be reverted at the momnent, please try again later.',\r\n            type: 'error'\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n}\r\n","<!-- Confirmation Modal -->\r\n<div class=\"modal fade\" id=\"order-revert\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"orderLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n      <div class=\"modal-content top-borderRed\">\r\n          <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"orderLabel\">Cancel Order <span></span></h5>\r\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n              <div class=\"col-md-12\">\r\n                  <p>Are you sure you want to revert the order?</p>\r\n              </div>\r\n          </div>\r\n          <div class=\"modal-footer border-0\">\r\n              <button type=\"submit\" class=\"btn btn-primary\" (click)=\"revertOrder()\">Yes</button>\r\n              <button type=\"button\" id=\"close-revert\" class=\"btn btn-cancel\" data-dismiss=\"modal\" aria-label=\"Close\">No</button>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Orders List -->\r\n<div class=\"container\">\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h2 class=\"_head01\">Orders <span> Management</span></h2>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <ol class=\"breadcrumb\">\r\n                <li><a routerLink=\"/orders\"><span>Orders</span></a></li>\r\n                <li><span>List</span></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n                <div class=\"header\">\r\n                    <h2>Execute <span> Orders</span>\r\n                        <div class=\"_list-total\">{{ordersList.length}}</div>\r\n                    </h2>\r\n                </div>\r\n                <div class=\"body\">\r\n                    <table *ngIf=\"!loading\" datatable [dtOptions]='dtOptions' class=\"table table-hover dt-responsive nowrap\" id=\"example\" style=\"width:100%\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Date</th>\r\n                                <th>Sales Man</th>\r\n                                <th>Order Bookers</th>\r\n                                <th>Orders</th>\r\n                                <th>Amount</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let order of ordersList;let ind=index\">\r\n                                <td>{{order.date}}</td>\r\n                                <td>{{order.sales_man}}</td>\r\n                                <td>{{order.emp_names}} </td>\r\n                                <td>{{order.total_orders}}</td>\r\n                                <td>{{order.order_total | number: '1.2-2'}}</td>\r\n                                <td><button (click)=\"loadBookingSheet(order)\" class=\"btn btn-default mb-0\">BS</button>\r\n                                    <button (click)=\"loadLoadSheet(order)\" class=\"btn btn-default mb-0\">LS</button>\r\n                                    <button (click)=\"loadBills(order)\" class=\"btn btn-default mb-0\">Bills</button>\r\n                                    <button (click)=\"selectedLoadId=order.load_id\" data-target=\"#order-revert\" data-toggle=\"modal\" class=\"btn btn-default red-bg mb-0\">Revert</button>\r\n                                    <button class=\"btn btn-default mb-0\" [routerLink]=\"['/orders', 'execute-order', order.sales_man_id, order.date, order.load_id]\">Execute</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div class=\"col-12\" *ngIf=\"loading\">\r\n                        <app-loader-white></app-loader-white>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { OrdersRoutingModule } from './orders-routing.module';\r\nimport { NgSelectModule } from '@ng-select/ng-select';\r\nimport { DataTablesModule } from 'angular-datatables';\r\nimport { ClickOutsideModule } from 'ng-click-outside';\r\nimport { SharedModule } from '../shared/shared.module';\r\n\r\nimport { OrdersComponent } from './orders.component';\r\nimport { OrdersListComponent } from './components/orders-list/orders-list.component';\r\nimport { OrdersListDetailsComponent } from './components/orders-list-details/orders-list-details.component';\r\nimport { CreateDispatchedComponent } from './components/create-dispatched/create-dispatched.component';\r\nimport { OrderExecutionListComponent } from './components/execution-list/execution-list.component';\r\nimport { ExecuteOrderComponent } from './components/execute-order/execute-order.component';\r\nimport { CompletedOrdersComponent } from './components/completed-orders/completed-orders.component';\r\nimport { CounterSaleComponent } from './components/counter-sale/counter-sale.component';\r\nimport { BookingVsExecutionComponent } from './components/booking-vs-execution/booking-vs-execution.component';\r\nimport { CompletedOrdersDetailComponent } from './components/completed-orders-detail/completed-orders-detail.component';\r\nimport { OrderDispatchedComponent } from './components/order-dispatched/order-dispatched.component';\r\n\r\nimport { OrdersService } from './services/orders.service';\r\n\r\nimport { OrderDispatchService } from './services/dispatch.service';\r\nimport { ExecutionService } from './services/execution.service';\r\nimport { SpotSaleService } from './services/spot-sale.service';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    OrdersRoutingModule,\r\n    FormsModule,\r\n    ClickOutsideModule,\r\n    NgSelectModule,\r\n    SharedModule,\r\n    DataTablesModule,\r\n  ],\r\n  declarations: [\r\n    OrdersComponent,\r\n    OrdersListComponent,\r\n    OrdersListDetailsComponent,\r\n    CreateDispatchedComponent,\r\n    OrderExecutionListComponent,\r\n    OrderDispatchedComponent,\r\n    ExecuteOrderComponent,\r\n    CompletedOrdersComponent,\r\n    CounterSaleComponent,\r\n    BookingVsExecutionComponent,\r\n    CompletedOrdersDetailComponent,\r\n  ],\r\n  providers: [\r\n    OrderDispatchService,\r\n    ExecutionService,\r\n    SpotSaleService,\r\n    OrdersService\r\n  ],\r\n})\r\nexport class OrderModule { }\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class ExecutionService {\r\n\r\n    constructor() { }\r\n\r\n    setOrderPayloadItems(orderDetails: any, selectedRetailer: any): any {\r\n        const payLoadItems = orderDetails.items.map(item => {\r\n            const payloadItem = {\r\n                quantity_returned: item.dispatch_qty - item.stockQty > -1 ? item.dispatch_qty - item.stockQty : 0,\r\n                executed_qty: +item.stockQty,\r\n                id: item.id || 0,\r\n                employee_id: orderDetails.employee_id,\r\n                pref_id: item.pref_id,\r\n                item_quantity_booker: item.item_quantity_booker,\r\n                item_quantity_updated: item.item_quantity_updated || 0,\r\n                original_price: item.item_trade_price,\r\n                scheme_discount: item.scheme_discount,\r\n                unit_price_after_scheme_discount: item.unit_price_after_scheme_discount,\r\n                merchant_discount: item.trade_discount,\r\n                merchant_discount_pkr: item.trade_discount_pkr,\r\n                unit_price_after_merchant_discount: item.unit_price_after_merchant_discount,\r\n                special_discount: item.special_discount,\r\n                unit_price_after_special_discount: item.unit_price_after_special_discount,\r\n                booker_discount: item.extra_discount || 0,\r\n                unit_price_after_individual_discount: item.unit_price_after_individual_discount || item.price,\r\n                unit_id: item.unit_id,\r\n                unit_name: item.unit_name,\r\n                brand_id: item.brand_id,\r\n                item_id: item.item_id,\r\n                item_name: item.item_name,\r\n                scheme_id: item.selectedScheme?.id || 0,\r\n                scheme_min_quantity: item.selectedScheme?.min_qty || 0,\r\n                scheme_quantity_free: item.selectedScheme?.quantity_free || 0,\r\n                scheme_rule: item.selectedScheme?.rule_name || '',\r\n                gift_value: item.gift_value || 0,\r\n                parent_pref_id: item.child || item.parent_pref_id,\r\n                parent_unit_id: item.parent_unit_id,\r\n                parent_brand_id: item.brand_id,\r\n                parent_tp: item.parent_trade_price || item.parent_tp,\r\n                parent_qty_sold: item.parent_qty_sold,\r\n                parent_value_sold: item.net_amount,\r\n                final_price: item.net_amount,\r\n                campaign_id: item.selectedScheme?.id || 0,\r\n                item_status: item.is_active || item.item_status,\r\n                dispatch_status: 0,\r\n                dispatch_qty: +item.dispatch_qty,\r\n                dispatch_amount: item.net_amount,\r\n                reasoning: '',\r\n                distributor_id: orderDetails.distributor_id,\r\n                division_id: selectedRetailer.division_id || 0,\r\n                region_id: orderDetails.region_id,\r\n                area_id: orderDetails.area_id,\r\n                assigned_route_id: orderDetails.assigned_route_id,\r\n                territory_id: orderDetails.territory_id,\r\n                booked_order_value: item.booked_order_value || 0,\r\n                booked_total_qty: item.booked_total_qty || 0,\r\n                is_deleted: item.isDeleted,\r\n                quantity: +item.stockQty,\r\n                gross_sale_amount: item.original_amount,\r\n                total_retail_price: item.item_retail_price * item.stockQty,\r\n                tax_class_id: item.tax_class_id,\r\n                tax_in_percentage: item.tax_class_amount,\r\n                tax_in_value: item.tax_amount_value || 0,\r\n                total_tax_amount: item.tax_amount_pkr || 0,\r\n                total_amount_after_tax: item.net_amount,\r\n                total_discount: item.scheme_discount * +item.stockQty +\r\n                    item.trade_discount_pkr * +item.stockQty + (+item.stockQty * item.special_discount) + item.extra_discount_pkr,\r\n                order_id: orderDetails.id\r\n            };\r\n            return payloadItem;\r\n        });\r\n        return payLoadItems;\r\n    }\r\n\r\n    setOrderPayloadReturnedItems(orderDetails: any, selectedRetailer: any): any {\r\n        const payLoadReturnedItems = orderDetails.returned_items.map(item => {\r\n            const payloadItem = {\r\n                quantity_returned: +item.stockQty,\r\n                executed_qty: -item.stockQty,\r\n                id: item.id || 0,\r\n                employee_id: orderDetails.employee_id,\r\n                pref_id: item.pref_id,\r\n                item_quantity_booker: 0,\r\n                item_quantity_updated: 0,\r\n                original_price: item.item_trade_price,\r\n                scheme_discount: 0,\r\n                unit_price_after_scheme_discount: item.unit_price_after_scheme_discount,\r\n                merchant_discount: 0,\r\n                merchant_discount_pkr: 0,\r\n                unit_price_after_merchant_discount: item.unit_price_after_merchant_discount,\r\n                special_discount: 0,\r\n                unit_price_after_special_discount: item.unit_price_after_special_discount,\r\n                booker_discount: item.extra_discount || 0,\r\n                unit_price_after_individual_discount: item.unit_price_after_individual_discount || item.unit_price_after_special_discount,\r\n                unit_id: item.unit_id,\r\n                unit_name: item.unit_name,\r\n                brand_id: item.brand_id,\r\n                item_id: item.item_id,\r\n                item_name: item.item_name,\r\n                scheme_id: 0,\r\n                scheme_min_quantity: 0,\r\n                scheme_quantity_free: 0,\r\n                return_type: item.returnType || item.return_type,\r\n                scheme_rule: '',\r\n                gift_value: 0,\r\n                parent_pref_id: item.child || item.parent_pref_id,\r\n                parent_unit_id: item.parent_unit_id,\r\n                parent_brand_id: item.brand_id,\r\n                parent_tp: item.parent_trade_price || item.parent_tp,\r\n                parent_qty_sold: 0,\r\n                parent_value_sold: item.net_amount,\r\n                final_price: item.net_amount,\r\n                campaign_id: 0,\r\n                item_status: item.is_active || item.item_status,\r\n                dispatch_status: 0,\r\n                dispatch_qty: 0,\r\n                dispatch_amount: item.net_amount,\r\n                reasoning: '',\r\n                distributor_id: orderDetails.distributor_id,\r\n                division_id: selectedRetailer.division_id || 0,\r\n                region_id: orderDetails.region_id,\r\n                area_id: orderDetails.area_id,\r\n                assigned_route_id: orderDetails.assigned_route_id,\r\n                territory_id: orderDetails.territory_id,\r\n                booked_order_value: 0,\r\n                booked_total_qty: 0,\r\n                is_deleted: item.isDeleted,\r\n                quantity: 0,\r\n                gross_sale_amount: item.original_amount,\r\n                total_retail_price: item.total_retail_price,\r\n                tax_class_id: 0,\r\n                tax_in_percentage: 0,\r\n                tax_in_value: 0,\r\n                total_tax_amount: 0,\r\n                total_amount_after_tax: item.net_amount,\r\n                total_discount: item.extra_discount ? item.extra_discount * +item.stockQty : 0,\r\n                order_id: orderDetails.id\r\n            };\r\n            return payloadItem;\r\n        });\r\n        return payLoadReturnedItems;\r\n    }\r\n\r\n}\r\n","import { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { API_URLS } from 'src/app/core/constants/api-urls.constants';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Toaster, ToasterService } from '../../../../core/services/toaster.service';\r\nimport { OrdersService } from '../../services/orders.service';\r\n\r\n@Component({\r\n    selector: 'app-create-dispatched',\r\n    templateUrl: 'create-dispatched.component.html',\r\n    styleUrls: ['./create-dispatched.component.css']\r\n})\r\n\r\nexport class CreateDispatchedComponent implements OnInit {\r\n    dtOptions: DataTables.Settings = {};\r\n\r\n    bookingSheetUrl: string;\r\n\r\n    selectedAssignmentId: number;\r\n    loading: boolean;\r\n\r\n    ordersList: Array<any> = [];\r\n\r\n    constructor(\r\n        private router: Router,\r\n        private toastService: ToasterService,\r\n        private orderService: OrdersService,\r\n    ) {\r\n        this.bookingSheetUrl = `${environment.apiDomain}${API_URLS.BOOKING_SHEET_PDF}`;\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.dtOptions = {\r\n            pagingType: 'simple_numbers'\r\n        };\r\n        this.getDispatchOrderListing();\r\n    }\r\n\r\n    getDispatchOrderListing(): void {\r\n        this.loading = true;\r\n        this.orderService.getDispatchOrdersListing().subscribe(res => {\r\n            this.loading = false;\r\n            if (res.status === 200) {\r\n                this.ordersList = res.data;\r\n            }\r\n        }, error => {\r\n            if (error.status !== 1 && error.status !== 401) {\r\n                const toast: Toaster = {\r\n                    type: 'error',\r\n                    message: 'Dispatch Order list cannot be fetched at the moment! Please try again',\r\n                    title: 'Error:'\r\n                };\r\n                this.toastService.showToaster(toast);\r\n            }\r\n        });\r\n    }\r\n\r\n\r\n    revertOrder(): void {\r\n      this.loading = true;\r\n      document.getElementById('close-revert').click();\r\n      this.orderService.revertOrder('assignment', this.selectedAssignmentId).subscribe(res => {\r\n        this.loading = false;\r\n        if (res.status === 200) {\r\n          this.toastService.showToaster({\r\n            title: 'Revet Success:',\r\n            message: 'The order reverted successfully!',\r\n            type: 'success'\r\n          });\r\n          this.router.navigateByUrl('/orders');\r\n        } else {\r\n          this.toastService.showToaster({\r\n            title: 'Revet Error:',\r\n            message: 'The order cannot be reverted at the momnent, please try again later.',\r\n            type: 'error'\r\n          });\r\n        }\r\n      }, error => {\r\n        this.loading = false;\r\n        if (error.status !== 1 && error.status !== 401) {\r\n          this.toastService.showToaster({\r\n            title: 'Revet Error:',\r\n            message: 'The order cannot be reverted at the momnent, please try again later.',\r\n            type: 'error'\r\n          });\r\n        }\r\n      });\r\n    }\r\n\r\n    loadBookingSheet(order: any): void {\r\n        const sheetUrl = `${this.bookingSheetUrl}?emp=${order.sales_man_id}&date=${order.date}&assignmentId=${order.assignment_id}`;\r\n        window.open(sheetUrl);\r\n    }\r\n}\r\n","<!-- Confirmation Modal -->\r\n<div class=\"modal fade\" id=\"order-revert\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"orderLabel\" aria-hidden=\"true\">\r\n  <div class=\"modal-dialog modal-dialog-centered\" role=\"document\">\r\n      <div class=\"modal-content top-borderRed\">\r\n          <div class=\"modal-header\">\r\n              <h5 class=\"modal-title\" id=\"orderLabel\">Cancel Order <span></span></h5>\r\n              <button type=\"button\" class=\"close\" data-dismiss=\"modal\" aria-label=\"Close\">\r\n                  <span aria-hidden=\"true\">&times;</span>\r\n              </button>\r\n          </div>\r\n          <div class=\"modal-body\">\r\n              <div class=\"col-md-12\">\r\n                  <p>Are you sure you want to revert the order?</p>\r\n              </div>\r\n          </div>\r\n          <div class=\"modal-footer border-0\">\r\n              <button type=\"submit\" class=\"btn btn-primary\" (click)=\"revertOrder()\">Yes</button>\r\n              <button type=\"button\" id=\"close-revert\" class=\"btn btn-cancel\" data-dismiss=\"modal\" aria-label=\"Close\">No</button>\r\n          </div>\r\n      </div>\r\n  </div>\r\n</div>\r\n\r\n<!-- Orders list -->\r\n<div class=\"container\">\r\n\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h2 class=\"_head01\">Create <span> Dispatch</span></h2>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <ol class=\"breadcrumb\">\r\n                <li><a routerLink=\"/orders\"><span>Orders</span></a></li>\r\n                <li><span>List</span></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n                <!-- <div class=\"header\">\r\n                    <h2>Create <span>Dispatch</span></h2>\r\n                </div> -->\r\n                <div class=\"body\">\r\n                    <table *ngIf=\"!loading\" datatable [dtOptions]=\"dtOptions\" class=\"table table-hover dt-responsive nowrap\" id=\"example\"\r\n                        style=\"width:100%\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Date</th>\r\n                                <th>Sales Man</th>\r\n                                <th>Order Bookers</th>\r\n                                <th>Orders</th>\r\n                                <th>Booked Value</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let order of ordersList;let ind=index\">\r\n                                <td>{{order.date}}</td>\r\n                                <td>{{order.sales_man | titlecase }}</td>\r\n                                <td>{{order.emp_names || order.emp_name}} </td>\r\n                                <td>{{order.total_orders}}</td>\r\n                                <td>{{order.order_total | number: '1.2-2'}}</td>\r\n                                <td><button (click)=\"loadBookingSheet(order)\" class=\"btn btn-default mb-0\">BS</button>\r\n                                    <a [routerLink]=\"['/orders', 'dispatch', order.assignment_id, order.sales_man_id, order.date]\" class=\"btn btn-default btn-line mb-0\">Dispatch</a>\r\n                                    <button (click)=\"selectedAssignmentId=order.assignment_id\" data-toggle=\"modal\" data-target=\"#order-revert\" class=\"btn btn-default red-bg mb-0\">Revert</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div *ngIf=\"loading\" class=\"col-md-12\">\r\n                        <app-loader-white></app-loader-white>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n\r\n</div>\r\n","import { Component, OnInit, ViewEncapsulation } from '@angular/core';\r\nimport { ToasterService } from 'src/app/core/services/toaster.service';\r\nimport { GeneralDataService } from '../../../shared/services';\r\nimport { OrdersService } from '../../services/orders.service';\r\n\r\n@Component({\r\n    selector: 'app-orders-list',\r\n    templateUrl: './orders-list.component.html',\r\n    styleUrls: ['./orders-list.component.css'],\r\n    encapsulation: ViewEncapsulation.None,\r\n})\r\n\r\nexport class OrdersListComponent implements OnInit {\r\n    selectedOrderBooker: number;\r\n    showDetailsPopup: boolean;\r\n    submitted: boolean;\r\n    byOrderBooker: boolean;\r\n    loading: boolean;\r\n    orderBookers: Array<any> = [];\r\n    salesMen: Array<any> = [];\r\n    orders: Array<any> = [];\r\n    dtOptions: DataTables.Settings = {};\r\n    selectedOrders: Array<any> = [];\r\n\r\n    constructor(\r\n        private generalDataService: GeneralDataService,\r\n        private ordersService: OrdersService,\r\n        private toastService: ToasterService,\r\n    ) {\r\n    }\r\n\r\n    ngOnInit(): void {\r\n        this.byOrderBooker = true;\r\n        this.dtOptions = {\r\n            pagingType: 'simple_numbers'\r\n        };\r\n        this.getAllSalesMen();\r\n        this.getNewOrders();\r\n    }\r\n\r\n    getAllSalesMen(): void {\r\n        this.generalDataService.getAllSalesMen().subscribe(res => {\r\n            if (res.status === 200) {\r\n                this.salesMen = res.data;\r\n            }\r\n        }, error => {\r\n            if (error.status !== 401 && error.status !== 1) {\r\n                this.toastService.showToaster({\r\n                    title: 'Error:',\r\n                    message: 'Salesmen not fetched, try again later.',\r\n                    type: 'error'\r\n                });\r\n            }\r\n        });\r\n    }\r\n\r\n    getNewOrders(): void {\r\n        this.loading = true;\r\n        this.ordersService.getNewOrders().subscribe(res => {\r\n            this.loading = false;\r\n            if (res.status === 200) {\r\n                this.orders = res.data;\r\n            }\r\n        }, error => {\r\n            this.loading = false;\r\n            if (error.status !== 401 && error.status !== 1) {\r\n                this.toastService.showToaster({\r\n                    title: 'Error:',\r\n                    message: 'New Orders not fetched, try again later.',\r\n                    type: 'error'\r\n                });\r\n            }\r\n            scrollTo(0, 0);\r\n        });\r\n    }\r\n\r\n    addOrderToAssignment(order: any): void {\r\n        this.selectedOrders = this.selectedOrders.filter(odr => odr.id !== order.id);\r\n        const assignment = {\r\n            sales_man: order.selectedSaleman.id,\r\n            employee_id: order.employee_id,\r\n            id: order.id,\r\n            date: order.date\r\n        };\r\n        this.selectedOrders.push(assignment);\r\n\r\n    }\r\n\r\n    assignSaleman(): void {\r\n        if (this.selectedOrders.length) {\r\n            const assigned = {\r\n                salesman: this.selectedOrders.map(x => {\r\n                    const { sales_man, employee_id, date } = x;\r\n                    return { sales_man, employee_id, date };\r\n                })\r\n            };\r\n            this.loading = true;\r\n            this.ordersService.assignSalesMan(assigned).subscribe(res => {\r\n                if (res.status) {\r\n                    this.toastService.showToaster({\r\n                        title: 'Salesman Assigned:',\r\n                        message: 'Salesmen assigned to selected order.',\r\n                        type: 'success'\r\n                    });\r\n                    this.selectedOrders.forEach(order => {\r\n                        this.orders = this.orders.filter(ordr => ordr.id !== order.id);\r\n                    });\r\n                    this.loading = false;\r\n                    this.selectedOrders = [];\r\n                  }\r\n            }, error => {\r\n                this.loading = false;\r\n                if (error.status !== 401 && error.status !== 1) {\r\n                    this.toastService.showToaster({\r\n                        title: 'Error:',\r\n                        message: 'Salesmen assignment is not working at the moment, try again later.',\r\n                        type: 'error'\r\n                    });\r\n                }\r\n                scrollTo(0, 0);\r\n            });\r\n        } else {\r\n            this.toastService.showToaster({\r\n                title: 'Error:',\r\n                message: 'Please select saleman to assign orders!',\r\n                type: 'error'\r\n            });\r\n        }\r\n    }\r\n\r\n    openDetailsModal(order: any): void {\r\n        document.body.classList.add('no-scroll');\r\n    }\r\n\r\n    closeDetailsModal(): void {\r\n        document.body.classList.remove('no-scroll');\r\n    }\r\n\r\n}\r\n","<!-- Order details Popup -->\r\n<div class=\"modal fade\" [ngClass]=\"showDetailsPopup ? 'show active' : ''\" id=\"exampleModal\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"exampleModalLabel\"\r\n    aria-hidden=\"true\">\r\n    <div class=\"modal-dialog modal-full modal-dialog-centered\" role=\"document\">\r\n        <div class=\"modal-content\">\r\n            <div class=\"modal-header border-0\">\r\n                <button type=\"button\" class=\"close\" (click)=\"showDetailsPopup=false;closeDetailsModal()\" aria-label=\"Close\"\r\n                    style=\"font-size:30px; outline: none;\"></button>\r\n            </div>\r\n            <div class=\"modal-body p-0\">\r\n                <div class=\"container\">\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12\">\r\n                            <div class=\"card\">\r\n                                <div class=\"p-10\" style=\"border-bottom: solid 2px #000\">\r\n                                    <div class=\"row m-0\">\r\n                                        <div class=\"col-8 OrderLogo\">\r\n                                            <img src=\"assets/images/sell-360.svg\" alt=\"\" />\r\n                                        </div>\r\n                                        <div class=\"col-4 ord-no\">\r\n                                            Order # <strong>05485</strong>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"body\" style=\"padding:15px 20px\">\r\n                                    <div class=\"row\">\r\n                                        <div class=\"col-12\">\r\n                                            <div class=\"form-body\">\r\n                                                <div class=\"row OrderInfo\">\r\n\r\n                                                    <div class=\"col-md-9\">\r\n                                                        <span>Retailer Name: </span> <strong>Chohan Store\r\n                                                            Township</strong><br>\r\n                                                        <span>Phone No: </span> <strong>02222222221</strong><br>\r\n                                                        <span>Location: </span> <strong>Madina Market Township,\r\n                                                            Lahore</strong>\r\n                                                    </div>\r\n\r\n                                                    <div class=\"col-md-3 p-0\">\r\n                                                        <span>Status: </span> <strong>Awaiting</strong><br>\r\n                                                        <span>Booking Date: </span> <strong>12/04/2020</strong><br>\r\n                                                        <span>Employee: </span> <strong>Asad Ali</strong>\r\n                                                    </div>\r\n\r\n                                                </div>\r\n\r\n\r\n\r\n                                                <div class=\"seprator-block\"></div>\r\n\r\n                                                <div class=\"Order-Detail-table mt-30\">\r\n\r\n\r\n                                                    <table class=\"table\">\r\n                                                        <thead>\r\n                                                            <tr>\r\n                                                                <th><strong>Code</strong></th>\r\n                                                                <th><strong>Product Name</strong></th>\r\n                                                                <th><strong>CTN</strong></th>\r\n                                                                <th><strong>BOX/PCS</strong></th>\r\n                                                                <th><strong>T.P</strong></th>\r\n                                                                <th><strong>GR Amt</strong></th>\r\n                                                                <th><strong>T.O</strong></th>\r\n                                                                <th><strong>T.Disc</strong></th>\r\n                                                                <th><strong>SPC.Disc</strong></th>\r\n                                                                <th><strong>Net.Amt</strong></th>\r\n                                                            </tr>\r\n                                                        </thead>\r\n                                                        <tbody class=\"order_items_body\">\r\n                                                            <tr>\r\n                                                                <td>5261</td>\r\n                                                                <td>AasPas R5 (Chocolate BTNT) (24x36)</td>\r\n                                                                <td>0</td>\r\n                                                                <td>1</td>\r\n                                                                <td>103.25</td>\r\n                                                                <td>103.25</td>\r\n                                                                <td>0</td>\r\n                                                                <td>3%</td>\r\n                                                                <td>0</td>\r\n                                                                <td>100.00</td>\r\n                                                            </tr>\r\n                                                            <tr>\r\n                                                                <td>5259</td>\r\n                                                                <td>AasPas Rs2 (chocolate WO BTNT)</td>\r\n                                                                <td>0</td>\r\n                                                                <td>1</td>\r\n                                                                <td>82.61</td>\r\n                                                                <td>82.61</td>\r\n                                                                <td>0</td>\r\n                                                                <td>3%</td>\r\n                                                                <td>5</td>\r\n                                                                <td>75.00</td>\r\n                                                            </tr>\r\n                                                            <tr>\r\n                                                                <td>5258</td>\r\n                                                                <td>AasPas Rs5 (Sweet Sonf) (24x24)</td>\r\n                                                                <td>0</td>\r\n                                                                <td>9</td>\r\n                                                                <td>103.26</td>\r\n                                                                <td>929.34</td>\r\n                                                                <td>0</td>\r\n                                                                <td>3%</td>\r\n                                                                <td>1</td>\r\n                                                                <td>900.02</td>\r\n                                                            </tr>\r\n                                                            <tr>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td><strong>Subtotal PKR.</strong></td>\r\n                                                                <td><strong>1115.20</strong></td>\r\n                                                            </tr>\r\n                                                            <tr>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td><strong>Discount PKR.</strong></td>\r\n                                                                <td><strong>-40.18</strong></td>\r\n                                                            </tr>\r\n                                                            <tr>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td class=\"border-0\"></td>\r\n                                                                <td style=\"background-color:#000; color:#fff\">\r\n                                                                    <strong>Total PKR.</strong>\r\n                                                                </td>\r\n                                                                <td style=\"background-color:#000; color:#fff\">\r\n                                                                    <strong>1075.02</strong>\r\n                                                                </td>\r\n                                                            </tr>\r\n                                                        </tbody>\r\n                                                    </table>\r\n\r\n                                                    <div class=\"clearfix\"></div>\r\n                                                </div>\r\n\r\n                                            </div>\r\n\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div class=\"modal-footer button-list\">\r\n                <button type=\"button\" class=\"btn btn-primary btn-outline\"><i class=\"fa fa-file-pdf\"> </i> <span> Save\r\n                        PDF</span> </button> <button type=\"button\" class=\"btn btn-primary btn-outline\"> <i\r\n                        class=\"fa fa-envelope\"> </i> <span> Send Email</span> </button> <button type=\"button\"\r\n                    class=\"btn btn-primary btn-outline\"><i class=\"fa fa-print\"></i> <span> Print</span> </button>\r\n\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Order Managemenet -->\r\n<div class=\"container\">\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h2 class=\"_head01\">Orders <span> Management</span></h2>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <ol class=\"breadcrumb\">\r\n                <li><a routerLink=\"/orders\"><span>Orders</span></a></li>\r\n                <li><span>List</span></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-lg-12\">\r\n            <div class=\"header-tabs mb-0\" style=\"min-height:47px\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-auto\">\r\n                        <div class=\"nav nav-tabs\" id=\"nav-tab\" role=\"tablist\">\r\n                            <!-- <a class=\"nav-item nav-link\" [ngClass]=\"byOrderBooker === false ? 'active' : ''\"\r\n                                id=\"NewOrder-tab\" data-toggle=\"tab\" (click)=\"byOrderBooker=false;\" role=\"tab\"\r\n                                aria-controls=\"NewOrder\" aria-selected=\"true\">Assign By Order</a> -->\r\n                            <a class=\"nav-item nav-link\" [ngClass]=\"byOrderBooker === true ? 'active' : ''\"\r\n                                id=\"ProcessedOrder-tab\" data-toggle=\"tab\" role=\"tab\" aria-controls=\"ProcessedOrder\"\r\n                                (click)=\"byOrderBooker=true;\" aria-selected=\"false\">Assign By Order Booker</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"tab-content\" id=\"nav-tabContent\">\r\n                <!-- Assign By Order -->\r\n                <div class=\"tab-pane fade\" [ngClass]=\"byOrderBooker === false ? 'active show' : ''\" id=\"NewOrder\"\r\n                    role=\"tabpanel\" aria-labelledby=\"NewOrder-tab\">\r\n                    <div class=\"Product-Filter border-0\">\r\n                        <div class=\"row\">\r\n                            <div class=\"col-auto pr-0\">\r\n                                <div class=\"CL-Product\" style=\"width: 180px!important;\">\r\n                                    <input type=\"text\" id=\"datepicker\" class=\"form-control pl-15\"\r\n                                        placeholder=\"Select Date\">\r\n                                </div>\r\n                            </div>\r\n\r\n                            <div class=\"col pl-0\">\r\n                                <div class=\"_cust_filter\">\r\n                                    <div class=\"form-s2\">\r\n                                        <ng-select class=\"form-control formselect\" placeholder=\"Select Order Booker\"\r\n                                            name=\"order-booker\" style=\"width: 100%!important\" [multiple]=\"false\"\r\n                                            [(ngModel)]=\"selectedOrderBooker\" id=\"order-booker\">\r\n                                            <ng-option [value]=\"orderBooker.id\"\r\n                                                *ngFor=\"let orderBooker of orderBookers\">\r\n                                                {{orderBooker.name}}\r\n                                            </ng-option>\r\n                                        </ng-select>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </div>\r\n                        <div class=\"clearfix\"></div>\r\n                    </div>\r\n\r\n                    <div class=\"card p-15\">\r\n                        <div class=\"col-12 p-0\" style=\"min-height:360px;\">\r\n                            <table datatable [dtOptions]=\"dtOptions\" class=\"table table-hover dt-responsive nowrap\"\r\n                                id=\"example\" style=\"width:100%\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th> Select\r\n                                        </th>\r\n                                        <th>Retailer</th>\r\n                                        <th>Channel</th>\r\n                                        <th>Order Total</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let order of orders; let i=index\">\r\n                                        <td>\r\n                                            <div class=\"custom-control custom-checkbox cus-che-table\">\r\n                                                <input type=\"checkbox\" name=\"\" class=\"custom-control-input\" value=\"\"\r\n                                                    [id]=\"i\">\r\n                                                <label class=\"custom-control-label\" [for]=\"i\"></label>\r\n                                            </div>\r\n                                        </td>\r\n                                        <td>{{order.emp_name}}</td>\r\n                                        <td>{{order.retailer_name}}</td>\r\n                                        <td>{{order.order_total | number: '1.2-2'}}</td>\r\n                                        <td><button (click)=\"showDetailsPopup=true;openDetailsModal(order)\"\r\n                                                class=\"btn btn-default btn-line mb-0\">Detail</button></td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                        </div>\r\n\r\n                        <div class=\"col-12 bottom-gray\">\r\n\r\n                            <div class=\"row justify-content-end\">\r\n\r\n                                <div class=\"col-auto pr-0\">\r\n                                    <div class=\"_cust_filter m-0\">\r\n                                        <div class=\"form-s2\">\r\n                                            <ng-select class=\"form-control formselect\" placeholder=\"Select Salesman\" name=\"select-saleman\"\r\n                                                style=\"width: 100%!important\" [(ngModel)]=\"selectedOrderBooker\" id=\"select-saleman\">\r\n                                                <ng-option [value]=\"orderBooker.id\" *ngFor=\"let orderBooker of orderBookers\">\r\n                                                    {{orderBooker.name}}\r\n                                                </ng-option>\r\n                                            </ng-select>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"col-auto pl-0\">\r\n                                    <button type=\"submit\" class=\"btn btn-primary\">Assign Orders</button>\r\n                                </div>\r\n\r\n                            </div>\r\n                        </div>\r\n\r\n                    </div>\r\n\r\n                </div>\r\n                <!-- Assign By Order Booker -->\r\n                <div class=\"tab-pane fade\" [ngClass]=\"byOrderBooker === true ? 'active show' : ''\" id=\"ProcessedOrder\"\r\n                    role=\"tabpanel\" aria-labelledby=\"ProcessedOrder-tab\">\r\n                    <div class=\"card p-15 mt-15\">\r\n                        <div class=\"col-12 p-0\" style=\"min-height:360px;\">\r\n                            <table *ngIf=\"!loading\" datatable [dtOptions]=\"dtOptions\" class=\"table table-hover dt-responsive nowrap\"\r\n                                id=\"example2\" style=\"width:100%\">\r\n                                <thead>\r\n                                    <tr>\r\n                                        <th>Date</th>\r\n                                        <th>Order Booker</th>\r\n                                        <th>Total Orders</th>\r\n                                        <th>Assign To Salesman</th>\r\n                                        <th>Action</th>\r\n                                    </tr>\r\n                                </thead>\r\n                                <tbody>\r\n                                    <tr *ngFor=\"let order of orders;let i=index\">\r\n                                        <td>{{order.date}}</td>\r\n                                        <td>{{order.emp_name}}</td>\r\n                                        <td>{{order.total_orders}}</td>\r\n                                        <td>\r\n                                            <ng-select class=\"formselect\" (change)=\"addOrderToAssignment(order)\" placeholder=\"Select Salesman\" name=\"select-saleman-{{i}}\" [multiple]=\"false\"\r\n                                                style=\"width: 95%!important\" [(ngModel)]=\"order.selectedSaleman\" id=\"select-saleman-{{i}}\">\r\n                                                <ng-option *ngFor=\"let saleman of salesMen; let in=index\" [value]=\"saleman\">{{saleman.name}}</ng-option>\r\n                                            </ng-select>\r\n                                        </td>\r\n                                        <td>\r\n                                            <a [routerLink]=\"['/orders/order-list-details', order.employee_id ,order.date]\"\r\n                                                class=\"btn btn-default btn-line mb-0\">View Orders</a>\r\n                                            <!-- <a (click)=\"loadBookingSheet(order)\" class=\"btn btn-default mb-0\">BS</a> -->\r\n                                        </td>\r\n                                    </tr>\r\n                                </tbody>\r\n                            </table>\r\n                            <div *ngIf=\"loading\" class=\"col-md-12\">\r\n                                <app-loader-white></app-loader-white>\r\n                            </div>\r\n                        </div>\r\n\r\n                        <div *ngIf=\"!loading\" class=\"col-12 bottom-gray\">\r\n                            <div class=\"row justify-content-end\">\r\n                                <div class=\"col-auto pl-0\">\r\n                                    <button type=\"submit\" [disabled]=\"selectedOrders.length === 0\" (click)=\"assignSaleman()\" class=\"btn btn-primary\">{{selectedOrders.length === 0 ? 'Select Salesman' : 'Assign Salesman'}}</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { LocalStorageService } from './../../../../core/services/storage.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Subject } from 'rxjs';\r\nimport { DataTableDirective } from 'angular-datatables';\r\nimport { OrdersService } from './../../services/orders.service';\r\nimport { ReportsService } from './../../../reports/services/reports.service';\r\nimport { ToasterService } from './../../../../core/services/toaster.service';\r\nimport { Component, OnInit, ViewChild } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-completed-orders-detail',\r\n  templateUrl: './completed-orders-detail.component.html',\r\n  styleUrls: ['./completed-orders-detail.component.css']\r\n})\r\nexport class CompletedOrdersDetailComponent implements OnInit {\r\n  dtOptions: DataTables.Settings = {};\r\n\r\n  loading = false;\r\n  date = new Date().getFullYear() + \"-\" + (new Date().getMonth() + 1) + \"-\" + new Date().getDate();\r\n  loadsheets = []\r\n\r\n  @ViewChild(DataTableDirective, { static: false })\r\n  dtElement: DataTableDirective;\r\n  isDtInitialized: boolean = false\r\n  dtTrigger: Subject<any> = new Subject();\r\n\r\n  constructor(private ordersService: OrdersService, private toastService: ToasterService, private ls: LocalStorageService) {\r\n    this.dtOptions = {\r\n      pagingType: 'simple_numbers'\r\n    };\r\n  }\r\n\r\n  ngOnInit(): void {\r\n    this.getData();\r\n  }\r\n\r\n  routeToPdf(mod, sheet) {\r\n    if (mod == \"ls\")\r\n      window.open(`${environment.apiDomain}/LoadSheetDataPdf/${sheet.id}/${sheet.salesman_id}/${sheet.date}`, \"_blank\");\r\n    else if (mod == \"bs\")\r\n      window.open(`${environment.apiDomain}/BookingSheetPdf?emp=${sheet.salesman_id}&date=${sheet.date}&loadId=${sheet.id}`, \"_blank\");\r\n    else if (mod == \"bills\")\r\n      window.open(`${environment.apiDomain}/GetAllBillsDetail?type=bill&emp=${sheet.salesman_id}&date=${sheet.date}&dist_id=${this.ls.getItem(\"distributor\").id}&size=A4&status=processed&loadId=${sheet.id}`, \"_blank\");\r\n    else if (mod == \"dsr\")\r\n      window.open(`${environment.apiDomain}/pdfDSRNew/${sheet.dsrId}`, \"_blank\");\r\n  }\r\n\r\n  getData() {\r\n    this.loading = true;\r\n\r\n    // TO destroy\r\n    if (this.isDtInitialized) {\r\n      this.dtElement.dtInstance.then((dtInstance: DataTables.Api) => {\r\n        dtInstance.destroy();\r\n      });\r\n      this.isDtInitialized = false;\r\n    }\r\n\r\n    this.ordersService.getCompletedOrdersLoadsheets(this.date).subscribe(res => {\r\n      this.loadsheets = res;\r\n      debugger;\r\n      if (!this.isDtInitialized) {\r\n        this.isDtInitialized = true\r\n        this.dtTrigger.next();\r\n      }\r\n      this.loading = false;\r\n    });\r\n  }\r\n\r\n}\r\n","<div class=\"container\">\r\n\r\n    <div class=\"row mt-2 mb-2\">\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <h2 class=\"_head01\">Orders <span> Management</span></h2>\r\n        </div>\r\n\r\n        <div class=\"col-lg-6 col-md-6 col-sm-6\">\r\n            <ol class=\"breadcrumb\">\r\n                <li><a href=\"#\"><span>Orders</span></a></li>\r\n                <li><span>List</span></li>\r\n            </ol>\r\n        </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n      <div class=\"col-lg-12\">\r\n        <div class=\"header-tabs\">\r\n          <div class=\"Product-Filter\">\r\n            <div class=\"row\">\r\n              <div class=\"col-12\">\r\n                <div class=\"CL-Product\">\r\n                  <input placeholder=\"Start Date\" type=\"text\" onfocus=\"(this.type = 'date')\" id=\"date\"\r\n                    class=\"form-control pad-date\" (change)=\"getData()\" [(ngModel)]=\"date\">\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <div class=\"clearfix\"></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row\">\r\n        <div class=\"col-md-12\">\r\n            <div class=\"card\">\r\n                <div class=\"header\">\r\n                    <h2>Completed <span> Orders</span>\r\n                        <div class=\"_list-total\">{{ loadsheets.length }}</div>\r\n                    </h2>\r\n                </div>\r\n                <div class=\"body\">\r\n                  <table [style.display]=\"loading ? 'none' : ''\" [dtTrigger]=\"dtTrigger\" datatable [dtOptions]=\"dtOptions\" class=\"table table-hover dt-responsive nowrap\"\r\n                    id=\"example\" style=\"width:100%\">\r\n                        <thead>\r\n                            <tr>\r\n                                <th>Load ID</th>\r\n                                <th>Salesman</th>\r\n                                <!-- <th>Order Booker(s)</th>\r\n                                <th>Orders</th> -->\r\n                                <th>Sales Amount</th>\r\n                                <th>Action</th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr *ngFor=\"let sheet of loadsheets\">\r\n                                <td>{{ sheet.id }}</td>\r\n                                <td>{{ sheet.salesman }}</td>\r\n                                <!-- <td>{{ sheet.order_bookers }}</td>\r\n                                <td>{{ sheet.total_orders }}</td> -->\r\n                                <td>Rs. {{ sheet.total_net_sale }}</td>\r\n                                <td>\r\n                                    <button (click)=\"routeToPdf('ls', sheet)\" class=\"btn btn-default mb-0\">Load Sheet</button>\r\n                                    <!-- <button (click)=\"routeToPdf('bs', sheet)\" class=\"btn btn-default mb-0\">BS</button> -->\r\n                                    <button (click)=\"routeToPdf('bills', sheet)\" class=\"btn btn-default mb-0\">Bills</button>\r\n                                    <button (click)=\"routeToPdf('dsr', sheet)\" class=\"btn btn-default mb-0\">DSR</button>\r\n                                </td>\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n                    <div [style.display]=\"!loading ? 'none' : ''\" class=\"col-md-12\">\r\n                      <app-loader-white></app-loader-white>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</div>\r\n","import { Injectable } from '@angular/core';\r\n\r\n@Injectable()\r\nexport class SpotSaleService {\r\n\r\n    constructor() { }\r\n\r\n    setSpotSaleOrderContent(selectedRetailer: any, selectedEmployee: any, distributorId: number): any {\r\n        const order = {\r\n            employee_id: selectedEmployee.employee_id, // Selected Employee\r\n            retailer_id: selectedRetailer.retailer_id, // Selected Retailer\r\n            within_radius: 0,\r\n            status: '',\r\n            status_code: 0,\r\n            order_total: 0,\r\n            ttl_qty_sold: 0,\r\n            ttl_products_sold: 0,\r\n            remarks: '',\r\n            booking_region: selectedEmployee.region_id,\r\n            booking_area: selectedEmployee.area_id,\r\n            booking_territory: selectedEmployee.territory_id,\r\n            invoice_number: '',\r\n            freight_charges: 0,\r\n            booking_zone: 0,\r\n            booking_locality_id: selectedRetailer.locality_id,\r\n            booking_neighbourhood_id: selectedRetailer.neighbourhood_id,\r\n            sales_man_id: 0,\r\n            spot_sale: 1,\r\n            counter_sale: 0,\r\n            invoice_date: '',\r\n            order_type: 'spot',\r\n            distributor_id: distributorId,\r\n            region_id: selectedEmployee.region_id, // Selected Employee\r\n            recovery: 0,\r\n            recovered: 0,\r\n            area_id: selectedEmployee.area_id,  // Selected Employee\r\n            assigned_route_id: selectedRetailer.route_id, // Selected Route\r\n            territory_id: selectedEmployee.territory_id, // Selected Employee\r\n            booked_order_value: 0,\r\n            booked_total_qty: 0,\r\n            booked_total_skus: 0,\r\n            gross_sale_amount: 0,\r\n            total_retail_price: 0,\r\n            total_tax_amount: 0,\r\n            total_amount_after_tax: 0,\r\n            total_discount: 0,\r\n            payment: {},\r\n            items: [],\r\n            returned_items: []\r\n        };\r\n        return order;\r\n    }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { OrdersComponent } from './orders.component';\r\nimport { OrdersListComponent } from './components/orders-list/orders-list.component';\r\nimport { OrdersListDetailsComponent } from './components/orders-list-details/orders-list-details.component';\r\nimport { CreateDispatchedComponent } from './components/create-dispatched/create-dispatched.component';\r\nimport { OrderExecutionListComponent } from './components/execution-list/execution-list.component';\r\nimport { ExecuteOrderComponent } from './components/execute-order/execute-order.component';\r\nimport { CompletedOrdersComponent } from './components/completed-orders/completed-orders.component';\r\nimport { CounterSaleComponent } from './components/counter-sale/counter-sale.component';\r\nimport { BookingVsExecutionComponent } from './components/booking-vs-execution/booking-vs-execution.component';\r\nimport { CompletedOrdersDetailComponent } from './components/completed-orders-detail/completed-orders-detail.component';\r\nimport { OrderDispatchedComponent } from './components/order-dispatched/order-dispatched.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: OrdersComponent,\r\n    children: [\r\n      {\r\n        path: '',\r\n        pathMatch: 'full',\r\n        component: OrdersListComponent\r\n      },\r\n      {\r\n        path: 'order-list-details/:employeeId/:date',\r\n        pathMatch: 'full',\r\n        component: OrdersListDetailsComponent\r\n      },\r\n      {\r\n        path: 'dispatch-orders',\r\n        pathMatch: 'full',\r\n        component: CreateDispatchedComponent\r\n      },\r\n      {\r\n        path: 'dispatch/:assignId/:saleManId/:date',\r\n        pathMatch: 'full',\r\n        component: OrderDispatchedComponent\r\n      },\r\n      {\r\n        path: 'execution-list',\r\n        pathMatch: 'full',\r\n        component: OrderExecutionListComponent\r\n      },\r\n      {\r\n        path: 'execute-order/:saleManId/:date/:loadId',\r\n        pathMatch: 'full',\r\n        component: ExecuteOrderComponent\r\n      },\r\n      {\r\n        path: 'completed-orders',\r\n        pathMatch: 'full',\r\n        component: CompletedOrdersDetailComponent\r\n      },\r\n      {\r\n        path: 'completed-orders/:id',\r\n        pathMatch: 'full',\r\n        component: CompletedOrdersDetailComponent,\r\n      },\r\n      {\r\n        path: 'counter-sale',\r\n        pathMatch: 'full',\r\n        component: CounterSaleComponent\r\n      },\r\n      {\r\n        path: 'booking-vs-execution',\r\n        pathMatch: 'full',\r\n        component: BookingVsExecutionComponent\r\n      },\r\n    ]\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class OrdersRoutingModule { }\r\n"],"sourceRoot":"webpack:///"}