
<div class="container mx-auto px-4" *ngIf="!loading">
  <div *ngIf="distributor" class="w-full">
    <div class="pt-[15px] pr-0 pb-[15px]">
      <div class="flex items-center">
      <img
        class="w-[38px] h-[38px] border border-solid border-primary dark:border-neutral-600 bg-neutral-100 dark:bg-neutral-700 p-[1px] rounded-full float-left mr-[10px]"
        onError="this.src='assets/images/avatar.svg'"
        [src]="
          distributor.distributor_image
            ? distributor.distributor_image
            : 'assets/images/avatar.svg'
        "
        alt=""
      />
      <h2 class="text-[22px] pt-[7px] mb-[10px] mt-0 font-primary font-medium text-neutral-800 dark:text-gray-400">
        Good Morning, {{ distributor.distributor_name }}   
      </h2>
      </div>
      <p class="m-0 block font-primary text-neutral-500 dark:text-gray-400">
        Here’s what’s happening at
        <strong class="font-medium text-neutral-900 dark:text-gray-400">{{
          distributor.distributor_name
        }}.</strong>
      </p>
    </div>
  </div>

  <div *ngIf="false" class="w-full">
    <div class="pb-[15px]">
      <!-- Primary Alert -->
      <div
        class="relative flex items-center justify-between p-4 mb-4 rounded-md border border-blue-300 bg-blue-50 text-blue-800"
        role="alert"
      >
        <div>
          <strong class="font-semibold">Holy guacamole!</strong>
          You should check in on some of those fields below.
        </div>
        <div class="flex items-center space-x-2">
          <button class="bg-blue-600 text-white text-sm px-3 py-1 rounded-md hover:bg-blue-700">
            Open Page
          </button>
          <button
            type="button"
            class="text-blue-800 text-xl leading-none hover:text-blue-900"
            aria-label="Close"
          >
            &times;
          </button>
        </div>
      </div>
  
      <!-- Secondary Alert -->
      <div
        class="relative flex items-center justify-between p-4 mb-4 rounded-md border border-gray-300 bg-gray-100 text-gray-800"
        role="alert"
      >
        <div>
          <strong class="font-semibold">Holy guacamole!</strong>
          You should check in on some of those fields below.
          <a href="#" class="ml-2 underline hover:text-gray-900">Open Page</a>
        </div>
        <button
          type="button"
          class="text-gray-800 text-xl leading-none hover:text-gray-900"
          aria-label="Close"
        >
          &times;
        </button>
      </div>
  
      <!-- Danger Alert -->
      <div
        class="relative flex items-center justify-between p-4 mb-4 rounded-md border border-red-300 bg-red-50 text-red-800"
        role="alert"
      >
        <div>
          <strong class="font-semibold">Holy guacamole!</strong>
          You should check in on some of those fields below.
        </div>
        <button
          type="button"
          class="text-red-800 text-xl leading-none hover:text-red-900"
          aria-label="Close"
        >
          &times;
        </button>
      </div>
    </div>
  </div>

  <div class="grid grid-cols-2 gap-4">
    <div>
      <div class="bg-white dark:bg-[#1f1f1f] p-4 rounded-lg relative shadow-[0_0_5px_#0000001a] dark:shadow-[0_0_5px_rgba(255,255,255,0.05)]">
        <div class="bg-[url('/assets/images/kpi-achive-img.jpg')] bg-no-repeat bg-[position:bottom_right]">
          <h2 class="text-[18px] pt-4 mb-4 block">
            Today's <span class="text-[#0038ba] font-semibold">Booking</span>
          </h2>
      
          <div class="border-b border-[#e1e1e1] pb-1 text-[35px] font-normal leading-none text-[#282828] font-[Rationale] relative">
            <span class="text-[#0038ba] text-[16px] align-top pr-1">Rs.</span>
            {{ homeReport.today_sale | decimal }}
          </div>
        </div>
      
        <div class="grid grid-cols-4 gap-2 mt-3">
          <div class="text-[16px] text-[#282828] leading-tight">
            Pending Sale
            <span class="block text-[24px] font-[Rationale]">
              <small class="text-[#0038ba] text-[14px] align-top pr-1">Rs.</small>
              {{ homeReport.pending_sale | decimal }}
            </span>
          </div>
      
          <div class="text-[16px] text-[#282828] leading-tight">
            Spot Sale
            <span class="block text-[24px] font-[Rationale]">
              <small class="text-[#0038ba] text-[14px] align-top pr-1">Rs.</small>
              {{ homeReport.spot_sale | decimal }}
            </span>
          </div>
      
          <div class="text-[16px] text-[#282828] leading-tight">
            Counter Sale
            <span class="block text-[24px] font-[Rationale]">
              <small class="text-[#0038ba] text-[14px] align-top pr-1">Rs.</small>
              {{ homeReport.counter_sale | decimal }}
            </span>
          </div>
      
          <div class="text-[16px] text-[#282828] leading-tight">
            Net Sale
            <span class="block text-[24px] font-[Rationale]">
              <small class="text-[#0038ba] text-[14px] align-top pr-1">Rs.</small>
              {{
                homeReport.pending_sale +
                homeReport.spot_sale +
                homeReport.counter_sale | decimal
              }}
            </span>
          </div>
        </div>
      </div>
      
    </div>
    <div>
      <div class="bg-white dark:bg-[#1f1f1f] p-4 rounded-lg relative shadow-[0_0_5px_#0000001a] dark:shadow-[0_0_5px_rgba(255,255,255,0.05)]">
        
        <div
          class="bg-[url('/assets/images/kpi-achive-img.jpg')] bg-no-repeat bg-[position:bottom_right]"
        >
          <h2 class="text-[18px] pt-4 mb-4 block">
            Monthly <span class="text-[#0038ba] font-semibold">Sale Trends</span>
          </h2>
      
          <div
            class="border-b border-[#e1e1e1] pb-1 text-[35px] font-normal leading-none text-[#282828] font-[Rationale] relative"
          >
            <span class="text-[#0038ba] text-[16px] align-top pr-1">Rs.</span>
            {{ homeReportMonthly?.monthly_sale | decimal }}
          </div>
        </div>
      
        <div class="grid grid-cols-3 gap-2 mt-3">
          <div class="text-[16px] text-[#282828] leading-tight">
            Pending Sale
            <span class="block text-[24px] font-[Rationale]">
              <small class="text-[#0038ba] text-[14px] align-top pr-1">Rs.</small>
              {{ homeReportMonthly?.pending_sale | decimal }}
            </span>
          </div>
      
          <div class="text-[16px] text-[#282828] leading-tight">
            Spot Sale
            <span class="block text-[24px] font-[Rationale]">
              <small class="text-[#0038ba] text-[14px] align-top pr-1">Rs.</small>
              {{ homeReportMonthly?.spot_sale | decimal }}
            </span>
          </div>
      
          <div class="text-[16px] text-[#282828] leading-tight">
            Counter Sale
            <span class="block text-[24px] font-[Rationale]">
              <small class="text-[#0038ba] text-[14px] align-top pr-1">Rs.</small>
              {{ homeReportMonthly?.counter_sale | decimal }}
            </span>
          </div>
        </div> 
      
      </div>
    </div>
  </div>
  


  
</div>


<!-- <div *ngIf="false" class="row">
  <div class="col-12 PB-15">
    <div class="alert alert-primary alert-dismissible fade show" role="alert">
      <strong>Holy guacamole!</strong> You should check in on some of those
      fields below.
      <button class="btn btn-primary ml-2">Open Page</button>
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div
      class="alert alert-secondary alert-dismissible fade show"
      role="alert"
    >
      <strong>Holy guacamole!</strong> You should check in on some of those
      fields below.
      <a class="ml-2">Open Page</a>
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
      <strong>Holy guacamole!</strong> You should check in on some of those
      fields below.
      <button
        type="button"
        class="close"
        data-dismiss="alert"
        aria-label="Close"
      >
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
  </div>
</div> -->

<div class="container mt-0" *ngIf="!loading">
 


  <div class="row">
    <div class="col-6">
      <div class="card total-sale">
        <div class="row">
          <div class="col-12">
            <div class="row">
              <div
                class="col-12 position-relative"
                style="
                  background-image: url(assets/images/kpi-achive-img.jpg);
                  background-position: bottom right;
                  background-repeat: no-repeat;
                "
              >
                <h2 class="card-heading">Today's <span>Booking</span></h2>
                <div
                  class="total-amount"
                  style="border-bottom: solid 1px #e1e1e1"
                >
                  <span>Rs.</span> {{ homeReport.today_sale | decimal }}
                </div>
              </div>
              <div class="col unit-v pr-0">
                Pending Sale<span
                  ><small>Rs.</small> {{ homeReport.pending_sale | decimal }}
                </span>
              </div>
              <div class="col unit-v pr-0">
                Spot Sale<span
                  ><small>Rs.</small> {{ homeReport.spot_sale | decimal }}</span
                >
              </div>
              <div class="col unit-v pr-0">
                Counter Sale<span
                  ><small>Rs.</small
                  >{{ homeReport.counter_sale | decimal }}</span
                >
              </div>
              <div class="col unit-v pr-0">
                Net Sale<span
                  ><small>Rs.</small>
                  {{
                    homeReport.pending_sale +
                      homeReport.spot_sale +
                      homeReport.counter_sale | decimal
                  }}</span
                >
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="col-6">
      <div class="card total-sale">
        <div class="row">
          <div class="col-12">
            <div class="row">
              <div
                class="col-12 position-relative"
                style="
                  background-image: url(assets/images/kpi-achive-img.jpg);
                  background-position: bottom right;
                  background-repeat: no-repeat;
                "
              >
                <h2 class="card-heading">Monthly <span>Sale Trends</span></h2>
                <div
                  class="total-amount"
                  style="border-bottom: solid 1px #e1e1e1"
                >
                  <span>Rs.</span>
                  {{ homeReportMonthly?.monthly_sale | decimal }}
                </div>
              </div>
              <div class="col unit-v pr-0">
                Pending Sale<span
                  ><small>Rs.</small>
                  {{ homeReportMonthly?.pending_sale | decimal }}
                </span>
              </div>
              <div class="col unit-v pr-0">
                Spot Sale<span
                  ><small>Rs.</small>
                  {{ homeReportMonthly?.spot_sale | decimal }}</span
                >
              </div>
              <div class="col unit-v pr-0">
                Counter Sale<span
                  ><small>Rs.</small
                  >{{ homeReportMonthly?.counter_sale | decimal }}</span
                >
              </div>
              <!-- <div class="col unit-v pr-0">Net Sale<span><small>Rs.</small> {{(homeReportMonthly?.pending_sale + homeReportMonthly?.spot_sale + homeReportMonthly?.counter_sale) | decimal }}</span></div> -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="seabinReport">
    <div class="row">
      <div class="col-md-6">
        <div class="card mt-0" style="height: 85px">
          <h4>Current <span> Stock</span></h4>
          <h2 class="digit">
            <span style="font-size: 22px; margin-right: 30px"
              ><small>QTY:</small>
              {{ homeReportMonthly?.distributor_sellable_qty | decimal }}
              CTNs</span
            >
            <small>Rs.</small>
            {{ homeReportMonthly?.distributor_gross_value | decimal }}
          </h2>
        </div>
      </div>
      <div class="col-md-6">
        <div class="card mt-0" style="height: 85px">
          <h4>Market <span>Credit</span></h4>
          <h2 class="digit">
            <small>Rs.</small>
            {{ homeReportMonthly?.retailer_credits | decimal }}
          </h2>
        </div>
      </div>
    </div>
  </div>

  <!-- <div class="seabinReport">
        <div class="row">
            <div class="col-md-4">
                <div class="card mt-0">
                    <h4>Total <span>Booking</span></h4>
                    <h2 class="digit"><small>Rs.</small> 45,000</h2>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card mt-0">
                    <h4>New <span>Orders</span></h4>
                    <h2 class="digit"><small>Rs.</small>1450</h2>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card mt-0">
                    <h4>Today <span>Sale</span></h4>
                    <h2 class="digit"><small>Rs.</small> {{homeReport.today_sale}}</h2>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card mt-0">
                    <h4>Counter <span>Sale</span></h4>
                    <h2 class="digit"><small>Rs.</small> {{homeReport.counter_sale}}</h2>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card mt-0">
                    <h4>Pending <span>Sale</span></h4>
                    <h2 class="digit"><small>Rs.</small> {{homeReport.pending_sale}}</h2>
                </div>
            </div>
            <div class="col-md-4">
                <div class="card mt-0">
                    <h4>Spot <span>Sale</span></h4>
                    <h2 class="digit"><small>Rs.</small> {{homeReport.spot_sale}}</h2>
                </div>
            </div>
        </div>
    </div> -->

  <div class="row">
    <div class="col-lg-12 PB-10">
      <h2 class="_head01 HomeHead">Top 5 <span>Booked Products</span></h2>
    </div>
    <div class="col-md-12">
      <div class="row pro-list">
        <div
          class="col"
          *ngFor="let product of homeReport.products_sold; let i = index"
        >
          <div class="product-card" *ngIf="i < 5">
            <h3>{{ product.item_name }}</h3>
            <div class="PR-Thumb"><img [src]="product.thumbnail" alt="" /></div>
            <div class="row pr-st">
              <div class="col-12 rev-pr">
                <span
                  ><small>Rs. </small
                  >{{ product.item_trade_price | decimal }}</span
                >
              </div>
              <div class="col-6">
                <span
                  >{{ product.ctns_booked }}
                  <small>{{ product.unit_name }}</small></span
                >Booked
              </div>
              <div class="col-6">
                <span
                  >{{ product.available_qty }}
                  <small>{{ product.unit_name }}</small></span
                >Available
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="row m-0">
    <div class="col-lg-12 p-0">
      <h2 class="_head01 HomeHead">Shortcuts <span></span></h2>
    </div>

    <div class="col-12 h_dash">
      <div class="row">
        <div class="col-4">
          <a [routerLink]="['/orders', 'counter-sale']"
            ><img src="assets/images/add-stock-01.svg" alt="" />
            <h2 class="HD-title">
              Add <span class="f-light"> Counter Sale</span>
            </h2>
          </a>
        </div>
        <div class="col-4">
          <a [routerLink]="['/inventory', 'distributor-purchase']"
            ><img src="assets/images/add-order.svg" alt="" />
            <h2 class="HD-title">
              Add<span class="f-light"> Stock Purchase</span>
            </h2>
          </a>
        </div>
        <div class="col-4">
          <a [routerLink]="['/orders']"
            ><img src="assets/images/dispatch-order.svg" alt="" />
            <h2 class="HD-title">View<span class="f-light">Booking</span></h2>
          </a>
        </div>
      </div>
    </div>
  </div>
</div>

<div *ngIf="loading" class="flex justify-center items-center p-8 h-[calc(100vh-62px)]">
  <app-loader-white></app-loader-white>
</div>
