<!-- <div id="content-wrapper"> -->

<!-- SIDE BAR -->
<div
  id="blureEffct-1"
  id="product-cl-sec"
  [ngClass]="showSideBar ? 'active' : ''"
>
  <div class="overlay-blure"></div>
  <a href="#" id="pl-close" class="close-btn-pl"></a>
  <div class="pro-header-text">Orders <span>List</span></div>
  <div class="pc-cartlist">
    <div class="overflow-plist">
      <div class="plist-content">
        <div class="_left-filter pt-0">
          <div class="container">
            <div class="row">
              <div class="col-12">
                <div class="card top_border p-15">
                  <table
                    class="table table-hover nowrap AddProductTable"
                    id="example2"
                    style="width: 100%"
                  >
                    <thead>
                      <tr>
                        <th>Id</th>
                        <th style="width: 250px">Retailer Name</th>
                        <th>BKD QTY</th>
                        <!-- <th>Stock QTY</th> -->
                        <th>Actions</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr *ngFor="let order of orders">
                        <td>{{ order.retailer_id }}</td>
                        <td style="width: 250px">
                          {{ order.retailer_name }}
                        </td>
                        <td>
                          <input
                            type="text"
                            class="form-control value_input"
                            placeholder="0"
                            [(ngModel)]="order.booked_qty"
                            (keydown)="isNumber($event, 'quantity')"
                          />
                        </td>
                        <!-- <td>{{ order.booked_qty }}</td> -->
                        <td>
                          <button
                            class="btn btn-default mb-0"
                            (click)="onUpdateLoadOrderItemAllocation(order)"
                          >
                            Update
                          </button>
                        </td>
                      </tr>
                    </tbody>
                  </table>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="_cl-bottom">
    <!-- <button type="submit" class="btn btn-primary mr-2">Update</button> -->
    <button id="pl-close" type="submit" class="btn btn-cancel mr-2">
      Close
    </button>
  </div>
</div>
<!-- END SIDEBAR -->

<div id="blureEffct" class="container">
  <div class="row mt-2 mb-3">
    <div class="col-lg-6 col-md-6 col-sm-6">
      <h2 class="_head01">Bulk <span>Dispatch Update</span></h2>
    </div>
    <div class="col-lg-6 col-md-6 col-sm-6">
      <ol class="breadcrumb">
        <li>
          <a href="#"><span>Bulk Dispatch</span></a>
        </li>
        <li><span>Update</span></li>
      </ol>
    </div>
  </div>

  <div class="row">
    <div class="col-lg-12">
      <div class="Product-Filter pt-0 pb-0">
        <div class="row">
          <div class="col-md-4 label-text pr-0">
            Distributor: <strong>Nadeem chodhry Distributor</strong>
          </div>
          <div class="col-md-3 label-text">
            Order Booker: <strong>Usama Shahid</strong>
          </div>
          <div class="col label-text">Route: <strong>Route 2</strong></div>
          <div class="col label-text">Date: <strong>12/13/2021</strong></div>
        </div>
        <div class="clearfix"></div>
      </div>
    </div>
  </div>

  <div class="row">
    <div class="col-md-12">
      <div class="card">
        <div class="header">
          <h2>Products <span>List</span></h2>
        </div>
        <div class="body">
          <table
            datatable
            [dtOptions]="dtOptions"
            class="table table-hover dt-responsive nowrap"
            id="example"
            style="width: 100%"
          >
            <thead>
              <tr>
                <th>SKU</th>
                <th>Name</th>
                <th>Available Stock</th>
                <th>Allocated Stock</th>
                <th>Available QTY.</th>
                <th>Curernt Load Booked QTY.</th>
                <th>Curernt Load Allocated QTY.</th>
                <!-- Input field -->
                <th>ACTIONS</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of stockAllocation; let ind">
                <td>{{ item.item_sku }}</td>
                <td>{{ item.item_main_description }}</td>
                <td>{{ item.availble_stock_qty }}</td>
                <td>{{ item.allocated_stock_qty }}</td>
                <td>{{ item.allocated_stock_qty }}</td>
                <td>{{ item.current_load_booked_qty }}</td>
                <td>
                  <input
                    type="number"
                    [id]="item.item_name"
                    [name]="item.item_name"
                    [(ngModel)]="item.current_load_allocated_qty"
                    (keydown)="isNumber($event, 'quantity')"
                    class="form-control value_input"
                    placeholder="0"
                  />
                </td>
                <td *ngIf="item.current_load_booked_qty > 0">
                  <button
                    type="button"
                    id="productlist01"
                    class="btn smBTN btn-line mb-0"
                    (click)="onShowViewOrders($event, item.pref_id)"
                  >
                    View Orders
                  </button>
                  <button type="submit" class="btn smBTN red-bg mb-0">
                    Cancel All
                  </button>
                </td>
                <td *ngIf="item.current_load_booked_qty == 0">
                  <button
                    type="button"
                    class="btn smBTN btn-line mb-0"
                    (click)="onExtraLoadItemAllocation(item)"
                  >
                    Update
                  </button>
                  <!-- <button
                    type="submit"
                    class="btn smBTN red-bg mb-0"
                    *ngIf="item.current_load_allocated_qty > 0"
                  >
                    Update
                  </button> -->
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- </div> -->
